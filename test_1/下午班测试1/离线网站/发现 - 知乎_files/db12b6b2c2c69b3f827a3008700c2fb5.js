PLOVR_MODULE_INFO={"sign":["app_core"],"app":["app_core","sign"],"app_core":[],"rich_text_editor":["app"]};
PLOVR_MODULE_URIS={"sign":"http://static.zhihu.com/static/compiled/sign.js","app":"http://static.zhihu.com/static/compiled/app.js","app_core":"http://static.zhihu.com/static/compiled/app_core.js","rich_text_editor":"http://static.zhihu.com/static/compiled/rich_text_editor.js"};
PLOVR_MODULE_USE_DEBUG_MODE=false;
zhihu={};(function(a){with(a){
a.f=function(b){throw b;},a.i=void 0,a.j=!0,a.k=null,a.m=!1,a.aa=function(){return function(b){return b}},a.ba=function(){return function(){}},a.ca=function(b){return function(c){this[b]=c}},a.p=function(b){return function(){return this[b]}},a.s=function(b){return function(){return b}},a.t=void 0,a.da=[],a.u=function(b){return function(){return da[b].apply(this,arguments)}},a.ea=a.ea||{},a.fa=this,a.ga=function(b){for(var b=b.split("."),c=fa,d;d=b.shift();)if(c[d]!=k)c=c[d];else return k;return c},
a.ha=function(){},a.ia=function(b){b.O=function(){return b.pj?b.pj:b.pj=new b}},a.ka=function(b){var c=typeof b;if("object"==c)if(b){if(b instanceof Array)return"array";if(b instanceof Object)return c;var d=Object.prototype.toString.call(b);if("[object Window]"==d)return"object";if("[object Array]"==d||"number"==typeof b.length&&"undefined"!=typeof b.splice&&"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("splice"))return"array";if("[object Function]"==d||"undefined"!=typeof b.call&&
"undefined"!=typeof b.propertyIsEnumerable&&!b.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==c&&"undefined"==typeof b.call)return"object";return c},a.la=function(b){return b!==i},a.ma=function(b){return"array"==ka(b)},a.na=function(b){var c=ka(b);return"array"==c||"object"==c&&"number"==typeof b.length},a.oa=function(b){return"string"==typeof b},a.pa=function(b){return"number"==typeof b},a.qa=function(b){return"function"==ka(b)},a.ra=function(b){var c=typeof b;
return"object"==c&&b!=k||"function"==c},a.ua=function(b){return b[sa]||(b[sa]=++ta)},a.sa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),a.ta=0,a.va=function(b,c,d){return b.call.apply(b.bind,arguments)},a.wa=function(b,c,d){b||f(Error());if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,e);return b.apply(c,d)}}return function(){return b.apply(c,arguments)}},a.v=function(b,
c,d){v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?va:wa;return v.apply(k,arguments)},a.xa=function(b,c){var d=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,d);return b.apply(this,c)}},a.ya=function(b,c){for(var d in c)b[d]=c[d]},a.za=Date.now||function(){return+new Date},a.Ba=function(b){if(fa.execScript)fa.execScript(b,"JavaScript");else if(fa.eval)if(Aa==k&&(fa.eval("var _et_ = 1;"),
"undefined"!=typeof fa._et_?(delete fa._et_,Aa=j):Aa=m),Aa)fa.eval(b);else{var c=fa.document,d=c.createElement("script");d.type="text/javascript";d.defer=m;d.appendChild(c.createTextNode(b));c.body.appendChild(d);c.body.removeChild(d)}else f(Error("goog.globalEval not available"))},a.Aa=k,a.x=function(b,c){var d=c||{},e;for(e in d)var g=(""+d[e]).replace(/\$/g,"$$$$"),b=b.replace(RegExp("\\{\\$"+e+"\\}","gi"),g);return b},a.Ca=function(b,c){var d=b.split("."),e=fa;!(d[0]in e)&&e.execScript&&e.execScript("var "+
d[0]);for(var g;d.length&&(g=d.shift());)!d.length&&la(c)?e[g]=c:e=e[g]?e[g]:e[g]={}},a.y=function(b,c){function d(){}d.prototype=c.prototype;b.n=c.prototype;b.prototype=new d;b.prototype.constructor=b};a.Da=function(b){Error.captureStackTrace?Error.captureStackTrace(this,Da):this.stack=Error().stack||"";b&&(this.message=String(b))};y(Da,Error);Da.prototype.name="CustomError";a.Ea=function(b,c){return 0==b.lastIndexOf(c,0)},a.Fa=function(b,c){var d=b.length-c.length;return 0<=d&&b.indexOf(c,d)==d},a.Ga=function(b,c){for(var d=1;d<arguments.length;d++)var e=String(arguments[d]).replace(/\$/g,"$$$$"),b=b.replace(/\%s/,e);return b},a.Ha=function(b){return/^[\s\xa0]*$/.test(b)},a.Ia=function(b){return b.replace(/(\r\n|\r|\n)+/g," ")},a.Ka=function(b){return b.replace(/(\r\n|\r|\n)/g,"\n")},a.La=function(b){return b.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,
"")},a.Ma=function(b){return b.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},a.Oa=function(b){return b.replace(/[\s\xa0]+$/,"")},a.Pa=function(b){return b.replace(/(\r\n|\r|\n)/g,"<br>")},a.Wa=function(b){if(!Qa.test(b))return b;-1!=b.indexOf("&")&&(b=b.replace(Sa,"&amp;"));-1!=b.indexOf("<")&&(b=b.replace(Ta,"&lt;"));-1!=b.indexOf(">")&&(b=b.replace(Ua,"&gt;"));-1!=b.indexOf('"')&&(b=b.replace(Va,"&quot;"));return b},a.Sa=/&/g,a.Ta=/</g,a.Ua=/>/g,a.Va=/\"/g,a.Qa=/[&<>\"]/,a.Za=function(b){if(Xa(b,"&"))if("document"in
fa)var c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},d=document.createElement("div"),b=b.replace(Ya,function(b,g){var h=c[b];if(h)return h;if("#"==g.charAt(0)){var l=Number("0"+g.substr(1));isNaN(l)||(h=String.fromCharCode(l))}h||(d.innerHTML=b+" ",h=d.firstChild.nodeValue.slice(0,-1));return c[b]=h});else b=b.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:if("#"==c.charAt(0)){var d=Number("0"+c.substr(1));
if(!isNaN(d))return String.fromCharCode(d)}return b}});return b},a.Ya=/&([^;\s<&]+);?/g,a.Xa=function(b,c){return-1!=b.indexOf(c)},a.$a=function(b){return String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},a.ab=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^za()).toString(36)},a.bb=function(b,c){for(var d=0,e=Ma(String(b)).split("."),g=Ma(String(c)).split("."),h=Math.max(e.length,g.length),l=0;0==d&&
l<h;l++){var n=e[l]||"",q=g[l]||"",r=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var F=r.exec(n)||["","",""],I=w.exec(q)||["","",""];if(0==F[0].length&&0==I[0].length)break;d=((0==F[1].length?0:parseInt(F[1],10))<(0==I[1].length?0:parseInt(I[1],10))?-1:(0==F[1].length?0:parseInt(F[1],10))>(0==I[1].length?0:parseInt(I[1],10))?1:0)||((0==F[2].length)<(0==I[2].length)?-1:(0==F[2].length)>(0==I[2].length)?1:0)||(F[2]<I[2]?-1:F[2]>I[2]?1:0)}while(0==d)}return d},a.cb=2147483648*Math.random()|
0,a.db=function(){return"goog_"+cb++},a.eb=function(b){return String(b).replace(/\-([a-z])/g,function(b,d){return d.toUpperCase()})};a.z={Qd:function(b){return b[b.length-1]}};z.sb=Array.prototype;z.indexOf=z.sb.indexOf?function(b,c,d){return z.sb.indexOf.call(b,c,d)}:function(b,c,d){d=d==k?0:0>d?Math.max(0,b.length+d):d;if(oa(b))return!oa(c)||1!=c.length?-1:b.indexOf(c,d);for(;d<b.length;d++)if(d in b&&b[d]===c)return d;return-1};
z.lastIndexOf=z.sb.lastIndexOf?function(b,c,d){return z.sb.lastIndexOf.call(b,c,d==k?b.length-1:d)}:function(b,c,d){d=d==k?b.length-1:d;0>d&&(d=Math.max(0,b.length+d));if(oa(b))return!oa(c)||1!=c.length?-1:b.lastIndexOf(c,d);for(;0<=d;d--)if(d in b&&b[d]===c)return d;return-1};z.forEach=z.sb.forEach?function(b,c,d){z.sb.forEach.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)h in g&&c.call(d,g[h],h,b)};
z.DL=function(b,c){for(var d=oa(b)?b.split(""):b,e=b.length-1;0<=e;--e)e in d&&c.call(i,d[e],e,b)};z.filter=z.sb.filter?function(b,c,d){return z.sb.filter.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=[],h=0,l=oa(b)?b.split(""):b,n=0;n<e;n++)if(n in l){var q=l[n];c.call(d,q,n,b)&&(g[h++]=q)}return g};z.map=z.sb.map?function(b,c,d){return z.sb.map.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=Array(e),h=oa(b)?b.split(""):b,l=0;l<e;l++)l in h&&(g[l]=c.call(d,h[l],l,b));return g};
z.reduce=function(b,c,d,e){if(b.reduce)return e?b.reduce(v(c,e),d):b.reduce(c,d);var g=d;z.forEach(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.reduceRight=function(b,c,d,e){if(b.reduceRight)return e?b.reduceRight(v(c,e),d):b.reduceRight(c,d);var g=d;z.DL(b,function(d,l){g=c.call(e,g,d,l,b)});return g};z.some=z.sb.some?function(b,c,d){return z.sb.some.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return j;return m};
z.every=z.sb.every?function(b,c,d){return z.sb.every.call(b,c,d)}:function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&!c.call(d,g[h],h,b))return m;return j};z.count=function(b,c,d){var e=0;z.forEach(b,function(b,h,l){c.call(d,b,h,l)&&++e},d);return e};z.find=function(b,c,d){c=z.Vv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Vv=function(b,c,d){for(var e=b.length,g=oa(b)?b.split(""):b,h=0;h<e;h++)if(h in g&&c.call(d,g[h],h,b))return h;return-1};
z.RW=function(b,c,d){c=z.Wv(b,c,d);return 0>c?k:oa(b)?b.charAt(c):b[c]};z.Wv=function(b,c,d){for(var e=oa(b)?b.split(""):b,g=b.length-1;0<=g;g--)if(g in e&&c.call(d,e[g],g,b))return g;return-1};z.contains=function(b,c){return 0<=z.indexOf(b,c)};z.Eb=function(b){return 0==b.length};z.clear=function(b){if(!ma(b))for(var c=b.length-1;0<=c;c--)delete b[c];b.length=0};z.Tr=function(b,c){z.contains(b,c)||b.push(c)};z.In=function(b,c,d){z.splice(b,d,0,c)};
z.lX=function(b,c,d){xa(z.splice,b,d,0).apply(k,c)};z.insertBefore=function(b,c,d){var e;2==arguments.length||0>(e=z.indexOf(b,d))?b.push(c):z.In(b,c,e)};z.remove=function(b,c){var d=z.indexOf(b,c),e;(e=0<=d)&&z.Zy(b,d);return e};z.Zy=function(b,c){return 1==z.sb.splice.call(b,c,1).length};z.qR=function(b,c){var d=z.Vv(b,c,i);return 0<=d?(z.Zy(b,d),j):m};z.concat=function(b){return z.sb.concat.apply(z.sb,arguments)};
z.toArray=function(b){var c=b.length;if(0<c){for(var d=Array(c),e=0;e<c;e++)d[e]=b[e];return d}return[]};z.clone=z.toArray;z.extend=function(b,c){for(var d=1;d<arguments.length;d++){var e=arguments[d],g;if(ma(e)||(g=na(e))&&Object.prototype.hasOwnProperty.call(e,"callee"))b.push.apply(b,e);else if(g)for(var h=b.length,l=e.length,n=0;n<l;n++)b[h+n]=e[n];else b.push(e)}};z.splice=function(b,c,d,e){return z.sb.splice.apply(b,z.slice(arguments,1))};
z.slice=function(b,c,d){return 2>=arguments.length?z.sb.slice.call(b,c):z.sb.slice.call(b,c,d)};z.yo=function(b,c){for(var d=c||b,e={},g=0,h=0;h<b.length;){var l=b[h++],n=ra(l)?"o"+ua(l):(typeof l).charAt(0)+l;Object.prototype.hasOwnProperty.call(e,n)||(e[n]=j,d[g++]=l)}d.length=g};z.vB=function(b,c,d){return z.wB(b,d||z.Li,m,c)};z.lW=function(b,c,d){return z.wB(b,c,j,i,d)};
z.wB=function(b,c,d,e,g){for(var h=0,l=b.length,n;h<l;){var q=h+l>>1,r;r=d?c.call(g,b[q],q,b):c(e,b[q]);0<r?h=q+1:(l=q,n=!r)}return n?h:~h};z.sort=function(b,c){z.sb.sort.call(b,c||z.Li)};z.hY=function(b,c){for(var d=0;d<b.length;d++)b[d]={index:d,value:b[d]};var e=c||z.Li;z.sort(b,function(b,c){return e(b.value,c.value)||b.index-c.index});for(d=0;d<b.length;d++)b[d]=b[d].value};z.fY=function(b,c,d){var e=d||z.Li;z.sort(b,function(b,d){return e(b[c],d[c])})};
z.sX=function(b,c,d){for(var c=c||z.Li,e=1;e<b.length;e++){var g=c(b[e-1],b[e]);if(0<g||0==g&&d)return m}return j};z.equals=function(b,c,d){if(!na(b)||!na(c)||b.length!=c.length)return m;for(var e=b.length,d=d||z.TK,g=0;g<e;g++)if(!d(b[g],c[g]))return m;return j};z.yW=function(b,c,d){return z.equals(b,c,d)};z.zW=function(b,c,d){for(var d=d||z.Li,e=Math.min(b.length,c.length),g=0;g<e;g++){var h=d(b[g],c[g]);if(0!=h)return h}return z.Li(b.length,c.length)};z.Li=function(b,c){return b>c?1:b<c?-1:0};
z.TK=function(b,c){return b===c};z.jW=function(b,c,d){d=z.vB(b,c,d);return 0>d?(z.In(b,c,-(d+1)),j):m};z.kW=function(b,c,d){c=z.vB(b,c,d);return 0<=c?z.Zy(b,c):m};z.sW=function(b,c){for(var d={},e=0;e<b.length;e++){var g=b[e],h=c(g,e,b);la(h)&&(d[h]||(d[h]=[])).push(g)}return d};z.Jt=function(b,c,d){var e={};z.forEach(b,function(g,h){e[c.call(d,g,h,b)]=g});return e};z.repeat=function(b,c){for(var d=[],e=0;e<c;e++)d[e]=b;return d};
z.flatten=function(b){for(var c=[],d=0;d<arguments.length;d++){var e=arguments[d];ma(e)?c.push.apply(c,z.flatten.apply(k,e)):c.push(e)}return c};z.rotate=function(b,c){b.length&&(c%=b.length,0<c?z.sb.unshift.apply(b,b.splice(-c,c)):0>c&&z.sb.push.apply(b,b.splice(0,-c)));return b};z.tY=function(b){if(!arguments.length)return[];for(var c=[],d=0;;d++){for(var e=[],g=0;g<arguments.length;g++){var h=arguments[g];if(d>=h.length)return c;e.push(h[d])}c.push(e)}};
z.sS=function(b){for(var c=Math.random,d=b.length-1;0<d;d--){var e=Math.floor(c()*(d+1)),g=b[d];b[d]=b[e];b[e]=g}};a.fb=void 0,a.gb=void 0,a.hb=void 0,a.ib=void 0,a.jb=void 0,a.kb=void 0,a.lb=void 0,a.mb=void 0,a.nb=function(){return fa.navigator?fa.navigator.userAgent:k},a.ob=function(){return fa.navigator};jb=ib=hb=gb=fb=m;a.pb=void 0;if(pb=nb()){var qb=ob();fb=0==pb.indexOf("Opera");gb=!fb&&-1!=pb.indexOf("MSIE");ib=(hb=!fb&&-1!=pb.indexOf("WebKit"))&&-1!=pb.indexOf("Mobile");jb=!fb&&!hb&&"Gecko"==qb.product}a.rb=fb,a.A=gb,a.B=jb,a.C=hb,a.sb=ib,a.tb=void 0,a.ub=ob();tb=ub&&ub.platform||"";kb=Xa(tb,"Mac");
lb=Xa(tb,"Win");mb=Xa(tb,"Linux");a.vb=!!ob()&&Xa(ob().appVersion||"","X11"),a.wb=function(){var b=fa.document;return b?b.documentMode:i},a.xb=void 0;a:{var yb="",zb;if(rb&&fa.opera)var Ab=fa.opera.version,yb="function"==typeof Ab?Ab():Ab;else if(B?zb=/rv\:([^\);]+)(\)|;)/:A?zb=/MSIE\s+([^\);]+)(\)|;)/:C&&(zb=/WebKit\/(\S+)/),zb)var Bb=zb.exec(nb()),yb=Bb?Bb[1]:"";if(A){var Cb=wb();if(Cb>parseFloat(yb)){xb=String(Cb);break a}}xb=yb}
a.Db={},a.D=function(b){return Db[b]||(Db[b]=0<=bb(xb,b))},a.Fb=function(b){return A&&Eb>=b},a.Gb=fa.document,a.Eb=!Gb||!A?i:wb()||("CSS1Compat"==Gb.compatMode?parseInt(xb,10):5);a.Hb=void 0,a.Ib=!A||Fb(9),a.Jb=!B&&!A||A&&Fb(9)||B&&D("1.9.1"),a.Kb=A&&!D("9");a.E={set:function(b,c){b.className=c},get:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},add:function(b,c){var d=E.get(b),e=z.slice(arguments,1),g=d.length+e.length;E.$A(d,e);b.className=d.join(" ");return d.length==g},remove:function(b,c){var d=E.get(b),e=z.slice(arguments,1),g=E.kD(d,e);b.className=g.join(" ");return g.length==d.length-e.length},$A:function(b,c){for(var d=0;d<c.length;d++)z.contains(b,c[d])||b.push(c[d])},kD:function(b,c){return z.filter(b,function(b){return!z.contains(c,
b)})},tH:function(b,c,d){for(var e=E.get(b),g=m,h=0;h<e.length;h++)e[h]==c&&(z.splice(e,h--,1),g=j);g&&(e.push(d),b.className=e.join(" "));return g},qu:function(b,c,d){var e=E.get(b);oa(c)?z.remove(e,c):ma(c)&&(e=E.kD(e,c));oa(d)&&!z.contains(e,d)?e.push(d):ma(d)&&E.$A(e,d);b.className=e.join(" ")},has:function(b,c){return z.contains(E.get(b),c)},enable:function(b,c,d){d?E.add(b,c):E.remove(b,c)},toggle:function(b,c){var d=!E.has(b,c);E.enable(b,c,d);return d}};a.Lb=function(b,c,d){return Math.min(Math.max(b,c),d)};a.Mb=function(b,c){this.x=la(b)?b:0;this.y=la(c)?c:0};Mb.prototype.clone=function(){return new Mb(this.x,this.y)};a.Nb=function(b,c){return new Mb(b.x-c.x,b.y-c.y)};a.Ob=function(b,c){this.width=b;this.height=c},a.Pb=function(b,c){return b==c?j:!b||!c?m:b.width==c.width&&b.height==c.height};t=Ob.prototype;t.clone=function(){return new Ob(this.width,this.height)};t.Eb=function(){return!(this.width*this.height)};t.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};t.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
t.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};a.H={forEach:function(b,c,d){for(var e in b)c.call(d,b[e],e,b)},filter:function(b,c,d){var e={},g;for(g in b)c.call(d,b[g],g,b)&&(e[g]=b[g]);return e},map:function(b,c,d){var e={},g;for(g in b)e[g]=c.call(d,b[g],g,b);return e},some:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return j;return m},every:function(b,c,d){for(var e in b)if(!c.call(d,b[e],e,b))return m;return j},Ra:function(b){var c=0,d;for(d in b)c++;return c},ZW:function(b){for(var c in b)return c},$W:function(b){for(var c in b)return b[c]},
contains:function(b,c){return H.pg(b,c)},Ka:function(b){var c=[],d=0,e;for(e in b)c[d++]=b[e];return c},Cb:function(b){var c=[],d=0,e;for(e in b)c[d++]=e;return c},eX:function(b,c){for(var d=na(c),e=d?c:arguments,d=d?0:1;d<e.length&&!(b=b[e[d]],!la(b));d++);return b},Cd:function(b,c){return c in b},pg:function(b,c){for(var d in b)if(b[d]==c)return j;return m},UC:function(b,c,d){for(var e in b)if(c.call(d,b[e],e,b))return e},br:function(b,c,d){return(c=H.UC(b,c,d))&&b[c]},Eb:function(b){for(var c in b)return m;
return j},clear:function(b){for(var c in b)delete b[c]},remove:function(b,c){var d;(d=c in b)&&delete b[c];return d},add:function(b,c,d){c in b&&f(Error('The object already contains the key "'+c+'"'));H.set(b,c,d)},get:function(b,c,d){return c in b?b[c]:d},set:function(b,c,d){b[c]=d},eY:function(b,c,d){return c in b?b[c]:b[c]=d},clone:function(b){var c={},d;for(d in b)c[d]=b[d];return c},oT:function(b){var c=ka(b);if("object"==c||"array"==c){if(b.clone)return b.clone();var c="array"==c?[]:{},d;for(d in b)c[d]=
H.oT(b[d]);return c}return b},rm:function(b){var c={},d;for(d in b)c[b[d]]=d;return c},NA:"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),extend:function(b,c){for(var d,e,g=1;g<arguments.length;g++){e=arguments[g];for(d in e)b[d]=e[d];for(var h=0;h<H.NA.length;h++)d=H.NA[h],Object.prototype.hasOwnProperty.call(e,d)&&(b[d]=e[d])}},create:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return H.create.apply(k,arguments[0]);c%2&&
f(Error("Uneven number of arguments"));for(var d={},e=0;e<c;e+=2)d[arguments[e]]=arguments[e+1];return d},sh:function(b){var c=arguments.length;if(1==c&&ma(arguments[0]))return H.sh.apply(k,arguments[0]);for(var d={},e=0;e<c;e++)d[arguments[e]]=j;return d},FW:function(b){var c=b;Object.isFrozen&&!Object.isFrozen(b)&&(c=Object.create(b),Object.freeze(c));return c},rX:function(b){return!!Object.isFrozen&&Object.isFrozen(b)}};a.Sb=function(b){return b?new Qb(Rb(b)):Hb||(Hb=new Qb)},a.J=function(b){return oa(b)?document.getElementById(b):b},a.Ub=function(b,c,d){return Tb(document,b,c,d)},a.Vb=function(b,c){var d=c||document;return d.querySelectorAll&&d.querySelector?d.querySelectorAll("."+b):d.getElementsByClassName?d.getElementsByClassName(b):Tb(document,"*",b,c)},a.K=function(b,c){var d=c||document,e=k;return(e=d.querySelectorAll&&d.querySelector?d.querySelector("."+b):Vb(b,c)[0])||k},a.Tb=function(b,c,d,e){b=e||b;c=
c&&"*"!=c?c.toUpperCase():"";if(b.querySelectorAll&&b.querySelector&&(c||d))return b.querySelectorAll(c+(d?"."+d:""));if(d&&b.getElementsByClassName){b=b.getElementsByClassName(d);if(c){for(var e={},g=0,h=0,l;l=b[h];h++)c==l.nodeName&&(e[g++]=l);e.length=g;return e}return b}b=b.getElementsByTagName(c||"*");if(d){e={};for(h=g=0;l=b[h];h++)c=l.className,"function"==typeof c.split&&z.contains(c.split(/\s+/),d)&&(e[g++]=l);e.length=g;return e}return b},a.Xb=function(b,c){H.forEach(c,function(c,e){"style"==
e?b.style.cssText=c:"class"==e?b.className=c:"for"==e?b.htmlFor=c:e in Wb?b.setAttribute(Wb[e],c):Ea(e,"aria-")||Ea(e,"data-")?b.setAttribute(e,c):b[e]=c})},a.Wb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},a.Yb=function(b){b=(b||window).document;b="CSS1Compat"==b.compatMode?b.documentElement:b.body;return new Ob(b.clientWidth,
b.clientHeight)},a.$b=function(b){var c=Zb(b),b=b.parentWindow||b.defaultView;return new Mb(b.pageXOffset||c.scrollLeft,b.pageYOffset||c.scrollTop)},a.Zb=function(b){return!C&&"CSS1Compat"==b.compatMode?b.documentElement:b.body},a.ac=function(b){return b?b.parentWindow||b.defaultView:window},a.L=function(b,c,d){return bc(document,arguments)},a.bc=function(b,c){var d=c[0],e=c[1];if(!Ib&&e&&(e.name||e.type)){d=["<",d];e.name&&d.push(' name="',Wa(e.name),'"');if(e.type){d.push(' type="',Wa(e.type),'"');
var g={};H.extend(g,e);delete g.type;e=g}d.push(">");d=d.join("")}d=b.createElement(d);e&&(oa(e)?d.className=e:ma(e)?E.add.apply(k,[d].concat(e)):Xb(d,e));2<c.length&&cc(b,d,c,2);return d},a.cc=function(b,c,d,e){function g(d){d&&c.appendChild(oa(d)?b.createTextNode(d):d)}for(;e<d.length;e++){var h=d[e];na(h)&&!(ra(h)&&0<h.nodeType)?z.forEach(dc(h)?z.toArray(h):h,g):g(h)}},a.fc=function(b){return ec(document,b)},a.ec=function(b,c){var d=b.createElement("div");A?(d.innerHTML="<br>"+c,d.removeChild(d.firstChild)):
d.innerHTML=c;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(var e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.firstChild);return e},a.gc=function(b){if(1!=b.nodeType)return m;switch(b.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return m}return j},
a.hc=function(b,c){cc(Rb(b),b,arguments,1)},a.ic=function(b){for(var c;c=b.firstChild;)b.removeChild(c)},a.jc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c)},a.kc=function(b,c){c.parentNode&&c.parentNode.insertBefore(b,c.nextSibling)},a.lc=function(b,c,d){b.insertBefore(c,b.childNodes[d]||k)},a.M=function(b){return b&&b.parentNode?b.parentNode.removeChild(b):k},a.mc=function(b,c){var d=c.parentNode;d&&d.replaceChild(b,c)},a.nc=function(b){var c,d=b.parentNode;if(d&&11!=d.nodeType){if(b.removeNode)return b.removeNode(m);
for(;c=b.firstChild;)d.insertBefore(c,b);return M(b)}},a.oc=function(b){return Jb&&b.children!=i?b.children:z.filter(b.childNodes,function(b){return 1==b.nodeType})},a.qc=function(b){return b.firstElementChild!=i?b.firstElementChild:pc(b.firstChild,j)},a.rc=function(b){return b.previousElementSibling!=i?b.previousElementSibling:pc(b.previousSibling,m)},a.pc=function(b,c){for(;b&&1!=b.nodeType;)b=c?b.nextSibling:b.previousSibling;return b},a.sc=function(b,c){if(b.contains&&1==c.nodeType)return b==
c||b.contains(c);if("undefined"!=typeof b.compareDocumentPosition)return b==c||Boolean(b.compareDocumentPosition(c)&16);for(;c&&b!=c;)c=c.parentNode;return c==b},a.vc=function(b,c){if(b==c)return 0;if(b.compareDocumentPosition)return b.compareDocumentPosition(c)&2?1:-1;if(A&&!Fb(9)){if(9==b.nodeType)return-1;if(9==c.nodeType)return 1}if("sourceIndex"in b||b.parentNode&&"sourceIndex"in b.parentNode){var d=1==b.nodeType,e=1==c.nodeType;if(d&&e)return b.sourceIndex-c.sourceIndex;var g=b.parentNode,h=
c.parentNode;return g==h?tc(b,c):!d&&sc(g,c)?-1*uc(b,c):!e&&sc(h,b)?uc(c,b):(d?b.sourceIndex:g.sourceIndex)-(e?c.sourceIndex:h.sourceIndex)}e=Rb(b);d=e.createRange();d.selectNode(b);d.collapse(j);e=e.createRange();e.selectNode(c);e.collapse(j);return d.compareBoundaryPoints(fa.Range.START_TO_END,e)},a.uc=function(b,c){var d=b.parentNode;if(d==c)return-1;for(var e=c;e.parentNode!=d;)e=e.parentNode;return tc(e,b)},a.tc=function(b,c){for(var d=c;d=d.previousSibling;)if(d==b)return-1;return 1},a.wc=function(b){var c,
d=arguments.length;if(d){if(1==d)return arguments[0]}else return k;var e=[],g=Infinity;for(c=0;c<d;c++){for(var h=[],l=arguments[c];l;)h.unshift(l),l=l.parentNode;e.push(h);g=Math.min(g,h.length)}h=k;for(c=0;c<g;c++){for(var l=e[0][c],n=1;n<d;n++)if(l!=e[n][c])return h;h=l}return h},a.Rb=function(b){return 9==b.nodeType?b:b.ownerDocument||b.document},a.xc=function(b,c){if("textContent"in b)b.textContent=c;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);
b.firstChild.data=c}else ic(b),b.appendChild(Rb(b).createTextNode(c))},a.zc=function(b,c){var d=[];yc(b,c,d,m);return d},a.yc=function(b,c,d,e){if(b!=k)for(b=b.firstChild;b;){if(c(b)&&(d.push(b),e)||yc(b,c,d,e))return j;b=b.nextSibling}return m},a.Ac={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},a.Bc={IMG:" ",BR:"\n"},a.Cc=function(b){var c=b.getAttributeNode("tabindex");return c&&c.specified?(b=b.tabIndex,pa(b)&&0<=b&&32768>b):m},a.Dc=function(b,c){c?b.tabIndex=0:(b.tabIndex=-1,b.removeAttribute("tabIndex"))},
a.Fc=function(b){if(Kb&&"innerText"in b)b=Ka(b.innerText);else{var c=[];Ec(b,c,j);b=c.join("")}b=b.replace(/ \xAD /g," ").replace(/\xAD/g,"");b=b.replace(/\u200B/g,"");Kb||(b=b.replace(/ +/g," "));" "!=b&&(b=b.replace(/^\s*/,""));return b},a.Gc=function(b){var c=[];Ec(b,c,m);return c.join("")},a.Ec=function(b,c,d){if(!(b.nodeName in Ac))if(3==b.nodeType)d?c.push(String(b.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(b.nodeValue);else if(b.nodeName in Bc)c.push(Bc[b.nodeName]);else for(b=b.firstChild;b;)Ec(b,
c,d),b=b.nextSibling},a.dc=function(b){if(b&&"number"==typeof b.length){if(ra(b))return"function"==typeof b.item||"string"==typeof b.item;if(qa(b))return"function"==typeof b.item}return m},a.Ic=function(b,c,d){if(!c&&!d)return k;var e=c?c.toUpperCase():k;return Hc(b,function(b){return(!e||b.nodeName==e)&&(!d||E.has(b,d))},j)},a.Hc=function(b,c,d,e){d||(b=b.parentNode);for(var d=e==k,g=0;b&&(d||g<=e);){if(c(b))return b;b=b.parentNode;g++}return k},a.Jc=function(b){try{return b&&b.activeElement}catch(c){}return k},
a.Qb=function(b){this.Ga=b||fa.document||document};t=Qb.prototype;t.K=Sb;t.Ba=p("Ga");t.m=function(b){return oa(b)?this.Ga.getElementById(b):b};t.Xt=Qb.prototype.m;t.Yi=function(b,c){return K(b,c||this.Ga)};t.v=function(b,c,d){return bc(this.Ga,arguments)};t.createElement=function(b){return this.Ga.createElement(b)};t.createTextNode=function(b){return this.Ga.createTextNode(b)};t.iv=u(21);a.Kc=function(b){return"CSS1Compat"==b.Ga.compatMode};t.Oa=function(){return this.Ga.parentWindow||this.Ga.defaultView};
a.Lc=function(b){return $b(b.Ga)};t.er=function(b){return Jc(b||this.Ga)};t.appendChild=function(b,c){b.appendChild(c)};t.append=hc;t.Ws=ic;t.Jn=jc;t.nx=kc;t.removeNode=M;t.wL=nc;t.iD=oc;t.mD=qc;t.contains=sc;t.KL=Ic;a.Mc=function(b,c){b.setAttribute("role",c)},a.Nc=function(b,c,d){b.setAttribute("aria-"+c,d)},a.Oc=function(b,c){var d=b.getAttribute("aria-"+c);return d===j||d===m?d?"true":"false":d?String(d):""};a.N=function(){0!=Pc&&(this.GW=Error().stack,Qc[ua(this)]=this)},a.Pc=0,a.Qc={};N.prototype.tg=m;N.prototype.G=function(){if(!this.tg&&(this.tg=j,this.w(),0!=Pc)){var b=ua(this);delete Qc[b]}};a.Rc=function(b,c){b.Kq||(b.Kq=[]);b.Kq.push(c)};N.prototype.w=function(){this.Kq&&Sc.apply(k,this.Kq);if(this.no)for(;this.no.length;)this.no.shift()()};a.Tc=function(b){b&&"function"==typeof b.G&&b.G()},a.Sc=function(b){for(var c=0,d=arguments.length;c<d;++c){var e=arguments[c];na(e)?Sc.apply(k,e):Tc(e)}};a.Uc={wm:"activedescendant",ST:"atomic",rI:"autocomplete",$T:"busy",Ip:"checked",gU:"controls",kU:"describedby",xI:"disabled",nU:"dropeffect",IA:"expanded",qU:"flowto",xU:"grabbed",uk:"haspopup",DU:"hidden",KU:"invalid",Kp:"label",eu:"labelledby",QU:"level",TU:"live",bV:"multiline",cV:"multiselectable",iV:"orientation",kV:"owns",mV:"posinset",GI:"pressed",sV:"readonly",vV:"relevant",wV:"required",JI:"selected",GV:"setsize",IV:"sort",WI:"valuemax",XI:"valuemin",YI:"valuenow",eW:"valuetext"},a.Vc={OT:"alert",
PT:"alertdialog",QT:"application",RT:"article",UT:"banner",Hp:"button",uI:"checkbox",cU:"columnheader",vI:"combobox",eU:"complementary",wI:"dialog",lU:"directory",mU:"document",vU:"form",zU:"grid",AU:"gridcell",BU:"group",CU:"heading",IU:"img",AI:"link",RU:"list",JA:"listbox",SU:"listitem",VU:"log",BI:"main",WU:"marquee",XU:"math",CI:"menu",$U:"menubar",DI:"menuitem",EI:"menuitemcheckbox",FI:"menuitemradio",dV:"navigation",fV:"note",MA:"option",nV:"presentation",oV:"progressbar",qV:"radio",rV:"radiogroup",
uV:"region",xV:"row",yV:"rowgroup",zV:"rowheader",CV:"scrollbar",DV:"search",LI:"separator",OI:"slider",JV:"spinbutton",LV:"status",QA:"tab",RI:"tablist",PV:"tabpanel",QV:"textbox",RV:"timer",TI:"toolbar",TV:"tooltip",UV:"tree",VV:"treegrid",WV:"treeitem"};a.Wc=function(b){b=String(b);if(/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(c){}f(Error("Invalid JSON string: "+b))},a.Xc=function(b){return eval("("+b+")")},a.Zc=function(b,c){return(new Yc(c)).serialize(b)},a.Yc=function(b){this.$s=b};
Yc.prototype.serialize=function(b){var c=[];$c(this,b,c);return c.join("")};
a.$c=function(b,c,d){switch(typeof c){case "string":ad(c,d);break;case "number":d.push(isFinite(c)&&!isNaN(c)?c:"null");break;case "boolean":d.push(c);break;case "undefined":d.push("null");break;case "object":if(c==k){d.push("null");break}if(ma(c)){b.serializeArray(c,d);break}d.push("{");var e="",g;for(g in c)if(Object.prototype.hasOwnProperty.call(c,g)){var h=c[g];"function"!=typeof h&&(d.push(e),ad(g,d),d.push(":"),$c(b,b.$s?b.$s.call(c,g,h):h,d),e=",")}d.push("}");break;case "function":break;default:f(Error("Unknown type: "+
typeof c))}},a.bd={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},a.cd=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,a.ad=function(b,c){c.push('"',b.replace(cd,function(b){if(b in bd)return bd[b];var c=b.charCodeAt(0),g="\\u";16>c?g+="000":256>c?g+="00":4096>c&&(g+="0");return bd[b]=g+c.toString(16)}),'"')};
Yc.prototype.serializeArray=function(b,c){var d=b.length;c.push("[");for(var e="",g=0;g<d;g++)c.push(e),e=b[g],$c(this,this.$s?this.$s.call(b,String(g),e):e,c),e=",";c.push("]")};a.dd=!A||Fb(9),a.ed=!A||Fb(9),a.fd=A&&!D("9");!C||D("528");B&&D("1.9b")||A&&D("8")||rb&&D("9.5")||C&&D("528");B&&!D("8")||A&&D("9");a.gd=function(b,c){this.type=b;this.currentTarget=this.target=c};t=gd.prototype;t.w=ba();t.G=ba();t.Oj=m;t.defaultPrevented=m;t.bt=j;t.stopPropagation=function(){this.Oj=j};t.preventDefault=function(){this.defaultPrevented=j;this.bt=m};a.hd=function(b){b.preventDefault()};a.id=A?"focusin":"DOMFocusIn";a.jd=function(b){jd[" "](b);return b};jd[" "]=ha;a.kd=function(b,c){b&&this.z(b,c)};y(kd,gd);a.ld=[1,4,2];t=kd.prototype;t.target=k;t.relatedTarget=k;t.offsetX=0;t.offsetY=0;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.button=0;t.keyCode=0;t.charCode=0;t.ctrlKey=m;t.altKey=m;t.shiftKey=m;t.metaKey=m;t.Iy=m;t.Tb=k;
t.z=function(b,c){var d=this.type=b.type;gd.call(this,d);this.target=b.target||b.srcElement;this.currentTarget=c;var e=b.relatedTarget;if(e){if(B){var g;a:{try{jd(e.nodeName);g=j;break a}catch(h){}g=m}g||(e=k)}}else"mouseover"==d?e=b.fromElement:"mouseout"==d&&(e=b.toElement);this.relatedTarget=e;this.offsetX=C||b.offsetX!==i?b.offsetX:b.layerX;this.offsetY=C||b.offsetY!==i?b.offsetY:b.layerY;this.clientX=b.clientX!==i?b.clientX:b.pageX;this.clientY=b.clientY!==i?b.clientY:b.pageY;this.screenX=b.screenX||
0;this.screenY=b.screenY||0;this.button=b.button;this.keyCode=b.keyCode||0;this.charCode=b.charCode||("keypress"==d?b.keyCode:0);this.ctrlKey=b.ctrlKey;this.altKey=b.altKey;this.shiftKey=b.shiftKey;this.metaKey=b.metaKey;this.Iy=kb?b.metaKey:b.ctrlKey;this.state=b.state;this.Tb=b;b.defaultPrevented&&this.preventDefault();delete this.Oj};a.md=function(b,c){return dd?b.Tb.button==c:"click"==b.type?0==c:!!(b.Tb.button&ld[c])},a.nd=function(b){return md(b,0)&&!(C&&kb&&b.ctrlKey)};
t.stopPropagation=function(){kd.n.stopPropagation.call(this);this.Tb.stopPropagation?this.Tb.stopPropagation():this.Tb.cancelBubble=j};t.preventDefault=function(){kd.n.preventDefault.call(this);var b=this.Tb;if(b.preventDefault)b.preventDefault();else if(b.returnValue=m,fd)try{if(b.ctrlKey||112<=b.keyCode&&123>=b.keyCode)b.keyCode=-1}catch(c){}};t.gD=p("Tb");t.w=ba();a.od=function(){},a.pd=0;t=od.prototype;t.key=0;t.Qj=m;t.kq=m;t.z=function(b,c,d,e,g,h){qa(b)?this.AE=j:b&&b.handleEvent&&qa(b.handleEvent)?this.AE=m:f(Error("Invalid listener argument"));this.Of=b;this.proxy=c;this.src=d;this.type=e;this.capture=!!g;this.Ih=h;this.kq=m;this.key=++pd;this.Qj=m};t.handleEvent=function(b){return this.AE?this.Of.call(this.Ih||this.src,b):this.Of.handleEvent.call(this.Of,b)};a.qd={},a.rd={},a.sd={},a.td={},a.O=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)O(b,c[h],d,e,g);return k}return ud(b,c,d,m,e,g)},a.ud=function(b,c,d,e,g,h){c||f(Error("Invalid event type"));var g=!!g,l=rd;c in l||(l[c]={ea:0,Ee:0});l=l[c];g in l||(l[g]={ea:0,Ee:0},l.ea++);var l=l[g],n=ua(b),q;l.Ee++;if(l[n]){q=l[n];for(var r=0;r<q.length;r++)if(l=q[r],l.Of==d&&l.Ih==h){if(l.Qj)break;e||(q[r].kq=m);return q[r].key}}else q=l[n]=[],l.ea++;var w=vd,F=ed?function(b){return w.call(F.src,F.key,
b)}:function(b){b=w.call(F.src,F.key,b);if(!b)return b},r=F;r.src=b;l=new od;l.z(d,r,b,c,g,h);l.kq=e;d=l.key;r.key=d;q.push(l);qd[d]=l;sd[n]||(sd[n]=[]);sd[n].push(l);b.addEventListener?(b==fa||!b.lC)&&b.addEventListener(c,r,g):b.attachEvent(c in td?td[c]:td[c]="on"+c,r);return d},a.wd=function(b,c,d,e,g){if(ma(c)){for(var h=0;h<c.length;h++)wd(b,c[h],d,e,g);return k}return ud(b,c,d,j,e,g)},a.xd=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)xd(b,c[h],d,e,g);else if(e=!!e,b=yd(b,c,e))for(h=
0;h<b.length;h++)if(b[h].Of==d&&b[h].capture==e&&b[h].Ih==g){zd(b[h].key);break}},a.zd=function(b){if(!qd[b])return m;var c=qd[b];if(c.Qj)return m;var d=c.src,e=c.type,g=c.proxy,h=c.capture;d.removeEventListener?(d==fa||!d.lC)&&d.removeEventListener(e,g,h):d.detachEvent&&d.detachEvent(e in td?td[e]:td[e]="on"+e,g);d=ua(d);sd[d]&&(g=sd[d],z.remove(g,c),0==g.length&&delete sd[d]);c.Qj=j;if(c=rd[e][h][d])c.yF=j,Ad(e,h,d,c);delete qd[b];return j},a.Ad=function(b,c,d,e){if(!e.ps&&e.yF){for(var g=0,h=0;g<
e.length;g++)e[g].Qj?e[g].proxy.src=k:(g!=h&&(e[h]=e[g]),h++);e.length=h;e.yF=m;0==h&&(delete rd[b][c][d],rd[b][c].ea--,0==rd[b][c].ea&&(delete rd[b][c],rd[b].ea--),0==rd[b].ea&&delete rd[b])}},a.Bd=function(b){var c,d=0,e=c==k;c=!!c;if(b==k)H.forEach(sd,function(b){for(var g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)zd(h.key),d++}});else if(b=ua(b),sd[b])for(var b=sd[b],g=b.length-1;0<=g;g--){var h=b[g];if(e||c==h.capture)zd(h.key),d++}},a.yd=function(b,c,d){var e=rd;return c in e&&(e=e[c],
d in e&&(e=e[d],b=ua(b),e[b]))?e[b]:k},a.Dd=function(b,c,d,e,g){var h=1,c=ua(c);if(b[c]){b.Ee--;b=b[c];b.ps?b.ps++:b.ps=1;try{for(var l=b.length,n=0;n<l;n++){var q=b[n];q&&!q.Qj&&(h&=Cd(q,g)!==m)}}finally{b.ps--,Ad(d,e,c,b)}}return Boolean(h)},a.Cd=function(b,c){b.kq&&zd(b.key);return b.handleEvent(c)},a.vd=function(b,c){if(!qd[b])return j;var d=qd[b],e=d.type,g=rd;if(!(e in g))return j;var g=g[e],h,l;if(!ed){h=c||ga("window.event");var n=j in g,q=m in g;if(n){if(0>h.keyCode||h.returnValue!=i)return j;
a:{var r=m;if(0==h.keyCode)try{h.keyCode=-1;break a}catch(w){r=j}if(r||h.returnValue==i)h.returnValue=j}}r=new kd;r.z(h,this);h=j;try{if(n){for(var F=[],I=r.currentTarget;I;I=I.parentNode)F.push(I);l=g[j];l.Ee=l.ea;for(var G=F.length-1;!r.Oj&&0<=G&&l.Ee;G--)r.currentTarget=F[G],h&=Dd(l,F[G],e,j,r);if(q){l=g[m];l.Ee=l.ea;for(G=0;!r.Oj&&G<F.length&&l.Ee;G++)r.currentTarget=F[G],h&=Dd(l,F[G],e,m,r)}}else h=Cd(d,r)}finally{F&&(F.length=0)}return h}e=new kd(c,this);return h=Cd(d,e)},a.Ed=0,a.Fd=function(b){return b+
"_"+Ed++};a.Gd=function(){N.call(this)};y(Gd,N);t=Gd.prototype;t.lC=j;t.Ol=k;t.mt=ca("Ol");t.addEventListener=function(b,c,d,e){O(this,b,c,d,e)};t.removeEventListener=function(b,c,d,e){xd(this,b,c,d,e)};
t.dispatchEvent=function(b){var c=b.type||b,d=rd;if(c in d){if(oa(b))b=new gd(b,this);else if(b instanceof gd)b.target=b.target||this;else{var e=b,b=new gd(c,this);H.extend(b,e)}var e=1,g,d=d[c],c=j in d,h;if(c){g=[];for(h=this;h;h=h.Ol)g.push(h);h=d[j];h.Ee=h.ea;for(var l=g.length-1;!b.Oj&&0<=l&&h.Ee;l--)b.currentTarget=g[l],e&=Dd(h,g[l],b.type,j,b)&&b.bt!=m}if(m in d)if(h=d[m],h.Ee=h.ea,c)for(l=0;!b.Oj&&l<g.length&&h.Ee;l++)b.currentTarget=g[l],e&=Dd(h,g[l],b.type,m,b)&&b.bt!=m;else for(g=this;!b.Oj&&
g&&h.Ee;g=g.Ol)b.currentTarget=g,e&=Dd(h,g,b.type,m,b)&&b.bt!=m;b=Boolean(e)}else b=j;return b};t.w=function(){Gd.n.w.call(this);Bd(this);this.Ol=k};a.Id=function(b,c){N.call(this);this.Eg=b||1;this.ep=c||Hd;this.Lu=v(this.VS,this);this.Ix=za()};y(Id,Gd);Id.prototype.enabled=m;a.Hd=fa.window;t=Id.prototype;t.ma=k;t.setInterval=u(11);t.VS=function(){if(this.enabled){var b=za()-this.Ix;0<b&&b<0.8*this.Eg?this.ma=this.ep.setTimeout(this.Lu,this.Eg-b):(this.dispatchEvent(Jd),this.enabled&&(this.ma=this.ep.setTimeout(this.Lu,this.Eg),this.Ix=za()))}};t.start=function(){this.enabled=j;this.ma||(this.ma=this.ep.setTimeout(this.Lu,this.Eg),this.Ix=za())};
t.stop=function(){this.enabled=m;this.ma&&(this.ep.clearTimeout(this.ma),this.ma=k)};t.w=function(){Id.n.w.call(this);this.stop();delete this.ep};a.Jd="tick",a.Kd=function(b,c,d){qa(b)?d&&(b=v(b,d)):b&&"function"==typeof b.handleEvent?b=v(b.handleEvent,b):f(Error("Invalid listener argument"));return 2147483647<c?-1:Hd.setTimeout(b,c||0)};a.Ld={Ra:function(b){return"function"==typeof b.Ra?b.Ra():na(b)||oa(b)?b.length:H.Ra(b)},Ka:function(b){if("function"==typeof b.Ka)return b.Ka();if(oa(b))return b.split("");if(na(b)){for(var c=[],d=b.length,e=0;e<d;e++)c.push(b[e]);return c}return H.Ka(b)},Cb:function(b){if("function"==typeof b.Cb)return b.Cb();if("function"!=typeof b.Ka){if(na(b)||oa(b)){for(var c=[],b=b.length,d=0;d<b;d++)c.push(d);return c}return H.Cb(b)}},contains:function(b,c){return"function"==typeof b.contains?b.contains(c):
"function"==typeof b.pg?b.pg(c):na(b)||oa(b)?z.contains(b,c):H.pg(b,c)},Eb:function(b){return"function"==typeof b.Eb?b.Eb():na(b)||oa(b)?z.Eb(b):H.Eb(b)},clear:function(b){"function"==typeof b.clear?b.clear():na(b)?z.clear(b):H.clear(b)},forEach:function(b,c,d){if("function"==typeof b.forEach)b.forEach(c,d);else if(na(b)||oa(b))z.forEach(b,c,d);else for(var e=Ld.Cb(b),g=Ld.Ka(b),h=g.length,l=0;l<h;l++)c.call(d,g[l],e&&e[l],b)},filter:function(b,c,d){if("function"==typeof b.filter)return b.filter(c,
d);if(na(b)||oa(b))return z.filter(b,c,d);var e,g=Ld.Cb(b),h=Ld.Ka(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)c.call(d,h[n],g[n],b)&&(e[g[n]]=h[n])}else{e=[];for(n=0;n<l;n++)c.call(d,h[n],i,b)&&e.push(h[n])}return e},map:function(b,c,d){if("function"==typeof b.map)return b.map(c,d);if(na(b)||oa(b))return z.map(b,c,d);var e,g=Ld.Cb(b),h=Ld.Ka(b),l=h.length;if(g){e={};for(var n=0;n<l;n++)e[g[n]]=c.call(d,h[n],g[n],b)}else{e=[];for(n=0;n<l;n++)e[n]=c.call(d,h[n],i,b)}return e},some:function(b,c,d){if("function"==
typeof b.some)return b.some(c,d);if(na(b)||oa(b))return z.some(b,c,d);for(var e=Ld.Cb(b),g=Ld.Ka(b),h=g.length,l=0;l<h;l++)if(c.call(d,g[l],e&&e[l],b))return j;return m},every:function(b,c,d){if("function"==typeof b.every)return b.every(c,d);if(na(b)||oa(b))return z.every(b,c,d);for(var e=Ld.Cb(b),g=Ld.Ka(b),h=g.length,l=0;l<h;l++)if(!c.call(d,g[l],e&&e[l],b))return m;return j}};a.P={};P.Ya="StopIteration"in fa?fa.StopIteration:Error("StopIteration");a.Md=function(){};Md.prototype.next=function(){f(P.Ya)};Md.prototype.Zc=function(){return this};P.Xc=function(b){if(b instanceof Md)return b;if("function"==typeof b.Zc)return b.Zc(m);if(na(b)){var c=0,d=new Md;d.next=function(){for(;;){c>=b.length&&f(P.Ya);if(c in b)return b[c++];c++}};return d}f(Error("Not implemented"))};
P.forEach=function(b,c,d){if(na(b))try{z.forEach(b,c,d)}catch(e){e!==P.Ya&&f(e)}else{b=P.Xc(b);try{for(;;)c.call(d,b.next(),i,b)}catch(g){g!==P.Ya&&f(g)}}};P.filter=function(b,c,d){var e=P.Xc(b),b=new Md;b.next=function(){for(;;){var b=e.next();if(c.call(d,b,i,e))return b}};return b};P.vo=function(b,c,d){var e=0,g=b,h=d||1;1<arguments.length&&(e=b,g=c);0==h&&f(Error("Range step argument must not be zero"));var l=new Md;l.next=function(){(0<h&&e>=g||0>h&&e<=g)&&f(P.Ya);var b=e;e+=h;return b};return l};
P.join=function(b,c){return P.toArray(b).join(c)};P.map=function(b,c,d){var e=P.Xc(b),b=new Md;b.next=function(){for(;;){var b=e.next();return c.call(d,b,i,e)}};return b};P.reduce=function(b,c,d,e){var g=d;P.forEach(b,function(b){g=c.call(e,g,b)});return g};P.some=function(b,c,d){b=P.Xc(b);try{for(;;)if(c.call(d,b.next(),i,b))return j}catch(e){e!==P.Ya&&f(e)}return m};P.every=function(b,c,d){b=P.Xc(b);try{for(;;)if(!c.call(d,b.next(),i,b))return m}catch(e){e!==P.Ya&&f(e)}return j};
P.cK=function(b){var c=arguments,d=c.length,e=0,g=new Md;g.next=function(){try{return e>=d&&f(P.Ya),P.Xc(c[e]).next()}catch(b){return(b!==P.Ya||e>=d)&&f(b),e++,this.next()}};return g};P.hL=function(b,c){var d=P.Xc(b),e=new Md,g=j;e.next=function(){for(;;){var b=d.next();if(!g||!c.call(i,b,i,d))return g=m,b}};return e};P.Vz=function(b,c){var d=P.Xc(b),e=new Md,g=j;e.next=function(){for(;;)if(g){var b=d.next();if(c.call(i,b,i,d))return b;g=m}else f(P.Ya)};return e};
P.toArray=function(b){if(na(b))return z.toArray(b);var b=P.Xc(b),c=[];P.forEach(b,function(b){c.push(b)});return c};P.equals=function(b,c){var b=P.Xc(b),c=P.Xc(c),d,e;try{for(;;){d=e=m;var g=b.next();d=j;var h=c.next();e=j;if(g!=h)break}}catch(l){l!==P.Ya&&f(l);if(d&&!e)return m;if(!e)try{c.next()}catch(n){return n!==P.Ya&&f(n),j}}return m};P.HX=function(b,c){try{return P.Xc(b).next()}catch(d){return d!=P.Ya&&f(d),c}};
P.product=function(b){if(z.some(arguments,function(b){return!b.length})||!arguments.length)return new Md;var c=new Md,d=arguments,e=z.repeat(0,d.length);c.next=function(){if(e){for(var b=z.map(e,function(b,c){return d[c][b]}),c=e.length-1;0<=c;c--){if(e[c]<d[c].length-1){e[c]++;break}if(0==c){e=k;break}e[c]=0}return b}f(P.Ya)};return c};
P.pv=function(b){var c=P.Xc(b),d=[],e=0,b=new Md,g=m;b.next=function(){var b=k;if(!g)try{return b=c.next(),d.push(b),b}catch(l){(l!=P.Ya||z.Eb(d))&&f(l),g=j}b=d[e];e=(e+1)%d.length;return b};return b};a.Nd=function(b,c){this.ob={};this.Pa=[];var d=arguments.length;if(1<d){d%2&&f(Error("Uneven number of arguments"));for(var e=0;e<d;e+=2)this.set(arguments[e],arguments[e+1])}else b&&this.nu(b)};t=Nd.prototype;t.ea=0;t.up=0;t.Ra=p("ea");t.Ka=function(){Od(this);for(var b=[],c=0;c<this.Pa.length;c++)b.push(this.ob[this.Pa[c]]);return b};t.Cb=function(){Od(this);return this.Pa.concat()};t.Cd=function(b){return Pd(this.ob,b)};
t.pg=function(b){for(var c=0;c<this.Pa.length;c++){var d=this.Pa[c];if(Pd(this.ob,d)&&this.ob[d]==b)return j}return m};t.equals=function(b,c){if(this===b)return j;if(this.ea!=b.Ra())return m;var d=c||Qd;Od(this);for(var e,g=0;e=this.Pa[g];g++)if(!d(this.get(e),b.get(e)))return m;return j};a.Qd=function(b,c){return b===c};t.Eb=function(){return 0==this.ea};t.clear=function(){this.ob={};this.up=this.ea=this.Pa.length=0};
t.remove=function(b){return Pd(this.ob,b)?(delete this.ob[b],this.ea--,this.up++,this.Pa.length>2*this.ea&&Od(this),j):m};a.Od=function(b){if(b.ea!=b.Pa.length){for(var c=0,d=0;c<b.Pa.length;){var e=b.Pa[c];Pd(b.ob,e)&&(b.Pa[d++]=e);c++}b.Pa.length=d}if(b.ea!=b.Pa.length){for(var g={},d=c=0;c<b.Pa.length;)e=b.Pa[c],Pd(g,e)||(b.Pa[d++]=e,g[e]=1),c++;b.Pa.length=d}};t.get=function(b,c){return Pd(this.ob,b)?this.ob[b]:c};
t.set=function(b,c){Pd(this.ob,b)||(this.ea++,this.Pa.push(b),this.up++);this.ob[b]=c};t.nu=function(b){var c;b instanceof Nd?(c=b.Cb(),b=b.Ka()):(c=H.Cb(b),b=H.Ka(b));for(var d=0;d<c.length;d++)this.set(c[d],b[d])};t.clone=function(){return new Nd(this)};t.rm=function(){for(var b=new Nd,c=0;c<this.Pa.length;c++){var d=this.Pa[c];b.set(this.ob[d],d)}return b};t.Jt=function(){Od(this);for(var b={},c=0;c<this.Pa.length;c++){var d=this.Pa[c];b[d]=this.ob[d]}return b};
t.Zc=function(b){Od(this);var c=0,d=this.Pa,e=this.ob,g=this.up,h=this,l=new Md;l.next=function(){for(;;){g!=h.up&&f(Error("The map has changed since the iterator was created"));c>=d.length&&f(P.Ya);var l=d[c++];return b?l:e[l]}};return l};a.Pd=function(b,c){return Object.prototype.hasOwnProperty.call(b,c)};a.Rd=function(b){this.ob=new Nd;b&&this.nu(b)},a.Sd=function(b){var c=typeof b;return"object"==c&&b||"function"==c?"o"+ua(b):c.substr(0,1)+b};t=Rd.prototype;t.Ra=function(){return this.ob.Ra()};t.add=function(b){this.ob.set(Sd(b),b)};t.nu=function(b){for(var b=Ld.Ka(b),c=b.length,d=0;d<c;d++)this.add(b[d])};t.removeAll=function(b){for(var b=Ld.Ka(b),c=b.length,d=0;d<c;d++)this.remove(b[d])};t.remove=function(b){return this.ob.remove(Sd(b))};t.clear=function(){this.ob.clear()};t.Eb=function(){return this.ob.Eb()};
t.contains=function(b){return this.ob.Cd(Sd(b))};t.tE=function(b){for(var c=new Rd,b=Ld.Ka(b),d=0;d<b.length;d++){var e=b[d];this.contains(e)&&c.add(e)}return c};t.Ka=function(){return this.ob.Ka()};t.clone=function(){return new Rd(this)};t.equals=function(b){var c;if(c=this.Ra()==Ld.Ra(b)){var d=b,b=Ld.Ra(d);this.Ra()>b?c=m:(!(d instanceof Rd)&&5<b&&(d=new Rd(d)),c=Ld.every(this,function(b){return Ld.contains(d,b)}))}return c};t.Zc=function(){return this.ob.Zc(m)};a.Ud=function(b){return Td(b||arguments.callee.caller,[])},a.Td=function(b,c){var d=[];if(z.contains(c,b))d.push("[...circular reference...]");else if(b&&50>c.length){d.push(Vd(b)+"(");for(var e=b.arguments,g=0;g<e.length;g++){0<g&&d.push(", ");var h;h=e[g];switch(typeof h){case "object":h=h?"object":"null";break;case "string":break;case "number":h=String(h);break;case "boolean":h=h?"true":"false";break;case "function":h=(h=Vd(h))?h:"[fn]";break;default:h=typeof h}40<h.length&&(h=h.substr(0,40)+"...");
d.push(h)}c.push(b);d.push(")\n");try{d.push(Td(b.caller,c))}catch(l){d.push("[exception trying to get caller]\n")}}else b?d.push("[...long stack...]"):d.push("[end]");return d.join("")},a.Vd=function(b){if(Wd[b])return Wd[b];b=String(b);if(!Wd[b]){var c=/function ([^\(]+)/.exec(b);Wd[b]=c?c[1]:"[Anonymous]"}return Wd[b]},a.Wd={};a.Xd=function(b,c,d,e,g){this.reset(b,c,d,e,g)};Xd.prototype.ZR=0;Xd.prototype.OC=k;Xd.prototype.NC=k;a.Yd=0;Xd.prototype.reset=function(b,c,d,e,g){this.ZR="number"==typeof g?g:Yd++;this.kY=e||za();this.Wn=b;this.wF=c;this.yX=d;delete this.OC;delete this.NC};Xd.prototype.dH=ca("Wn");Xd.prototype.ei=u(51);a.Zd=function(b){this.aP=b};Zd.prototype.Sa=k;Zd.prototype.Wn=k;Zd.prototype.Rb=k;Zd.prototype.XD=k;a.$d=function(b,c){this.name=b;this.value=c};$d.prototype.toString=p("name");a.ae=new $d("SHOUT",1200),a.be=new $d("SEVERE",1E3),a.ce=new $d("WARNING",900),a.de=new $d("INFO",800),a.ee=new $d("CONFIG",700),a.fe=new $d("FINE",500);t=Zd.prototype;t.getParent=p("Sa");t.iD=function(){this.Rb||(this.Rb={});return this.Rb};t.dH=ca("Wn");a.ge=function(b){return b.Wn?b.Wn:b.Sa?ge(b.Sa):k};
t.log=function(b,c,d){if(b.value>=ge(this).value){b=this.OL(b,c,d);c="log:"+b.wF;fa.console&&(fa.console.timeStamp?fa.console.timeStamp(c):fa.console.markTimeline&&fa.console.markTimeline(c));fa.msWriteProfilerMark&&fa.msWriteProfilerMark(c);for(c=this;c;){var d=c,e=b;if(d.XD)for(var g=0,h=i;h=d.XD[g];g++)h(e);c=c.getParent()}}};
t.OL=function(b,c,d){var e=new Xd(b,String(c),this.aP);if(d){e.OC=d;var g;var h=arguments.callee.caller;try{var l;var n=ga("window.location.href");if(oa(d))l={message:d,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,r,w=m;try{q=d.lineNumber||d.xX||"Not available"}catch(F){q="Not available",w=j}try{r=d.fileName||d.filename||d.sourceURL||n}catch(I){r="Not available",w=j}l=w||!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:q,
fileName:r,stack:d.stack||"Not available"}:d}g="Message: "+Wa(l.message)+'\nUrl: <a href="view-source:'+l.fileName+'" target="_new">'+l.fileName+"</a>\nLine: "+l.lineNumber+"\n\nBrowser stack:\n"+Wa(l.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Wa(Ud(h)+"-> ")}catch(G){g="Exception trying to expose exception! You win, we lose. "+G}e.NC=g}return e};t.jk=function(b,c){this.log(ce,b,c)};t.info=function(b,c){this.log(de,b,c)};t.config=u(13);
a.he=function(b,c){b.log(fe,c,i)},a.ie={},a.je=k,a.ke=function(b){je||(je=new Zd(""),ie[""]=je,je.dH(ee));var c;if(!(c=ie[b])){c=new Zd(b);var d=b.lastIndexOf("."),e=b.substr(d+1),d=ke(b.substr(0,d));d.iD()[e]=c;c.Sa=d;ie[b]=c}return c};a.le=function(b){N.call(this);this.da=b;this.Pa=[]};y(le,N);a.ne=[];t=le.prototype;t.e=function(b,c,d,e,g){ma(c)||(ne[0]=c,c=ne);for(var h=0;h<c.length;h++){var l=O(b,c[h],d||this,e||m,g||this.da||this);this.Pa.push(l)}return this};a.oe=function(b,c,d,e,g,h){if(ma(d))for(var l=0;l<d.length;l++)oe(b,c,d[l],e,g,h);else c=wd(c,d,e||b,g,h||b.da||b),b.Pa.push(c)};
t.Da=function(b,c,d,e,g){if(ma(c))for(var h=0;h<c.length;h++)this.Da(b,c[h],d,e,g);else{a:{d=d||this;g=g||this.da||this;e=!!e;if(b=yd(b,c,e))for(c=0;c<b.length;c++)if(!b[c].Qj&&b[c].Of==d&&b[c].capture==e&&b[c].Ih==g){b=b[c];break a}b=k}b&&(b=b.key,zd(b),z.remove(this.Pa,b))}return this};t.removeAll=function(){z.forEach(this.Pa,zd);this.Pa.length=0};t.w=function(){le.n.w.call(this);this.removeAll()};t.handleEvent=function(){f(Error("EventHandler.handleEvent not implemented"))};a.pe=function(b){N.call(this);this.dg=b;this.at=[]};y(pe,N);pe.prototype.Ca=ke("goog.net.BulkLoaderHelper");pe.prototype.ww=p("dg");pe.prototype.sw=p("at");pe.prototype.w=function(){pe.n.w.call(this);this.at=this.dg=k};a.qe=function(){};qe.prototype.CB=k;a.se=function(b){var c;if(!(c=b.CB))c={},re(b)&&(c[0]=j,c[1]=j),c=b.CB=c;return c};a.te=void 0,a.ue=function(){};y(ue,qe);a.ve=function(b){return(b=re(b))?new ActiveXObject(b):new XMLHttpRequest},a.re=function(b){if(!b.eE&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var c=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],d=0;d<c.length;d++){var e=c[d];try{return new ActiveXObject(e),b.eE=e}catch(g){}}f(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return b.eE};
te=new ue;a.we=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");a.xe=function(b){N.call(this);this.headers=new Nd;this.Vt=b||k};y(xe,Gd);xe.prototype.Ca=ke("goog.net.XhrIo");a.ye=/^https?$/i;t=xe.prototype;t.hh=m;t.ga=k;t.Ut=k;t.es="";t.NE="";t.Rn=0;t.Sn="";t.Lv=m;t.Kr=m;t.bx=m;t.kj=m;t.Et=0;t.ek=k;t.MG="";t.FT=m;
t.send=function(b,c,d,e){this.ga&&f(Error("[goog.net.XhrIo] Object is active with another request="+this.es+"; newUri="+b));c=c?c.toUpperCase():"GET";this.es=b;this.Sn="";this.Rn=0;this.NE=c;this.Lv=m;this.hh=j;this.ga=this.Vt?ve(this.Vt):ve(te);this.Ut=this.Vt?se(this.Vt):se(te);this.ga.onreadystatechange=v(this.UF,this);try{he(this.Ca,ze(this,"Opening Xhr")),this.bx=j,this.ga.open(c,b,j),this.bx=m}catch(g){he(this.Ca,ze(this,"Error opening Xhr: "+g.message));Ae(this,g);return}var b=d||"",h=this.headers.clone();
e&&Ld.forEach(e,function(b,c){h.set(c,b)});e=fa.FormData&&b instanceof fa.FormData;"POST"==c&&(!h.Cd("Content-Type")&&!e)&&h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Ld.forEach(h,function(b,c){this.ga.setRequestHeader(c,b)},this);this.MG&&(this.ga.responseType=this.MG);H.Cd(this.ga,"withCredentials")&&(this.ga.withCredentials=this.FT);try{this.ek&&(Hd.clearTimeout(this.ek),this.ek=k),0<this.Et&&(he(this.Ca,ze(this,"Will abort after "+this.Et+"ms if incomplete")),this.ek=
Hd.setTimeout(v(this.Ft,this),this.Et)),he(this.Ca,ze(this,"Sending request")),this.Kr=j,this.ga.send(b),this.Kr=m}catch(l){he(this.Ca,ze(this,"Send error: "+l.message)),Ae(this,l)}};t.Ft=function(){"undefined"!=typeof ea&&this.ga&&(this.Sn="Timed out after "+this.Et+"ms, aborting",this.Rn=8,he(this.Ca,ze(this,this.Sn)),this.dispatchEvent("timeout"),this.abort(8))};
a.Ae=function(b,c){b.hh=m;b.ga&&(b.kj=j,b.ga.abort(),b.kj=m);b.Sn=c;b.Rn=5;Be(b);Ce(b)},a.Be=function(b){b.Lv||(b.Lv=j,b.dispatchEvent("complete"),b.dispatchEvent("error"))};t.abort=function(b){this.ga&&this.hh&&(he(this.Ca,ze(this,"Aborting")),this.hh=m,this.kj=j,this.ga.abort(),this.kj=m,this.Rn=b||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ce(this))};t.w=function(){this.ga&&(this.hh&&(this.hh=m,this.kj=j,this.ga.abort(),this.kj=m),Ce(this,j));xe.n.w.call(this)};
t.UF=function(){!this.bx&&!this.Kr&&!this.kj?this.XP():De(this)};t.XP=function(){De(this)};
a.De=function(b){if(b.hh&&"undefined"!=typeof ea)if(b.Ut[1]&&4==Ee(b)&&2==Fe(b))he(b.Ca,ze(b,"Local request error detected and ignored"));else if(b.Kr&&4==Ee(b))Hd.setTimeout(v(b.UF,b),0);else if(b.dispatchEvent("readystatechange"),4==Ee(b)){he(b.Ca,ze(b,"Request complete"));b.hh=m;try{if(Ge(b))b.dispatchEvent("complete"),b.dispatchEvent("success");else{b.Rn=6;var c;try{c=2<Ee(b)?b.ga.statusText:""}catch(d){he(b.Ca,"Can not get status: "+d.message),c=""}b.Sn=c+" ["+Fe(b)+"]";Be(b)}}finally{Ce(b)}}},
a.Ce=function(b,c){if(b.ga){var d=b.ga,e=b.Ut[0]?ha:k;b.ga=k;b.Ut=k;b.ek&&(Hd.clearTimeout(b.ek),b.ek=k);c||b.dispatchEvent("ready");try{d.onreadystatechange=e}catch(g){b.Ca.log(be,"Problem encountered resetting onreadystatechange: "+g.message,i)}}};t.Wb=function(){return!!this.ga};
a.Ge=function(b){var c=Fe(b),d;a:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=m}if(!d){if(c=0===c)b=String(b.es).match(we)[1]||k,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),c=!ye.test(b?b.toLowerCase():"");d=c}return d},a.Ee=function(b){return b.ga?b.ga.readyState:0},a.Fe=function(b){try{return 2<Ee(b)?b.ga.status:-1}catch(c){return b.Ca.jk("Can not get status: "+c.message),-1}},a.He=function(b){try{return b.ga?b.ga.responseText:
""}catch(c){return he(b.Ca,"Can not get responseText: "+c.message),""}},a.Ie=function(b){if(b.ga)return Wc(b.ga.responseText)};t.getResponseHeader=function(b){return this.ga&&4==Ee(this)?this.ga.getResponseHeader(b):i};a.ze=function(b,c){return c+" ["+b.NE+" "+b.es+" "+Fe(b)+"]"};a.Je=function(b){N.call(this);this.ij=new pe(b);this.N=new le(this)};y(Je,Gd);t=Je.prototype;t.Ca=ke("goog.net.BulkLoader");t.sw=function(){return this.ij.sw()};t.load=function(){var b=this.N,c=this.ij.ww();this.Ca.info("Starting load of code with "+c.length+" uris.");for(var d=0;d<c.length;d++){var e=new xe;b.e(e,"complete",v(this.AM,this,d));e.send(c[d])}};
t.AM=function(b,c){this.Ca.info('Received event "'+c.type+'" for id '+b+" with uri "+this.ij.dg[b]);var d=c.target;Ge(d)?this.Pw(b,d):this.Gw(b,d)};t.Pw=function(b,c){var d=He(c);this.ij.at[b]=d;a:{var e=this.ij,d=e.at;if(d.length==e.dg.length){for(e=0;e<d.length;e++)if(d[e]==k){d=m;break a}d=j}else d=m}d&&(this.Ca.info("All uris loaded."),this.dispatchEvent("success"));c.G()};t.Gw=function(b,c){this.dispatchEvent("error");c.G()};
t.w=function(){Je.n.w.call(this);this.N.G();this.N=k;this.ij.G();this.ij=k};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
a.Ke=function(b,c){this.Sm=[];this.EB=b;this.pC=c||k};t=Ke.prototype;t.Ah=m;t.sn=m;t.to=0;t.Gz=m;t.dK=m;t.Mu=0;t.cancel=function(b){if(this.Ah)this.Co instanceof Ke&&this.Co.cancel();else{if(this.Sa){var c=this.Sa;delete this.Sa;b?c.cancel(b):(c.Mu--,0>=c.Mu&&c.cancel())}this.EB?this.EB.call(this.pC,this):this.Gz=j;this.Ah||Le(this,new Me(this))}};t.YB=function(b,c){Ne(this,b,c);this.to--;0==this.to&&this.Ah&&Oe(this)};a.Ne=function(b,c,d){b.Ah=j;b.Co=d;b.sn=!c;Oe(b)};
t.mh=function(){this.Ah&&(this.Gz||f(new Pe(this)),this.Gz=m)};t.Fk=function(b){this.mh();Ne(this,j,b)};
a.Le=function(b,c){b.mh();Ne(b,m,c)},a.Qe=function(b){return z.some(b.Sm,function(b){return qa(b[1])})},a.Oe=function(b){b.iA&&(b.Ah&&Qe(b))&&(fa.clearTimeout(b.iA),delete b.iA);b.Sa&&(b.Sa.Mu--,delete b.Sa);for(var c=b.Co,d=m,e=m;b.Sm.length&&0==b.to;){var g=b.Sm.shift(),h=g[0],l=g[1],g=g[2];if(h=b.sn?l:h)try{var n=h.call(g||b.pC,c);la(n)&&(b.sn=b.sn&&(n==c||n instanceof Error),b.Co=c=n);c instanceof Ke&&(e=j,b.to++)}catch(q){c=q,b.sn=j,Qe(b)||(d=j)}}b.Co=c;e&&b.to&&(e=c,n=v(b.YB,b,j),h=v(b.YB,b,
m),e.Sm.push([n,h,i]),e.Ah&&Oe(e),c.dK=j);d&&(b.iA=fa.setTimeout(function(){f(c)},0))},a.Pe=function(b){Da.call(this);this.deferred=b};y(Pe,Da);Pe.prototype.message="Deferred has already fired";Pe.prototype.name="AlreadyCalledError";a.Me=function(b){Da.call(this);this.deferred=b};y(Me,Da);Me.prototype.message="Deferred was cancelled";Me.prototype.name="CancelledError";a.Re=[],a.Te=function(){if(this&&this.UG){var b=this.UG;b&&"SCRIPT"==b.tagName&&Se(b,j,this.Ft)}},a.Se=function(b,c,d){d!=k&&fa.clearTimeout(d);b.onload=ha;b.onerror=ha;b.onreadystatechange=ha;c&&window.setTimeout(function(){M(b)},0)},a.Ue=function(b,c){var d="Jsloader error (code #"+b+")";c&&(d+=": "+c);Da.call(this,d);this.code=b};y(Ue,Da);a.Ve=function(){N.call(this);this.N=new le(this);this.Lg={}};y(Ve,Gd);t=Ve.prototype;t.Ib=ke("goog.module.ModuleLoader");t.oC=m;t.xS=m;
t.FO=function(b,c,d,e){var g=this.Lg[b]||new We;g.$E=j;g.Sz=d||k;g.Mv=e||k;if(this.Lg[b])g.cz!=k&&Xe(this,b);else{this.Lg[b]=g;d=[];for(e=0;e<b.length;e++)z.extend(d,c[b[e]].ww());this.Ib.info("downloadModules ids:"+b+" uris:"+d);if(this.oC){var h=d;if(h.length&&(b=Re.length,z.extend(Re,h),!b)){var h=Re,l=function(){var b=h.shift(),c={},d=c.document||document,e=document.createElement("SCRIPT"),g={UG:e,Ft:i},I=new Ke(Te,g),G=k,Q=c.timeout!=k?c.timeout:5E3;0<Q&&(G=window.setTimeout(function(){Se(e,
j);Le(I,new Ue(1,"Timeout reached for loading script "+b))},Q),g.Ft=G);e.onload=e.onreadystatechange=function(){if(!e.readyState||"loaded"==e.readyState||"complete"==e.readyState)Se(e,c.uW||m,G),I.Fk(k)};e.onerror=function(){Se(e,j,G);Le(I,new Ue(0,"Error while loading script "+b))};Xb(e,{type:"text/javascript",charset:"UTF-8",src:b});g=d.getElementsByTagName("HEAD");(!g||z.Eb(g)?d.documentElement:g[0]).appendChild(e);h.length&&(I.Sm.push([l,l,i]),I.Ah&&Oe(I))};l()}}else this.Lg[b].KG=d,c=new Je(d),
d=this.N,d.e(c,"success",v(this.Pw,this,c,b),m,k),d.e(c,"error",v(this.Gw,this,c,b),m,k),c.load()}};a.Xe=function(b,c){b.dispatchEvent(new Ye(Ze,c));b.Ib.info("evaluateCode ids:"+c);var d=j,e=b.Lg[c],g=e.KG,h=e.cz;try{if(b.xS)for(var l=0;l<g.length;l++)Ba(h[l]+" //@ sourceURL="+g[l]);else Ba(h.join("\n"))}catch(n){d=m,b.Ib.jk("Loaded incomplete code for module(s): "+c,n)}b.dispatchEvent(new Ye($e,c));d?e.Sz&&e.Sz():af(b,c,e.Mv,k);delete b.Lg[c]};
t.Pw=function(b,c){this.Ib.info("Code loaded for module(s): "+c);var d=this.Lg[c];d.cz=b.sw();d.$E&&Xe(this,c);Kd(b.G,5,b)};t.Gw=function(b,c,d){var e=this.Lg[c];e&&(delete this.Lg[c],af(this,c,e.Mv,d));Kd(b.G,5,b)};a.af=function(b,c,d,e){b.dispatchEvent(new Ye(bf,c));b.Ib.jk("Request failed for module(s): "+c);d&&d(e)};t.w=function(){Ve.n.w.call(this);this.N.G();this.N=k};a.$e=Fd("evaluateCode"),a.Ze=Fd("requestSuccess"),a.bf=Fd("requestError"),a.Ye=function(b,c){gd.call(this,b);this.DX=c};
y(Ye,gd);a.We=function(){this.cz=this.KG=k;this.$E=m;this.Mv=this.Sz=k};a.cf=function(b,c){N.call(this);this.gF=c;this.vg=[];b>this.gF&&f(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var d=0;d<b;d++)this.vg.push(this.Kk())};y(cf,N);t=cf.prototype;t.ZB=k;t.AC=k;a.df=function(b,c){b.vg.length<b.gF?b.vg.push(c):b.Av(c)};t.Kk=function(){return this.ZB?this.ZB():{}};t.Av=function(b){if(this.AC)this.AC(b);else if(ra(b))if(qa(b.G))b.G();else for(var c in b)delete b[c]};
t.w=function(){cf.n.w.call(this);for(var b=this.vg;b.length;)this.Av(b.pop());delete this.vg};a.gf=function(){this.Df=[];this.Cy=new Nd;this.Nt=this.FH=this.GH=this.pH=0;this.$j=new Nd;this.cv=this.EH=0;this.fy=1;this.al=new cf(0,4E3);this.al.Kk=function(){return new ef};this.$o=new cf(0,50);this.$o.Kk=function(){return new ff};var b=this;this.Uw=new cf(0,2E3);this.Uw.Kk=function(){return String(b.fy++)};this.Uw.Av=ba();this.YK=3};gf.prototype.Ca=ke("goog.debug.Trace");a.ff=function(){this.sA=this.time=this.count=0};
ff.prototype.toString=function(){var b=[];b.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.sA&&b.push(" [VarAlloc = ",this.sA,"]");return b.join("")};a.ef=function(){},a.kf=function(b,c,d,e){var g=[];-1==d?g.push("    "):g.push(hf(b.Uq-d));g.push(" ",jf(b.Uq-c));0==b.Vq?g.push(" Start        "):1==b.Vq?(g.push(" Done "),g.push(hf(b.jY-b.startTime)," ms ")):g.push(" Comment      ");g.push(e,b);0<b.DH&&g.push("[VarAlloc ",b.DH,"] ");return g.join("")};
ef.prototype.toString=function(){return this.type==k?this.PB:"["+this.type+"] "+this.PB};gf.prototype.reset=function(b){this.YK=b;for(b=0;b<this.Df.length;b++){var c=this.al.id;c&&df(this.Uw,c);df(this.al,this.Df[b])}this.Df.length=0;this.Cy.clear();this.pH=za();this.cv=this.EH=this.Nt=this.FH=this.GH=0;c=this.$j.Cb();for(b=0;b<c.length;b++){var d=this.$j.get(c[b]);d.count=0;d.time=0;d.sA=0;df(this.$o,d)}this.$j.clear()};gf.prototype.Op=u(14);
gf.prototype.toString=function(){for(var b=[],c=-1,d=[],e=0;e<this.Df.length;e++){var g=this.Df[e];1==g.Vq&&d.pop();b.push(" ",kf(g,this.pH,c,d.join("")));c=g.Uq;b.push("\n");0==g.Vq&&d.push("|  ")}if(0!=this.Cy.Ra()){var h=za();b.push(" Unstopped timers:\n");P.forEach(this.Cy,function(c){b.push("  ",c," (",h-c.startTime," ms, started at ",jf(c.startTime),")\n")})}c=this.$j.Cb();for(e=0;e<c.length;e++)d=this.$j.get(c[e]),1<d.count&&b.push(" TOTAL ",d,"\n");b.push("Total tracers created ",this.EH,
"\n","Total comments created ",this.cv,"\n","Overhead start: ",this.GH," ms\n","Overhead end: ",this.FH," ms\n","Overhead comment: ",this.Nt," ms\n");return b.join("")};a.hf=function(b){var b=Math.round(b),c="";1E3>b&&(c=" ");100>b&&(c="  ");10>b&&(c="   ");return c+b},a.jf=function(b){b=Math.round(b);return String(100+b/1E3%60).substring(1,3)+"."+String(1E3+b%1E3).substring(1,4)};new gf;a.lf=function(b){return function(){return b}},a.mf=lf(m),a.nf=lf(j),a.of=function(b){return b},a.pf=function(b,c){var d=arguments,e=d.length;return function(){var b;e&&(b=d[e-1].apply(this,arguments));for(var c=e-2;0<=c;c--)b=d[c].call(this,b);return b}},a.qf=function(b){var c=arguments,d=c.length;return function(){for(var b,g=0;g<d;g++)b=c[g].apply(this,arguments);return b}},a.rf=function(b){return function(){return!b.apply(this,arguments)}};a.sf=function(){N.call(this)};y(sf,N);a.tf=function(b,c){this.dr=b;this.da=c};tf.prototype.execute=function(b){this.dr&&(this.dr.call(this.da||k,b),this.dr=this.da=k)};tf.prototype.abort=function(){this.da=this.dr=k};a.uf=function(b,c){N.call(this);this.rC=b;this.sd=c;this.xy=[];this.my=[];this.FC=[]};y(uf,N);t=uf.prototype;t.dg=k;t.XO=sf;t.by=k;t.Ld=p("sd");t.ww=function(){var b=[];return jQuery.support.cors?this.dg:ma(this.dg)?(z.forEach(this.dg,function(c){b.push(vf(new wf(c)))}),b):vf(new wf(this.dg))};t.Ts=function(b,c){return this.Us(this.xy,b,c)};t.Us=function(b,c,d){c=new tf(c,d);b.push(c);return c};t.Od=function(){return!!this.by};
t.ro=function(b){var c=new this.XO;b();this.by=c;c=(c=!!xf(this.FC,b()))||!!xf(this.xy,b());c||(this.my.length=0);return c};t.Uh=function(b){if(b=xf(this.my,b)){var c="Module errback failures: "+b;window.setTimeout(function(){f(Error(c))},0)}this.FC.length=0;this.xy.length=0};a.xf=function(b,c){for(var d=[],e=0;e<b.length;e++)try{b[e].execute(c)}catch(g){d.push(g)}b.length=0;return d.length?d:k};t.w=function(){uf.n.w.call(this);Tc(this.by)};a.yf=function(){N.call(this);this.gd={};this.cf=[];this.Sj=[];this.kd=[];this.ri=[];this.lq={};this.kC=this.dq=new uf([],"")};y(yf,N);ia(yf);t=yf.prototype;t.Ca=ke("goog.module.ModuleManager");t.tB=m;t.Px=k;t.xq=0;t.KE=m;t.XH=m;t.uF=k;t.pD=p("uF");t.Wb=function(){return 0<this.cf.length};
a.Af=function(b){var c=b.Wb();c!=b.KE&&(zf(b,c?"active":"idle"),b.KE=c);c=0<b.ri.length;c!=b.XH&&(zf(b,c?"userActive":"userIdle"),b.XH=c)},a.Cf=function(b,c,d,e,g){d.Ts(g.Fk,g);d.Us(d.my,function(b){Le(g,Error(b))},i);Bf(b,c)?e&&(b.Ca.info("User initiated module already loading: "+c),z.contains(b.ri,c)||b.ri.push(c),Af(b)):e?(b.Ca.info("User initiated module load: "+c),z.contains(b.ri,c)||b.ri.push(c)):b.Ca.info("Initiating module load: "+c)},a.Ef=function(b,c){z.Eb(b.cf)?Df(b,c):(b.kd.push(c),Af(b))},
a.Df=function(b,c,d,e){d||(b.xq=0);for(var g=0;g<c.length;g++)b.gd[c[g]].Od()&&f(Error("Module already loaded: "+c[g]));d=[];for(g=0;g<c.length;g++)d=d.concat(Ff(b,c[g]));z.yo(d);!b.tB&&1<d.length&&(g=d.shift(),b.Ca.info("Must load "+g+" module before "+c),b.kd=z.map(d,function(b){return[b]}).concat(b.kd),d=[g]);b.Ca.info("Loading module(s): "+d);b.cf=d;b.Sj=b.tB?c:z.clone(d);Af(b);c=v(b.Px.FO,b.Px,z.clone(d),b.gd,k,v(b.LM,b),v(b.MM,b),!!e);(b=5E3*Math.pow(b.xq,2))?window.setTimeout(c,b):c()},a.Ff=
function(b,c){for(var d=[c],e=z.clone(b.gd[c].rC);e.length;){var g=e.pop();b.gd[g].Od()||(d.unshift(g),Array.prototype.unshift.apply(e,b.gd[g].rC))}z.yo(d);return d},a.Jf=function(b){var c=yf.O();c.tg?c.Ca.jk("Module loaded after module manager was disposed: "+b):(c.Ca.info("Module loaded: "+b),c.gd[b].ro(v(c.pD,c))&&Gf(c,Hf),z.remove(c.ri,b),z.remove(c.cf,b),z.Eb(c.cf)&&If(c),Af(c))},a.Bf=function(b,c){if(z.contains(b.cf,c))return j;for(var d=0;d<b.kd.length;d++)if(z.contains(b.kd[d],c))return j;
return m};t.load=function(b,c){var d=[];z.yo([b],d);for(var e=[],g={},h=0;h<d.length;h++){var l=d[h],n=this.gd[l],q=new Ke;g[l]=q;n.Od()?q.Fk(this.uF):(Cf(this,l,n,!!c,q),Bf(this,l)||e.push(l))}0<e.length&&Ef(this,e);return g[b]};a.Hf=4;t=yf.prototype;
t.LM=function(b){this.xq++;401==b?(this.Ca.info("Module loading unauthorized"),Gf(this,0),this.kd.length=0):410==b?(Kf(this,3),If(this)):3<=this.xq?(this.Ca.info("Aborting after failure to load: "+this.cf),Kf(this,1),If(this)):(this.Ca.info("Retrying after failure to load: "+this.cf),Df(this,this.Sj,j,8001==b))};t.MM=function(){this.Ca.info("Aborting after timeout: "+this.cf);Kf(this,2);If(this)};
a.Kf=function(b,c){1<b.Sj.length?b.kd=z.map(b.Sj,function(b){return[b]}).concat(b.kd):Gf(b,c)},a.Gf=function(b,c){var d=b.Sj;b.cf.length=0;for(var e=[],g=0;g<b.kd.length;g++){var h=z.filter(b.kd[g],function(b){var c=Ff(this,b);return z.some(d,function(b){return z.contains(c,b)})},b);z.extend(e,h)}for(g=0;g<d.length;g++)z.Tr(e,d[g]);for(g=0;g<e.length;g++){for(h=0;h<b.kd.length;h++)z.remove(b.kd[h],e[g]);z.remove(b.ri,e[g])}var l=b.lq.error;if(l)for(g=0;g<l.length;g++)for(var n=l[g],h=0;h<e.length;h++)n("error",
e[h],c);for(g=0;g<d.length;g++)b.gd[d[g]]&&b.gd[d[g]].Uh(c);b.Sj.length=0;Af(b)},a.If=function(b){for(;b.kd.length;){var c=z.filter(b.kd.shift(),function(b){return!this.gd[b].Od()},b);if(0<c.length){Df(b,c);return}}Af(b)};t.Ts=function(b,c){ma(b)||(b=[b]);for(var d=0;d<b.length;d++)this.Us(b[d],c)};t.Us=function(b,c){var d=this.lq;d[b]||(d[b]=[]);d[b].push(c)};a.zf=function(b,c){for(var d=b.lq[c],e=0;d&&e<d.length;e++)d[e](c)};
t.w=function(){yf.n.w.call(this);Sc(H.Ka(this.gd),this.dq);this.lq=this.kd=this.ri=this.Sj=this.cf=this.gd=k};a.Lf=function(b){this.Ga=b},a.Mf=/\s*;\s*/;t=Lf.prototype;t.isEnabled=function(){return navigator.cookieEnabled};t.set=function(b,c,d,e,g,h){/[;=\s]/.test(b)&&f(Error('Invalid cookie name "'+b+'"'));/[;\r\n]/.test(c)&&f(Error('Invalid cookie value "'+c+'"'));la(d)||(d=-1);g=g?";domain="+g:"";e=e?";path="+e:"";h=h?";secure":"";d=0>d?"":0==d?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(za()+1E3*d)).toUTCString();this.Ga.cookie=b+"="+c+g+e+d+h};
t.get=function(b,c){for(var d=b+"=",e=(this.Ga.cookie||"").split(Mf),g=0,h;h=e[g];g++){if(0==h.lastIndexOf(d,0))return h.substr(d.length);if(h==b)return""}return c};t.remove=function(b,c,d){var e=this.Cd(b);this.set(b,"",0,c,d);return e};t.Cb=function(){return Nf(this).keys};t.Ka=function(){return Nf(this).YH};t.Eb=function(){return!this.Ga.cookie};t.Ra=function(){return!this.Ga.cookie?0:(this.Ga.cookie||"").split(Mf).length};t.Cd=function(b){return la(this.get(b))};
t.pg=function(b){for(var c=Nf(this).YH,d=0;d<c.length;d++)if(c[d]==b)return j;return m};t.clear=function(){for(var b=Nf(this).keys,c=b.length-1;0<=c;c--)this.remove(b[c])};a.Nf=function(b){for(var b=(b.Ga.cookie||"").split(Mf),c=[],d=[],e,g,h=0;g=b[h];h++)e=g.indexOf("="),-1==e?(c.push(""),d.push(g)):(c.push(g.substring(0,e)),d.push(g.substring(e+1)));return{keys:c,YH:d}},a.Of=new Lf(document);Of.YU=3950;a.Pf=function(b,c,d,e){this.top=b;this.right=c;this.bottom=d;this.left=e};Pf.prototype.clone=function(){return new Pf(this.top,this.right,this.bottom,this.left)};Pf.prototype.contains=function(b){return!this||!b?m:b instanceof Pf?b.left>=this.left&&b.right<=this.right&&b.top>=this.top&&b.bottom<=this.bottom:b.x>=this.left&&b.x<=this.right&&b.y>=this.top&&b.y<=this.bottom};Pf.prototype.expand=u(59);
a.Qf=function(b,c){var d=c.x<b.left?c.x-b.left:c.x>b.right?c.x-b.right:0,e=c.y<b.top?c.y-b.top:c.y>b.bottom?c.y-b.bottom:0;return Math.sqrt(d*d+e*e)};a.Rf=function(b,c,d,e){this.left=b;this.top=c;this.width=d;this.height=e};Rf.prototype.clone=function(){return new Rf(this.left,this.top,this.width,this.height)};a.Sf=function(b){return new Pf(b.top,b.left+b.width,b.top+b.height,b.left)};
Rf.prototype.tE=function(b){var c=Math.max(this.left,b.left),d=Math.min(this.left+this.width,b.left+b.width);if(c<=d){var e=Math.max(this.top,b.top),b=Math.min(this.top+this.height,b.top+b.height);if(e<=b)return this.left=c,this.top=e,this.width=d-c,this.height=b-e,j}return m};
Rf.prototype.contains=function(b){return b instanceof Rf?this.left<=b.left&&this.left+this.width>=b.left+b.width&&this.top<=b.top&&this.top+this.height>=b.top+b.height:b.x>=this.left&&b.x<=this.left+this.width&&b.y>=this.top&&b.y<=this.top+this.height};Rf.prototype.pl=function(){return new Ob(this.width,this.height)};a.Uf=function(b,c,d){oa(c)?Tf(b,d,c):H.forEach(c,xa(Tf,b))},a.Tf=function(b,c,d){(d=Vf(b,d))&&(b.style[d]=c)},a.Vf=function(b,c){var d=eb(c);if(b.style[d]===i){var e=C?"Webkit":B?"Moz":A?"ms":rb?"O":k,g;g=oa(i)?$a(i):"\\s";g=c.replace(RegExp("(^"+(g?"|["+g+"]+":"")+")([a-z])","g"),function(b,c,d){return c+d.toUpperCase()});e+=g;if(b.style[e]!==i)return e}return d},a.Wf=function(b,c){var d=Rb(b);return d.defaultView&&d.defaultView.getComputedStyle&&(d=d.defaultView.getComputedStyle(b,k))?d[c]||d.getPropertyValue(c)||
"":""},a.Xf=function(b,c){return b.currentStyle?b.currentStyle[c]:k},a.Yf=function(b,c){return Wf(b,c)||Xf(b,c)||b.style&&b.style[c]},a.Zf=function(b){return Yf(b,"position")},a.ag=function(b,c,d){var e,g=B&&(kb||vb)&&D("1.9");c instanceof Mb?(e=c.x,c=c.y):(e=c,c=d);b.style.left=$f(e,g);b.style.top=$f(c,g)},a.bg=function(b){b=b?Rb(b):document;return A&&!Fb(9)&&!Kc(Sb(b))?b.body:b.documentElement},a.cg=function(b){var c=b.getBoundingClientRect();A&&(b=b.ownerDocument,c.left-=b.documentElement.clientLeft+
b.body.clientLeft,c.top-=b.documentElement.clientTop+b.body.clientTop);return c},a.dg=function(b){if(A&&!Fb(8))return b.offsetParent;for(var c=Rb(b),d=Yf(b,"position"),e="fixed"==d||"absolute"==d,b=b.parentNode;b&&b!=c;b=b.parentNode)if(d=Yf(b,"position"),e=e&&"static"==d&&b!=c.documentElement&&b!=c.body,!e&&(b.scrollWidth>b.clientWidth||b.scrollHeight>b.clientHeight||"fixed"==d||"absolute"==d||"relative"==d))return b;return k},a.gg=function(b){for(var c=new Pf(0,Infinity,Infinity,0),d=Sb(b),e=d.Ba().body,
g=d.Ba().documentElement,h=Zb(d.Ga);b=dg(b);)if((!A||0!=b.clientWidth)&&(!C||0!=b.clientHeight||b!=e)&&b!=e&&b!=g&&"visible"!=Yf(b,"overflow")){var l=eg(b),n;n=b;if(B&&!D("1.9")){var q=parseFloat(Wf(n,"borderLeftWidth"));if(fg(n))var r=n.offsetWidth-n.clientWidth-q-parseFloat(Wf(n,"borderRightWidth")),q=q+r;n=new Mb(q,parseFloat(Wf(n,"borderTopWidth")))}else n=new Mb(n.clientLeft,n.clientTop);l.x+=n.x;l.y+=n.y;c.top=Math.max(c.top,l.y);c.right=Math.min(c.right,l.x+b.clientWidth);c.bottom=Math.min(c.bottom,
l.y+b.clientHeight);c.left=Math.max(c.left,l.x)}e=h.scrollLeft;h=h.scrollTop;c.left=Math.max(c.left,e);c.top=Math.max(c.top,h);d=Yb(d.Oa());c.right=Math.min(c.right,e+d.width);c.bottom=Math.min(c.bottom,h+d.height);return 0<=c.top&&0<=c.left&&c.bottom>c.top&&c.right>c.left?c:k},a.ig=function(b,c){var d,e=eg(b),g=eg(c),h=hg(c);d=e.x-g.x-h.left;var e=e.y-g.y-h.top,g=c.clientHeight-b.offsetHeight,h=c.scrollLeft,l=c.scrollTop,h=h+Math.min(d,Math.max(d-(c.clientWidth-b.offsetWidth),0)),l=l+Math.min(e,
Math.max(e-g,0));d=new Mb(h,l);c.scrollLeft=d.x;c.scrollTop=d.y},a.eg=function(b){var c,d=Rb(b),e=Yf(b,"position"),g=B&&d.getBoxObjectFor&&!b.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(b))&&(0>c.screenX||0>c.screenY),h=new Mb(0,0),l=bg(d);if(b==l)return h;if(b.getBoundingClientRect)c=cg(b),b=Lc(Sb(d)),h.x=c.left+b.x,h.y=c.top+b.y;else if(d.getBoxObjectFor&&!g)c=d.getBoxObjectFor(b),b=d.getBoxObjectFor(l),h.x=c.screenX-b.screenX,h.y=c.screenY-b.screenY;else{c=b;do{h.x+=c.offsetLeft;
h.y+=c.offsetTop;c!=b&&(h.x+=c.clientLeft||0,h.y+=c.clientTop||0);if(C&&"fixed"==Zf(c)){h.x+=d.body.scrollLeft;h.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=b);if(rb||C&&"absolute"==e)h.y-=d.body.offsetTop;for(c=b;(c=dg(c))&&c!=d.body&&c!=l;)if(h.x-=c.scrollLeft,!rb||"TR"!=c.tagName)h.y-=c.scrollTop}return h},a.kg=function(b,c){var d=jg(b),e=jg(c);return new Mb(d.x-e.x,d.y-e.y)},a.jg=function(b){var c=new Mb;if(1==b.nodeType){if(b.getBoundingClientRect){var d=cg(b);c.x=d.left;c.y=d.top}else{var d=
Lc(Sb(b)),e=eg(b);c.x=e.x-d.x;c.y=e.y-d.y}if(B&&!D(12)){var g;A?g="-ms-transform":C?g="-webkit-transform":rb?g="-o-transform":B&&(g="-moz-transform");var h;g&&(h=Yf(b,g));h||(h=Yf(b,"transform"));h?(b=h.match(lg),b=!b?new Mb(0,0):new Mb(parseFloat(b[1]),parseFloat(b[2]))):b=new Mb(0,0);c=new Mb(c.x+b.x,c.y+b.y)}}else g=qa(b.gD),h=b,b.targetTouches?h=b.targetTouches[0]:g&&b.Tb.targetTouches&&(h=b.Tb.targetTouches[0]),c.x=h.clientX,c.y=h.clientY;return c},a.mg=function(b,c,d){var e=eg(b);c instanceof
Mb&&(d=c.y,c=c.x);ag(b,b.offsetLeft+(c-e.x),b.offsetTop+(d-e.y))},a.ng=function(b,c,d){c instanceof Ob?(d=c.height,c=c.width):d==i&&f(Error("missing height argument"));b.style.width=$f(c,j);b.style.height=$f(d,j)},a.$f=function(b,c){"number"==typeof b&&(b=(c?Math.round(b):b)+"px");return b},a.pg=function(b){if("none"!=Yf(b,"display"))return og(b);var c=b.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";b=og(b);c.display=d;c.position=g;c.visibility=
e;return b},a.og=function(b){var c=b.offsetWidth,d=b.offsetHeight,e=C&&!c&&!d;return(!la(c)||e)&&b.getBoundingClientRect?(b=cg(b),new Ob(b.right-b.left,b.bottom-b.top)):new Ob(c,d)},a.qg=function(b){var c=eg(b),b=pg(b);return new Rf(c.x,c.y,b.width,b.height)},a.rg=function(b,c){var d=b.style;"opacity"in d?d.opacity=c:"MozOpacity"in d?d.MozOpacity=c:"filter"in d&&(d.filter=""===c?"":"alpha(opacity="+100*c+")")},a.R=function(b,c){b.style.display=c?"":"none"},a.sg=function(b){return"none"!=b.style.display},
a.fg=function(b){return"rtl"==Yf(b,"direction")},a.tg=B?"MozUserSelect":C?"WebkitUserSelect":k,a.ug=function(b,c,d){d=!d?b.getElementsByTagName("*"):k;if(tg){if(c=c?"none":"",b.style[tg]=c,d)for(var b=0,e;e=d[b];b++)e.style[tg]=c}else if(A||rb)if(c=c?"on":"",b.setAttribute("unselectable",c),d)for(b=0;e=d[b];b++)e.setAttribute("unselectable",c)},a.vg=function(b){return new Ob(b.offsetWidth,b.offsetHeight)},a.wg=function(b,c,d,e){if(/^\d+px?$/.test(c))return parseInt(c,10);var g=b.style[d],h=b.runtimeStyle[d];
b.runtimeStyle[d]=b.currentStyle[d];b.style[d]=c;c=b.style[e];b.style[d]=g;b.runtimeStyle[d]=h;return c},a.xg=function(b,c){var d=Xf(b,c);return d?wg(b,d,"left","pixelLeft"):0},a.yg=function(b){if(A){var c=xg(b,"paddingLeft"),d=xg(b,"paddingRight"),e=xg(b,"paddingTop"),b=xg(b,"paddingBottom");return new Pf(e,d,b,c)}c=Wf(b,"paddingLeft");d=Wf(b,"paddingRight");e=Wf(b,"paddingTop");b=Wf(b,"paddingBottom");return new Pf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.zg={thin:2,medium:4,
thick:6},a.Ag=function(b,c){if("none"==Xf(b,c+"Style"))return 0;var d=Xf(b,c+"Width");return d in zg?zg[d]:wg(b,d,"left","pixelLeft")},a.hg=function(b){if(A){var c=Ag(b,"borderLeft"),d=Ag(b,"borderRight"),e=Ag(b,"borderTop"),b=Ag(b,"borderBottom");return new Pf(e,d,b,c)}c=Wf(b,"borderLeftWidth");d=Wf(b,"borderRightWidth");e=Wf(b,"borderTopWidth");b=Wf(b,"borderBottomWidth");return new Pf(parseFloat(e),parseFloat(d),parseFloat(b),parseFloat(c))},a.lg=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;a.Bg="/update",a.Cg=m;a.Dg=void 0,a.Eg=void 0,a.Fg=void 0,a.Gg=void 0,a.Hg=void 0,a.Ig=void 0,a.Jg=void 0;Jg=Ig=Hg=Gg=Fg=Eg=Dg=m;a.Kg=nb();Kg&&(-1!=Kg.indexOf("Firefox")?Dg=j:-1!=Kg.indexOf("Camino")?Eg=j:-1!=Kg.indexOf("iPhone")||-1!=Kg.indexOf("iPod")?Fg=j:-1!=Kg.indexOf("iPad")?Gg=j:-1!=Kg.indexOf("Android")?Hg=j:-1!=Kg.indexOf("Chrome")?Ig=j:-1!=Kg.indexOf("Safari")&&(Jg=j));a.Lg=Dg,a.Mg=Eg,a.Ng=Fg,a.Og=Gg,a.Pg=Hg,a.Qg=Ig,a.Rg=Jg;a.Sg=void 0,a.Tg=void 0,a.Ug=void 0,a.Vg=void 0,a.Wg=Ng||Og,a.Xg=Wg&&navigator.userAgent.match(/OS\s(\w+)/)[1].slice(0,3).replace(/_/g,".");Sg="contentEditable"in document.documentElement&&!(Wg&&5>Xg)&&!(Pg&&3>navigator.userAgent.match(/Android (\d)/)[1]);a.Yg=$(document.documentElement);Tg="ontouchstart"in window;Yg.addClass(sb?"mobile":"no-mobile");Ug=Wg&&6<=Xg||!sb;document.createElement("input");Vg=1.5<=window.devicePixelRatio;window.JSON||(window.JSON={parse:Wc,stringify:Zc});a.Zg=void 0;
"orientation"in window&&(Zg=function(){var b={"0":"portrait",90:"landscape landscape-left","-90":"landscape landscape-right"},c=b[window.orientation]||"";Yg.removeClass(H.Ka(b).join(" ")).addClass(c)},$(window).on("orientationchange",Zg),Zg());$.support.fixedPosition=j;a:{var $g=document.createElement("bootstrap"),ah={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"},bh;for(bh in ah)if($g.style[bh]!==i)break a};a.ch={},a.dh=void 0,a.eh=void 0,a.S=void 0,a.fh=void 0,a.gh=void 0,a.hh=void 0,a.ih=void 0,a.jh=void 0,a.kh=void 0,a.lh=void 0,a.mh=void 0,a.nh=void 0,a.oh=void 0,a.ph=void 0,a.qh=void 0,a.rh={},a.sh=z.reduce($("script.json-inline"),function(b,c){var d=$(c).data("name");b[d]=JSON.parse(c.text);return b},{});dh={};
H.forEach(sh,function(b,c){switch(c){case "redirect_to":eh=b;break;case "current_user":S=b;S.gw=b[0];S.ua=function(){return"-1"!==S.wd};S.wd=b[3];S.yi=1===b[7];S.$k=b[8];S.Yn=b[9];S.fX=b[10];S.ey=b[11];S.zr=b[12];S.ML=function(){return S[2].replace("_s","_is")};break;case "env":H.extend(dh,{$l:b[0],av:b[1],sc:b[2],wE:b[3],iY:"http://static."+b[0],HE:m});break;case "current_question":fh={ia:b[0],fe:b[1],uq:b[2],eA:b[3],wW:b[4],Cm:b[5],ib:b[6],wx:b[7],oX:b[8],lY:b[9],IW:b[10],lb:b[11],IS:b[12],Pg:b[13],
iW:b[14],status:b[15],jL:b[16]};break;case "my_answer":gh=b;break;case "current_question_owner":S.Pg=b;break;case "need_first_answer_guide":S.vL=b;break;case "bio":hh=b;break;case "current_topic":ih=b;break;case "current_people":jh=b;jh.gw=b[0];jh.id=b[3];break;case "current_list":kh=b;break;case "block_topic":lh=b;break;case "draft":ch.de=b.length?b:k;break;case "sina_bind_info":b.length&&(rh.id=b[0],rh.name=b[1]);break;case "disabled_components":mh=b;break;case "comet_path":Bg=b;break;case "enforce_realname":nh=
b;break;case "action_ban":oh=b;break;case "permissions":ph=b,qh=function(b){return z.contains(ph,b)}}});fh&&(fh.DE=m);mh||(mh=[]);navigator.userAgent.match(/iPad/i)&&(dh.HE=j,dh.sc=j);dh.$l&&(document.domain=dh.$l);dh.av&&(Bg="http://"+dh.av+Bg);dh.sc&&window.scrollTo(0,1);a.uh=function(b,c,d,e,g){if(!A&&(!C||!D("525")))return j;if(kb&&g)return th(b);if(g&&!e||!d&&(17==c||18==c||kb&&91==c))return m;if(C&&e&&d)switch(b){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return m}if(A&&e&&c==b)return m;switch(b){case 13:return!(A&&Fb(9));case 27:return!C}return th(b)},a.th=function(b){if(48<=b&&57>=b||96<=b&&106>=b||65<=b&&90>=b||C&&0==b)return j;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;
default:return m}},a.vh=function(b){switch(b){case 61:return 187;case 59:return 186;case 224:return 91;case 0:return 224;default:return b}};a.wh=function(b){var c=b.offsetLeft,d=b.offsetParent;!d&&"fixed"==Zf(b)&&(d=Rb(b).documentElement);if(!d)return c;if(B)var e=hg(d),c=c+e.left;else Fb(8)&&(e=hg(d),c-=e.left);return fg(d)?d.clientWidth-(c+b.offsetWidth):c};a.xh=function(b,c,d){N.call(this);this.target=b;this.handle=c||b;this.js=d||new Rf(NaN,NaN,NaN,NaN);this.Ga=Rb(b);this.N=new le(this);O(this.handle,["touchstart","mousedown"],this.qm,m,this)};y(xh,Gd);a.yh=A||B&&D("1.9.3");t=xh.prototype;t.clientX=0;t.clientY=0;t.screenX=0;t.screenY=0;t.wt=0;t.xt=0;t.Mi=0;t.Ni=0;t.cc=j;t.Ri=m;t.Tw=0;t.YO=0;t.CN=m;t.qi=m;t.xh=ca("qi");t.h=p("N");t.cH=function(b){this.Tw=Math.pow(b,2)};t.Xa=ca("cc");
t.w=function(){xh.n.w.call(this);xd(this.handle,["touchstart","mousedown"],this.qm,m,this);this.N.removeAll();yh&&this.Ga.releaseCapture();this.N=this.handle=this.target=k};a.zh=function(b){la(b.gf)||(b.gf=fg(b.target));return b.gf};
t.qm=function(b){var c="mousedown"==b.type;if(this.cc&&!this.Ri&&(!c||nd(b))){Ah(b);if(0==this.Tw)if(this.dispatchEvent(new Bh("start",this,b.clientX,b.clientY,b)))this.Ri=j,b.preventDefault();else return;else b.preventDefault();var c=this.Ga,d=c.documentElement,e=!yh;this.N.e(c,["touchmove","mousemove"],this.PM,e);this.N.e(c,["touchend","mouseup"],this.Sq,e);yh?(d.setCapture(m),this.N.e(d,"losecapture",this.Sq)):this.N.e(ac(c),"blur",this.Sq);A&&this.CN&&this.N.e(c,"dragstart",hd);this.SR&&this.N.e(this.SR,
"scroll",this.ry,e);this.clientX=this.wt=b.clientX;this.clientY=this.xt=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;this.Mi=this.qi?wh(this.target):this.target.offsetLeft;this.Ni=this.target.offsetTop;this.Fy=Lc(Sb(this.Ga));this.YO=za()}else this.dispatchEvent("earlycancel")};
t.Sq=function(b,c){this.N.removeAll();yh&&this.Ga.releaseCapture();if(this.Ri){Ah(b);this.Ri=m;var d=Ch(this,this.Mi),e=Dh(this,this.Ni);this.dispatchEvent(new Bh("end",this,b.clientX,b.clientY,b,d,e,c||"touchcancel"==b.type))}else this.dispatchEvent("earlycancel");("touchend"==b.type||"touchcancel"==b.type)&&b.preventDefault()};a.Ah=function(b){var c=b.type;"touchstart"==c||"touchmove"==c?b.z(b.Tb.targetTouches[0],b.currentTarget):("touchend"==c||"touchcancel"==c)&&b.z(b.Tb.changedTouches[0],b.currentTarget)};
t.PM=function(b){if(this.cc){Ah(b);var c=(this.qi&&zh(this)?-1:1)*(b.clientX-this.clientX),d=b.clientY-this.clientY;this.clientX=b.clientX;this.clientY=b.clientY;this.screenX=b.screenX;this.screenY=b.screenY;if(!this.Ri){var e=this.wt-this.clientX,g=this.xt-this.clientY;if(e*e+g*g>this.Tw)if(this.dispatchEvent(new Bh("start",this,b.clientX,b.clientY,b)))this.Ri=j;else{this.tg||this.Sq(b);return}}d=Eh(this,c,d);c=d.x;d=d.y;this.Ri&&this.dispatchEvent(new Bh("beforedrag",this,b.clientX,b.clientY,b,
c,d))&&(Fh(this,b,c,d),b.preventDefault())}};a.Eh=function(b,c,d){var e=Lc(Sb(b.Ga)),c=c+(e.x-b.Fy.x),d=d+(e.y-b.Fy.y);b.Fy=e;b.Mi+=c;b.Ni+=d;c=Ch(b,b.Mi);b=Dh(b,b.Ni);return new Mb(c,b)};t.ry=function(b){var c=Eh(this,0,0);b.clientX=this.clientX;b.clientY=this.clientY;Fh(this,b,c.x,c.y)};
a.Fh=function(b,c,d,e){b.sv(d,e);b.dispatchEvent(new Bh("drag",b,c.clientX,c.clientY,c,d,e))},a.Ch=function(b,c){var d=b.js,e=!isNaN(d.left)?d.left:k,d=!isNaN(d.width)?d.width:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))},a.Dh=function(b,c){var d=b.js,e=!isNaN(d.top)?d.top:k,d=!isNaN(d.height)?d.height:0;return Math.min(e!=k?e+d:Infinity,Math.max(e!=k?e:-Infinity,c))};
t.sv=function(b,c){this.qi&&zh(this)?this.target.style.right=b+"px":this.target.style.left=b+"px";this.target.style.top=c+"px"};a.Bh=function(b,c,d,e,g,h,l,n){gd.call(this,b);this.clientX=d;this.clientY=e;this.AB=g;this.left=la(h)?h:c.Mi;this.top=la(l)?l:c.Ni;this.Oq=c;this.KW=!!n};y(Bh,gd);a.Gh=function(b){N.call(this);this.g=b;b=A?"focusout":"blur";this.DO=O(this.g,A?"focusin":"focus",this,!A);this.EO=O(this.g,b,this,!A)};y(Gh,Gd);Gh.prototype.handleEvent=function(b){var c=new kd(b.Tb);c.type="focusin"==b.type||"focus"==b.type?"focusin":"focusout";this.dispatchEvent(c)};Gh.prototype.w=function(){Gh.n.w.call(this);zd(this.DO);zd(this.EO);delete this.g};a.Hh=function(){};ia(Hh);Hh.prototype.fy=0;a.Ih=function(b){return":"+(b.fy++).toString(36)};Hh.O();a.T=function(b){N.call(this);this.aa=b||Sb();this.gf=Jh};y(T,Gd);T.prototype.BN=Hh.O();a.Jh=k,a.Kh=function(b,c){switch(b){case 1:return c?"disable":"enable";case 2:return c?"highlight":"unhighlight";case 4:return c?"activate":"deactivate";case 8:return c?"select":"unselect";case 16:return c?"check":"uncheck";case 32:return c?"focus":"blur";case 64:return c?"open":"close"}f(Error("Invalid component state"))};t=T.prototype;t.sd=k;t.ya=m;t.g=k;t.gf=k;t.ay=k;t.Sa=k;t.Rb=k;t.Me=k;t.cI=m;
t.Ld=function(){return this.sd||(this.sd=Ih(this.BN))};a.Lh=function(b,c){b.Sa&&b.Sa.Me&&(H.remove(b.Sa.Me,b.sd),H.add(b.Sa.Me,c,b));b.sd=c};t.m=p("g");t.Yi=function(b){return this.g?this.aa.Yi(b,this.g):k};t.h=function(){return this.ql||(this.ql=new le(this))};a.Nh=function(b,c){b==c&&f(Error("Unable to set parent component"));c&&(b.Sa&&b.sd&&Mh(b.Sa,b.sd)&&b.Sa!=c)&&f(Error("Unable to set parent component"));b.Sa=c;T.n.mt.call(b,c)};t.getParent=p("Sa");
t.mt=function(b){this.Sa&&this.Sa!=b&&f(Error("Method not supported"));T.n.mt.call(this,b)};t.K=p("aa");t.v=function(){this.g=this.aa.createElement("div")};t.W=function(b){this.Ys(b)};t.Ys=function(b,c){this.ya&&f(Error("Component already rendered"));this.g||this.v();b?b.insertBefore(this.g,c||k):this.aa.Ba().body.appendChild(this.g);(!this.Sa||this.Sa.ya)&&this.B()};
t.o=function(b){this.ya&&f(Error("Component already rendered"));if(b&&this.nc(b)){this.cI=j;if(!this.aa||this.aa.Ba()!=Rb(b))this.aa=Sb(b);this.ca(b);this.B()}else f(Error("Invalid element to decorate"))};t.nc=s(j);t.ca=ca("g");t.B=function(){this.ya=j;Oh(this,function(b){!b.ya&&b.m()&&b.B()})};t.hb=function(){Oh(this,function(b){b.ya&&b.hb()});this.ql&&this.ql.removeAll();this.ya=m};
t.w=function(){T.n.w.call(this);this.ya&&this.hb();this.ql&&(this.ql.G(),delete this.ql);Oh(this,function(b){b.G()});!this.cI&&this.g&&M(this.g);this.Sa=this.ay=this.g=this.Me=this.Rb=k};t.H=function(b,c){this.xk(b,Ph(this),c)};
t.xk=function(b,c,d){b.ya&&(d||!this.ya)&&f(Error("Component already rendered"));(0>c||c>Ph(this))&&f(Error("Child component index out of bounds"));if(!this.Me||!this.Rb)this.Me={},this.Rb=[];b.getParent()==this?(H.set(this.Me,b.Ld(),b),z.remove(this.Rb,b)):H.add(this.Me,b.Ld(),b);Nh(b,this);z.In(this.Rb,b,c);b.ya&&this.ya&&b.getParent()==this?(d=this.X(),d.insertBefore(b.m(),d.childNodes[c]||k)):d?(this.g||this.v(),c=Qh(this,c+1),b.Ys(this.X(),c?c.g:k)):this.ya&&(!b.ya&&b.g&&b.g.parentNode&&1==b.g.parentNode.nodeType)&&
b.B()};t.X=p("g");t.ud=function(){this.gf==k&&(this.gf=fg(this.ya?this.g:this.aa.Ba().body));return this.gf};t.fi=function(b){this.ya&&f(Error("Component already rendered"));this.gf=b};a.Ph=function(b){return b.Rb?b.Rb.length:0},a.Mh=function(b,c){return b.Me&&c?H.get(b.Me,c)||k:k},a.Qh=function(b,c){return b.Rb?b.Rb[c]||k:k},a.Oh=function(b,c,d){b.Rb&&z.forEach(b.Rb,c,d)};
t.removeChild=function(b,c){if(b){var d=oa(b)?b:b.Ld(),b=Mh(this,d);d&&b&&(H.remove(this.Me,d),z.remove(this.Rb,b),c&&(b.hb(),b.g&&M(b.g)),Nh(b,k))}b||f(Error("Child is not in parent component"));return b};t.Ws=function(b){for(var c=[];this.Rb&&0!=this.Rb.length;)c.push(this.removeChild(Qh(this,0),b));return c};a.Rh=function(b,c){N.call(this);this.da=new le(this);this.Sg(b||k);c&&(this.ni=c)};y(Rh,Gd);t=Rh.prototype;t.g=k;t.Bk=j;t.qB=k;t.tj=m;t.hS=m;t.Hx=-1;t.Fx=-1;t.$D=m;t.nL=j;t.ni="toggle_display";t.Gh=p("ni");t.m=p("g");t.Sg=function(b){Sh(this);this.g=b};t.Io=u(57);a.Sh=function(b){b.tj&&f(Error("Can not change this state of the popup while showing."))};t.R=p("tj");t.xx=u(50);t.D=function(b){this.Uo&&this.Uo.stop();this.An&&this.An.stop();b?this.Cz():this.vl()};t.ha=ha;
t.Cz=function(){if(!this.tj&&this.jo()){this.g||f(Error("Caller must call setElement before trying to show the popup"));this.ha();var b=Rb(this.g);this.$D&&this.da.e(b,"keydown",this.yP,j);if(this.Bk)if(this.da.e(b,"mousedown",this.MF,j),A){var c;try{c=b.activeElement}catch(d){}for(;c&&"IFRAME"==c.nodeName;){try{var e=c.contentDocument||c.contentWindow.document}catch(g){break}b=e;c=b.activeElement}this.da.e(b,"mousedown",this.MF,j);this.da.e(b,"deactivate",this.KF)}else this.da.e(b,"blur",this.KF);
"toggle_display"==this.ni?(this.g.style.visibility="visible",R(this.g,j)):"move_offscreen"==this.ni&&this.ha();this.tj=j;this.Uo?(wd(this.Uo,"end",this.Hj,m,this),this.Uo.play()):this.Hj()}};t.vl=function(b){if(!this.tj||!this.dispatchEvent({type:"beforehide",target:b}))return m;this.da&&this.da.removeAll();this.tj=m;this.Fx=za();this.An?(wd(this.An,"end",xa(this.XB,b),m,this),this.An.play()):this.XB(b);return j};
t.XB=function(b){"toggle_display"==this.ni?this.hS?Kd(this.aE,0,this):this.aE():"move_offscreen"==this.ni&&(this.g.style.top="-10000px");this.Fj(b)};t.aE=function(){this.g.style.visibility="hidden";R(this.g,m)};t.jo=function(){return this.dispatchEvent("beforeshow")};t.Hj=function(){this.Hx=za();this.Fx=-1;this.dispatchEvent("show")};t.Fj=function(b){this.dispatchEvent({type:"hide",target:b})};t.MF=function(b){b=b.target;!sc(this.g,b)&&((!this.qB||sc(this.qB,b))&&!(150>za()-this.Hx))&&this.vl(b)};
t.yP=function(b){27==b.keyCode&&this.vl(b.target)&&(b.preventDefault(),b.stopPropagation())};t.KF=function(b){if(this.nL){var c=Rb(this.g);if(A||rb){if(b=c.activeElement,!b||sc(this.g,b)||"BODY"==b.tagName)return}else if(b.target!=c)return;150>za()-this.Hx||this.vl()}};t.w=function(){Rh.n.w.call(this);this.da.G();Tc(this.Uo);Tc(this.An);delete this.g;delete this.da};a.Th=function(b,c){T.call(this,c);this.uT=!!b};y(Th,T);t=Th.prototype;t.Zv=k;t.jb=m;t.Lc=k;t.zc=k;t.nf=k;t.L=s("goog-modalpopup");t.fr=p("Lc");t.v=function(){Th.n.v.call(this);var b=this.m();E.add(b,this.L());Dc(b,j);R(b,m);this.Sx();Uh(this)};
t.Sx=function(){this.uT&&!this.zc&&(this.zc=this.K().v("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'}),this.zc.className=this.L()+"-bg",R(this.zc,m),rg(this.zc,0));this.Lc||(this.Lc=this.K().v("div",this.L()+"-bg"),R(this.Lc,m))};a.Uh=function(b){b.nf||(b.nf=b.K().createElement("span"),R(b.nf,m),Dc(b.nf,j),b.nf.style.position="absolute")};t.nc=function(b){return!!b&&"DIV"==b.tagName};
t.ca=function(b){Th.n.ca.call(this,b);E.add(this.m(),this.L());this.Sx();Uh(this);R(this.m(),m)};t.B=function(){this.zc&&jc(this.zc,this.m());jc(this.Lc,this.m());Th.n.B.call(this);kc(this.nf,this.m());this.Zv=new Gh(this.K().Ba());this.h().e(this.Zv,"focusin",this.DP)};t.hb=function(){this.R()&&this.D(m);Tc(this.Zv);Th.n.hb.call(this);M(this.zc);M(this.Lc);M(this.nf)};
t.D=function(b){b!=this.jb&&(this.Rl&&this.Rl.stop(),this.Im&&this.Im.stop(),this.Ql&&this.Ql.stop(),this.Hm&&this.Hm.stop(),b?this.Cz():this.vl())};t.Cz=function(){this.dispatchEvent("beforeshow")&&(this.bz(),this.ha(),this.h().e(this.K().Oa(),"resize",this.bz),Vh(this,j),this.focus(),this.jb=j,this.Rl&&this.Im?(wd(this.Rl,"end",this.Vh,m,this),this.Im.play(),this.Rl.play()):this.Vh())};
t.vl=function(){this.dispatchEvent("beforehide")&&(this.h().Da(this.K().Oa(),"resize",this.bz),this.jb=m,this.Ql&&this.Hm?(wd(this.Ql,"end",this.Jl,m,this),this.Hm.play(),this.Ql.play()):this.Jl())};a.Vh=function(b,c){b.zc&&R(b.zc,c);b.Lc&&R(b.Lc,c);R(b.m(),c);R(b.nf,c)};t.Vh=function(){this.dispatchEvent("show")};t.Jl=function(){Vh(this,m);this.dispatchEvent("hide")};t.R=p("jb");t.focus=function(){this.XC()};
t.bz=function(){this.zc&&R(this.zc,m);this.Lc&&R(this.Lc,m);var b=this.K().Ba(),c=Yb(ac(b)||window),d=Math.max(c.width,Math.max(b.body.scrollWidth,b.documentElement.scrollWidth)),b=Math.max(c.height,Math.max(b.body.scrollHeight,b.documentElement.scrollHeight));this.zc&&(R(this.zc,j),ng(this.zc,d,b));this.Lc&&(R(this.Lc,j),ng(this.Lc,d,b))};
t.ha=function(){var b=this.K().Ba(),c=ac(b)||window;if("fixed"==Zf(this.m()))var d=b=0;else d=Lc(this.K()),b=d.x,d=d.y;var e=pg(this.m()),c=Yb(c),b=Math.max(b+c.width/2-e.width/2,0),d=Math.max(d+c.height/2-e.height/2,0);ag(this.m(),b,d);ag(this.nf,b,d)};t.DP=function(b){b.target==this.nf&&Kd(this.XC,0,this)};t.XC=function(){try{A&&this.K().Ba().body.focus(),this.m().focus()}catch(b){}};t.w=function(){Tc(this.Rl);this.Rl=k;Tc(this.Ql);this.Ql=k;Tc(this.Im);this.Im=k;Tc(this.Hm);this.Hm=k;Th.n.w.call(this)};a.Wh=function(b,c,d){Th.call(this,c,d);this.Ac=b||"modal-dialog"};y(Wh,Th);t=Wh.prototype;t.rL=j;t.zn=j;t.$x=j;t.EC=j;t.aq=0.5;t.It="";t.oc="";t.zb=k;t.Tk=m;t.wc=k;t.rf=k;t.Ht=k;t.qf=k;t.ke=k;t.ac=k;t.Mj=Vc.wI;t.L=p("Ac");t.Ma=function(b){this.It=b;this.rf&&xc(this.rf,b)};t.Ea=function(b){this.oc=b;this.ke&&(this.ke.innerHTML=b)};t.$a=p("oc");t.Oo=u(18);a.Xh=function(b){b.m()||b.W()};t.X=function(){Xh(this);return this.ke};a.Yh=function(b){Xh(b);return b.wc};t.jw=function(){Xh(this);return this.ac};
a.Zh=function(b){Xh(b);return b.m()};t.fr=function(){Xh(this);return Wh.n.fr.call(this)};
a.$h=function(b,c){b.aq=c;if(b.m()){var d=b.fr();d&&rg(d,b.aq)}},a.bi=function(b,c){c!=b.$x&&ai(b,c)},a.ai=function(b,c){b.$x=c;if(b.ya){var d=b.K(),e=b.fr(),g=b.zc;c?(g&&d.Jn(g,b.m()),d.Jn(e,b.m())):(d.removeNode(g),d.removeNode(e))}},a.ci=function(b,c){b.m()&&E.enable(b.wc,b.Ac+"-title-draggable",c);c&&!b.zb?(b.zb=new xh(b.m(),b.wc),E.add(b.wc,b.Ac+"-title-draggable"),O(b.zb,"start",b.$R,m,b)):!c&&b.zb&&(b.zb.G(),b.zb=k)};
t.v=function(){Wh.n.v.call(this);var b=this.m(),c=this.K();this.wc=c.v("div",{className:this.Ac+"-title",id:this.Ld()},this.rf=c.v("span",this.Ac+"-title-text",this.It),this.qf=c.v("span",this.Ac+"-title-close"));hc(b,this.wc,this.ke=c.v("div",this.Ac+"-content"),this.ac=c.v("div",this.Ac+"-buttons"));this.Ht=this.wc.id;Mc(b,this.Mj);Nc(b,"labelledby",this.Ht||"");this.oc&&(this.ke.innerHTML=this.oc);R(this.qf,this.zn);this.mc&&(b=this.mc,b.g=this.ac,b.W());R(this.ac,!!this.mc);$h(this,this.aq)};
t.ca=function(b){Wh.n.ca.call(this,b);b=this.Ac+"-content";(this.ke=Ub(k,b,this.m())[0])?this.oc=this.ke.innerHTML:(this.ke=this.K().v("div",b),this.oc&&(this.ke.innerHTML=this.oc),this.m().appendChild(this.ke));var b=this.Ac+"-title",c=this.Ac+"-title-text",d=this.Ac+"-title-close";(this.wc=Ub(k,b,this.m())[0])?(this.rf=Ub(k,c,this.wc)[0],this.qf=Ub(k,d,this.wc)[0],this.wc.id||(this.wc.id=this.Ld())):(this.wc=this.K().v("div",{className:b,id:this.Ld()}),this.m().insertBefore(this.wc,this.ke));this.Ht=
this.wc.id;this.rf?this.It=Fc(this.rf):(this.rf=this.K().v("span",c,this.It),this.wc.appendChild(this.rf));Nc(this.m(),"labelledby",this.Ht||"");this.qf||(this.qf=this.K().v("span",d),this.wc.appendChild(this.qf));R(this.qf,this.zn);b=this.Ac+"-buttons";(this.ac=Ub(k,b,this.m())[0])?(this.mc=new di(this.K()),this.mc.o(this.ac)):(this.ac=this.K().v("div",b),this.m().appendChild(this.ac),this.mc&&(b=this.mc,b.g=this.ac,b.W()),R(this.ac,!!this.mc));$h(this,this.aq)};
t.B=function(){Wh.n.B.call(this);this.h().e(this.m(),"keydown",this.qo).e(this.m(),"keypress",this.qo);this.h().e(this.ac,"click",this.qP);ci(this,this.EC);this.h().e(this.qf,"click",this.mQ);Mc(this.m(),this.Mj);""!==this.rf.id&&Nc(this.m(),"labelledby",this.rf.id);this.$x||ai(this,m)};t.hb=function(){this.R()&&this.D(m);ci(this,m);Wh.n.hb.call(this)};t.D=function(b){b!=this.R()&&(this.ya||this.W(),Wh.n.D.call(this,b))};t.Vh=function(){Wh.n.Vh.call(this);this.dispatchEvent(ei)};
t.Jl=function(){Wh.n.Jl.call(this);this.dispatchEvent(fi);this.Tk&&this.G()};t.focus=function(){Wh.n.focus.call(this);if(this.mc){var b=this.mc.Iq;if(b)for(var c=this.K().Ba(),d=this.ac.getElementsByTagName("button"),e=0,g;g=d[e];e++)if(g.name==b){try{if(C||rb){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.m().appendChild(h);h.focus();this.m().removeChild(h)}g.focus()}catch(l){}break}}};
t.$R=function(){var b=this.K().Ba(),c=Yb(ac(b)||window),d=Math.max(b.body.scrollWidth,c.width),b=Math.max(b.body.scrollHeight,c.height),e=pg(this.m());"fixed"==Zf(this.m())?(c=new Rf(0,0,Math.max(0,c.width-e.width),Math.max(0,c.height-e.height)),this.zb.js=c||new Rf(NaN,NaN,NaN,NaN)):this.zb.js=new Rf(0,0,d-e.width,b-e.height)||new Rf(NaN,NaN,NaN,NaN)};t.mQ=function(){if(this.zn){var b=this.mc,c=b&&b.Tu;c?(b=b.get(c),this.dispatchEvent(new gi(c,b))&&this.D(m)):this.D(m)}};
t.lt=function(b){this.zn=b;this.qf&&R(this.qf,this.zn)};t.w=function(){this.ac=this.qf=k;Wh.n.w.call(this)};a.hi=function(b,c){b.mc=c;if(b.ac){if(b.mc){var d=b.mc;d.g=b.ac;d.W()}else b.ac.innerHTML="";R(b.ac,!!b.mc)}};t.qP=function(b){a:{for(b=b.target;b!=k&&b!=this.ac;){if("BUTTON"==b.tagName)break a;b=b.parentNode}b=k}if(b&&!b.disabled){var b=b.name,c=this.mc.get(b);this.dispatchEvent(new gi(b,c))&&this.D(m)}};
t.qo=function(b){var c=m,d=m,e=this.mc,g=b.target;if("keydown"==b.type)if(this.rL&&27==b.keyCode){var h=e&&e.Tu,g="SELECT"==g.tagName&&!g.disabled;h&&!g?(d=j,c=e.get(h),c=this.dispatchEvent(new gi(h,c))):g||(c=j)}else 9==b.keyCode&&(b.shiftKey&&g==this.m())&&(d=j);else if(13==b.keyCode){if("BUTTON"==g.tagName)h=g.name;else if(e){var l=e.Iq,n=l&&e.cd(l),g=("TEXTAREA"==g.tagName||"SELECT"==g.tagName||"A"==g.tagName)&&!g.disabled;n&&(!n.disabled&&!g)&&(h=l)}h&&e&&(d=j,c=this.dispatchEvent(new gi(h,String(e.get(h)))))}if(c||
d)b.stopPropagation(),b.preventDefault();c&&this.D(m)};a.gi=function(b,c){this.type=ii;this.key=b;this.caption=c};y(gi,gd);a.ii="dialogselect",a.fi="afterhide",a.ei="aftershow",a.di=function(b){this.aa=b||Sb();Nd.call(this)},a.ji=void 0;y(di,Nd);t=di.prototype;t.Ac="goog-buttonset";t.Iq=k;t.g=k;t.Tu=k;t.set=function(b,c,d,e){Nd.prototype.set.call(this,b,c);d&&(this.Iq=b);e&&(this.Tu=b);return this};t.be=function(b,c,d){return this.set(b.key,b.caption,c,d)};
t.W=function(){if(this.g){this.g.innerHTML="";var b=Sb(this.g);Ld.forEach(this,function(c,d){var e=b.v("button",{name:d},c);d==this.Iq&&(e.className=this.Ac+"-default");this.g.appendChild(e)},this)}};t.o=function(b){if(b&&1==b.nodeType){this.g=b;for(var b=this.g.getElementsByTagName("button"),c=0,d,e,g;d=b[c];c++)if(e=d.name||d.id,g=Fc(d)||d.value,e){var h=0==c;this.set(e,g,h,d.name==ki);h&&E.add(d,this.Ac+"-default")}}};t.m=p("g");t.K=p("aa");
t.cd=function(b){for(var c=this.g.getElementsByTagName("BUTTON"),d=0,e;e=c[d];d++)if(e.name==b||e.id==b)return e;return k};a.ki="cancel",a.li={gV:"ok",sI:ki,ZI:"yes",eV:"no",BV:"save",fU:"continue"},a.mi=x("确定"),a.ni=x("取消"),a.oi=x("Yes"),a.pi=x("No"),a.qi=x("Save"),a.ri=x("Continue"),a.si={key:"ok",caption:mi},a.ti={key:ki,caption:ni},a.ui={key:"yes",caption:oi},a.vi={key:"no",caption:pi},a.wi={key:"save",caption:qi},a.xi={key:"continue",caption:ri};
"undefined"!=typeof document&&((new di).be(si,j,j),ji=(new di).be(ti,m,j).be(si,j),(new di).be(ui,j).be(vi,m,j),(new di).be(ui).be(vi,j).be(ti,m,j),(new di).be(xi).be(wi).be(ti,j,j));a.yi=function(b,c,d){Wh.call(this,b,c,d)};y(yi,Wh);t=yi.prototype;t.eI=k;t.B=function(){var b=!Tg;this.EC=b;ci(this,b&&this.ya);yi.n.B.call(this);this.Bk&&zi(this);this.Ug(this.eI)};a.zi=function(b){b.Bk&&b.h().e(b.Lc||b.zc,"click",function(){this.Bk&&this.D(m)})};t.Io=u(56);t.ha=function(){yi.n.ha.call(this);if(!this.EL){var b=$(this.m()),c=$(window).scrollTop(),c=sb&&!Og?c:"-="+Math.min(b.offset().top-c,60)+"px";b.add(this.nf).css("top",c)}};
t.Ug=function(b){if(this.g&&(this.ya&&pa(b))&&(!sb||Og))this.g.style.width=$f(b,j),this.eI=b;oa(b)&&(this.g.style.width=b);return this};a.Ci=function(b,c,d,e){ra(b)?(e=d,d=c):b={title:b,content:c};qa(d)||(d=ha);var g=$.extend({},Ai,b),h=Bi=Bi||new yi;(c=g.Ek.length)?(b=new di,1<c?b.set(ki,g.Ek[0],m,j).set("yes",g.Ek[1],j):b.set("yes",g.Ek[0],j),hi(h,b),h.jw(),b.cd("yes").className="zg-btn-blue",b.cd(ki)&&(b.cd(ki).className="zg-link-btn zm-command-cancel")):hi(h,k);E.enable(Zh(h),"with-button",!!c);Bd(h);h.on(fi,function(){E.remove(h.m(),g.className)}).on(ii,function(b){return d.call(e||h,"yes"===b.key)});E.add(Zh(h),g.className);
h.Ma(g.title);bi(h,g.rF);h.Ea(g.content);h.D(g.open);return h},a.Bi=void 0,a.Ai={open:j,rF:m,title:"确认",content:"",className:"",Ek:["取消","确认"]},a.Di=function(b,c,d){Ci({title:b,content:c,Ek:["确定"],className:d})},a.U=function(b,c){if(b){var d=Ci({title:"提示信息",content:Pa(b),Ek:[],className:"no-close-button"});setTimeout(function(){d.D(m)},c||3E3)}};a.V=function(b){xe.call(this);this.oS=!!b;this.headers.set("AuthToken",ch.WW);this.headers.set("X-Requested-With","XMLHttpRequest");this.on("complete",this.hM,m,this)},a.Ei=void 0;y(V,xe);a.Fi=function(b,c,d,e){var g=new V;if(c)g.on("complete",c);g.ajax(b,e,d)},a.Gi=/#.*$/,a.Hi={"text/html":"html","text/plain":"text","application/json":"json","application/javascript":"script","application/x-javascript":"script"},a.Ii=[];
V.prototype.hM=function(){R(Ji(),m);var b=this.getResponseHeader("content-type");if(b){var c=Hi[b.split(";")[0].toLowerCase()];if(c&&Ii.length){var d=He(this);z.forEach(Ii,function(b){b.ET===c&&b.filter("json"===c?JSON.parse(d):d)},this)}}};V.prototype.ajax=function(b,c,d){b=encodeURI(decodeURI(b));b=b.replace(Gi,"");if(!this.ga){this.oS&&R(Ji(),j);d=d||"POST";if("POST"===d.toUpperCase()){var e=Of.get("_xsrf");e&&(c=(c?c+"&_xsrf=":"_xsrf=")+e)}return this.send(b,d,c,this.headers)}};
a.Ji=function(){if(Ei)return Ei;var b=L("div",{id:"zh-global-spinner",style:"display:none",innerHTML:"加载中…"});document.body.appendChild(b);return Ei=b};a.Ki=function(){N.call(this)};y(Ki,Gd);Ki.prototype.h=function(){return this.Ih||(this.Ih=new le(this))};a.Li=new Ki;Gd.prototype.on=function(){Gd.prototype.addEventListener.apply(this,arguments);return this};Gd.prototype.off=function(){Gd.prototype.removeEventListener.apply(this,arguments);return this};Gd.prototype.Z=Gd.prototype.dispatchEvent;a.Mi=function(){};a.Ni=function(){};y(Ni,Mi);Ni.prototype.Ra=function(){var b=0;P.forEach(this.Zc(j),function(){b++});return b};Ni.prototype.clear=function(){var b=P.toArray(this.Zc(j)),c=this;z.forEach(b,function(b){c.remove(b)})};a.Oi=function(b){this.$f=b};y(Oi,Ni);t=Oi.prototype;t.Vr=function(){try{return!!this.$f&&!!this.$f.getItem}catch(b){}return m};t.set=function(b,c){try{this.$f.setItem(b,c)}catch(d){f("Storage mechanism: Quota exceeded")}};t.get=function(b){b=this.$f.getItem(b);!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.$f.removeItem(b)};t.Ra=function(){return this.$f.length};
t.Zc=function(b){var c=0,d=this.$f,e=new Md;e.next=function(){c>=d.length&&f(P.Ya);var e=d.key(c++);if(b)return e;e=d.getItem(e);oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){this.$f.clear()};a.Pi=function(){var b=k;try{b=window.localStorage||k}catch(c){}this.$f=b};y(Pi,Oi);a.Qi=function(){var b=k;try{b=window.sessionStorage||k}catch(c){}this.$f=b};y(Qi,Oi);a.Si=function(b,c){if(A&&!Fb(9)){Ri||(Ri=new Nd);this.md=Ri.get(b);this.md||(c?this.md=document.getElementById(c):(this.md=document.createElement("userdata"),this.md.addBehavior("#default#userData"),document.body.appendChild(this.md)),Ri.set(b,this.md));this.Qz=b;try{this.md.load(this.Qz)}catch(d){this.md=k}}};y(Si,Ni);a.Ti={".":".2E","!":".21","~":".7E","*":".2A","'":".27","(":".28",")":".29","%":"."},a.Ri=k;t=Si.prototype;t.md=k;t.Qz=k;
a.Ui=function(b){return"_"+encodeURIComponent(b).replace(/[.!~*'()%]/g,function(b){return Ti[b]})};t.Vr=function(){return!!this.md};t.set=function(b,c){this.md.setAttribute(Ui(b),c);Vi(this)};t.get=function(b){b=this.md.getAttribute(Ui(b));!oa(b)&&b!==k&&f("Storage mechanism: Invalid value was encountered");return b};t.remove=function(b){this.md.removeAttribute(Ui(b));Vi(this)};t.Ra=function(){return Wi(this).attributes.length};
t.Zc=function(b){var c=0,d=Wi(this).attributes,e=new Md;e.next=function(){c>=d.length&&f(P.Ya);var e=d[c++];if(b)return decodeURIComponent(e.nodeName.replace(/\./g,"%")).substr(1);e=e.nodeValue;oa(e)||f("Storage mechanism: Invalid value was encountered");return e};return e};t.clear=function(){for(var b=Wi(this),c=b.attributes.length;0<c;c--)b.removeAttribute(b.attributes[c-1].nodeName);Vi(this)};a.Vi=function(b){try{b.md.save(b.Qz)}catch(c){f("Storage mechanism: Quota exceeded")}},a.Wi=function(b){return b.md.XMLDocument.documentElement};a.Xi=function(b,c){this.Fl=b;this.Nj=c+"::"};y(Xi,Ni);t=Xi.prototype;t.Fl=k;t.Nj="";t.set=function(b,c){this.Fl.set(this.Nj+b,c)};t.get=function(b){return this.Fl.get(this.Nj+b)};t.remove=function(b){this.Fl.remove(this.Nj+b)};t.Zc=function(b){var c=this.Fl.Zc(j),d=this,e=new Md;e.next=function(){for(var e=c.next();e.substr(0,d.Nj.length)!=d.Nj;)e=c.next();return b?e.substr(d.Nj.length):d.Fl.get(e)};return e};a.Yi={UI:"UserDataSharedStore",create:function(b){return Yi.IK(b)||Yi.JK(b)},IK:function(b){var c=new Pi;return c.Vr()?b?new Xi(c,b):c:k},EW:function(b){var c=new Qi;return c.Vr()?b?new Xi(c,b):c:k},JK:function(b){b=new Si(b||Yi.UI);return b.Vr()?b:k}};a.Zi={};ya(Zi,Yi);Zi.create=function(b){var c=Yi.create(b);c.Td=function(b,e){try{c.set(b,e)}catch(g){}};return c};a.$i=Zi.create();a.bj=function(){var b=[];$(".shameimaru-placeholder").each(function(){var c=$(this);b.push($.get("/node/"+c.data("class"),{params:c.data("params")},function(b){var e=$(b);c.replaceWith(e);$(".shameimaru-close",e).click(function(b){b.preventDefault();$.post("/shameimaru/close",e.data());aj(e[0],j)})}))});$.when.apply(this,b).then(function(){Li.dispatchEvent("alladloaded")})};a.wf=function(b,c){var d;b instanceof wf?(this.se=la(c)?c:b.se,cj(this,b.ai),dj(this,b.sp),ej(this,b.Qi),fj(this,b.Sl),gj(this,b.Uf),hj(this,b.dd().clone()),ij(this,b.mn)):b&&(d=String(b).match(we))?(this.se=!!c,cj(this,d[1]||"",j),dj(this,d[2]||"",j),ej(this,d[3]||"",j),fj(this,d[4]),gj(this,d[5]||"",j),hj(this,d[6]||"",j),ij(this,d[7]||"",j)):(this.se=!!c,this.xd=new jj(k,0,this.se))};t=wf.prototype;t.ai="";t.sp="";t.Qi="";t.Sl=k;t.Uf="";t.mn="";t.oO=m;t.se=m;
t.toString=function(){var b=[],c=this.ai;c&&b.push(kj(c,lj),":");if(c=this.Qi){b.push("//");var d=this.sp;d&&b.push(kj(d,lj),"@");b.push(encodeURIComponent(String(c)));c=this.Sl;c!=k&&b.push(":",String(c))}if(c=this.Uf)this.Qi&&"/"!=c.charAt(0)&&b.push("/"),b.push(kj(c,"/"==c.charAt(0)?mj:nj));(c=this.xd.toString())&&b.push("?",c);(c=this.mn)&&b.push("#",kj(c,oj));return b.join("")};
t.resolve=function(b){var c=this.clone(),d=!!b.ai;d?cj(c,b.ai):d=!!b.sp;d?dj(c,b.sp):d=!!b.Qi;d?ej(c,b.Qi):d=b.Sl!=k;var e=b.Uf;if(d)fj(c,b.Sl);else if(d=!!b.Uf){if("/"!=e.charAt(0))if(this.Qi&&!this.Uf)e="/"+e;else{var g=c.Uf.lastIndexOf("/");-1!=g&&(e=c.Uf.substr(0,g+1)+e)}g=e;if(".."==g||"."==g)e="";else if(!Xa(g,"./")&&!Xa(g,"/."))e=g;else{for(var e=Ea(g,"/"),g=g.split("/"),h=[],l=0;l<g.length;){var n=g[l++];"."==n?e&&l==g.length&&h.push(""):".."==n?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),
e&&l==g.length&&h.push("")):(h.push(n),e=j)}e=h.join("/")}}d?gj(c,e):d=""!==b.xd.toString();d?hj(c,b.xd.toString()?decodeURIComponent(b.xd.toString()):""):d=!!b.mn;d&&ij(c,b.mn);return c};t.clone=function(){return new wf(this)};
a.cj=function(b,c,d){pj(b);b.ai=d?c?decodeURIComponent(c):"":c;b.ai&&(b.ai=b.ai.replace(/:$/,""))},a.dj=function(b,c,d){pj(b);b.sp=d?c?decodeURIComponent(c):"":c},a.ej=function(b,c,d){pj(b);b.Qi=d?c?decodeURIComponent(c):"":c},a.fj=function(b,c){pj(b);c?(c=Number(c),(isNaN(c)||0>c)&&f(Error("Bad port number "+c)),b.Sl=c):b.Sl=k},a.vf=function(b){return b.Uf},a.gj=function(b,c,d){pj(b);b.Uf=d?c?decodeURIComponent(c):"":c},a.hj=function(b,c,d){pj(b);c instanceof jj?(b.xd=c,b.xd.pz(b.se)):(d||(c=kj(c,
qj)),b.xd=new jj(c,0,b.se))};t.dd=p("xd");a.ij=function(b,c,d){pj(b);b.mn=d?c?decodeURIComponent(c):"":c},a.pj=function(b){b.oO&&f(Error("Tried to modify a read-only Uri"))};t.pz=function(b){this.se=b;this.xd&&this.xd.pz(b);return this};
a.kj=function(b,c){return oa(b)?encodeURI(b).replace(c,rj):k},a.rj=function(b){b=b.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},a.lj=/[#\/\?@]/g,a.nj=/[\#\?:]/g,a.mj=/[\#\?]/g,a.qj=/[\#\?@]/g,a.oj=/#/g,a.jj=function(b,c,d){this.Gd=b||k;this.se=!!d},a.tj=function(b){if(!b.Fb&&(b.Fb=new Nd,b.ea=0,b.Gd))for(var c=b.Gd.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("="),g=k,h=k;0<=e?(g=c[d].substring(0,e),h=c[d].substring(e+1)):g=c[d];g=decodeURIComponent(g.replace(/\+/g," "));
g=sj(b,g);b.add(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}};t=jj.prototype;t.Fb=k;t.ea=k;t.Ra=function(){tj(this);return this.ea};t.add=function(b,c){tj(this);this.Gd=k;var b=sj(this,b),d=this.Fb.get(b);d||this.Fb.set(b,d=[]);d.push(c);this.ea++;return this};t.remove=function(b){tj(this);b=sj(this,b);return this.Fb.Cd(b)?(this.Gd=k,this.ea-=this.Fb.get(b).length,this.Fb.remove(b)):m};t.clear=function(){this.Fb=this.Gd=k;this.ea=0};t.Eb=function(){tj(this);return 0==this.ea};
t.Cd=function(b){tj(this);b=sj(this,b);return this.Fb.Cd(b)};t.pg=function(b){var c=this.Ka();return z.contains(c,b)};t.Cb=function(){tj(this);for(var b=this.Fb.Ka(),c=this.Fb.Cb(),d=[],e=0;e<c.length;e++)for(var g=b[e],h=0;h<g.length;h++)d.push(c[e]);return d};t.Ka=function(b){tj(this);var c=[];if(b)this.Cd(b)&&(c=z.concat(c,this.Fb.get(sj(this,b))));else for(var b=this.Fb.Ka(),d=0;d<b.length;d++)c=z.concat(c,b[d]);return c};
t.set=function(b,c){tj(this);this.Gd=k;b=sj(this,b);this.Cd(b)&&(this.ea-=this.Fb.get(b).length);this.Fb.set(b,[c]);this.ea++;return this};t.get=function(b,c){var d=b?this.Ka(b):[];return 0<d.length?String(d[0]):c};t.toString=function(){if(this.Gd)return this.Gd;if(!this.Fb)return"";for(var b=[],c=this.Fb.Cb(),d=0;d<c.length;d++)for(var e=c[d],g=encodeURIComponent(String(e)),e=this.Ka(e),h=0;h<e.length;h++){var l=g;""!==e[h]&&(l+="="+encodeURIComponent(String(e[h])));b.push(l)}return this.Gd=b.join("&")};
t.clone=function(){var b=new jj;b.Gd=this.Gd;this.Fb&&(b.Fb=this.Fb.clone(),b.ea=this.ea);return b};a.sj=function(b,c){var d=String(c);b.se&&(d=d.toLowerCase());return d};t.pz=function(b){b&&!this.se&&(tj(this),this.Gd=k,Ld.forEach(this.Fb,function(b,d){var e=d.toLowerCase();d!=e&&(this.remove(d),this.remove(e),0<b.length&&(this.Gd=k,this.Fb.set(sj(this,e),z.clone(b)),this.ea+=b.length))},this));this.se=b};
t.extend=function(b){for(var c=0;c<arguments.length;c++)Ld.forEach(arguments[c],function(b,c){this.add(c,b)},this)};a.uj=function(b){var c=b.xc;c.category&&c.action&&X(c.category,b.type.replace("!","")+"_"+c.action,c.label,c.value)},a.X=function(b,c,d,e,g){window._gaq||(window._gaq=[]);"feed"===b&&Xa(window.location.href,"topstory")&&(b="topstory");var h=$("#zh-question-list");"feed"===b&&h.length&&"topstory"===h.attr("data-feedtype")&&(b="topstory");d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e,!!g]);Cg&&window.console&&console.log("trackEvent(new)",z.toArray(arguments))};
X.z=function(){function b(b){return{member:"people",favlist:"collection"}[b]||b}$(document).on("videobox:open",function(){X("video","click_videobox_open")});$("#js-sidebar-app-link").click(function(){var b=$(this).hasClass("iphone")?"click_zhihu_ios_dl_link":"click_zhihu_android_dl_link";X("app-promotion",b,"sidebar_not_logged_in")});$("#zh-top-link-logo").click(function(){X("navigation","visit_home","top_logo")});$("#zh-top-link-home").click(function(){X("navigation","visit_home","top_nav_home")});
$("#top-nav-dd-topic").click(function(){X("navigation","visit_topics_activities","top_nav_topic")});$("#ga_sidebar_topic_all").click(function(){X("navigation","visit_topics_activities","sidebar_topic_all")});$(".zm-side-pinned-topics .zm-side-nav a.zm-side-nav-link").eq(0).click(function(){X("navigation","visit_topic","sidebar_topic_1")}).end().eq(1).click(function(){X("navigation","visit_topic","sidebar_topic_2")}).end().eq(2).click(function(){X("navigation","visit_topic","sidebar_topic_3")});var c=
$("#zh-trendings");c.on("click",'li a[href^="/topic/"]',function(b){b=$(b.target).closest("li").index()+1;X("navigation","visit_topic","sidebar_intresting_people_"+b+"_topic")});c.on("click",'li a[href^="/people"]',function(b){b=$(b.target).closest("li").index()+1;X("navigation","visit_people_profile","sidebar_interesting_people_"+b)});$("#zh-single-question-page .zm-tag-editor-labels a.zm-item-tag").click(function(){X("question_answer","visit_topic","question_topic")});O(Y,"ga_serach_select",function(b){"topic"===
b.data.type&&X("search","visit_topic","top_search_list_"+(b.data.index+1))});var d=$(".zm-topic-list-container").on("click",'.subtopic a[href^="/topic/"]',function(){X("topic","visit_topic","topic_activity_children_topic")});$(".zm-side-section-inner.child-topic").on("click",'a.zm-item-tag[href^="/topic/"]',function(){X("topic","visit_topic","topic_sidebar_children_topic")});$(".zm-topic-cat-hot").on("click",'a[href^="/topic/"]',function(){X("topic","visit_topic","topic_square_sidebar")});$(".zm-topic-cat-sub").on("click",
'a[href^="/topic/"]',function(){X("topic","visit_topic","topic_square_list_item")});$('a.zm-side-nav-link[href="/topics"]').click(function(){X("navigation","visit_topic_square","sidebar_topic_square")});$('a.zm-side-nav-link[href="/invitation/email"]').click(function(){X("navigation","visit_invite_by_email","sidebar_invite_friend")});$("#zh-tooltip").on("click",".zh-profile-card.member .avatar-link",function(){X("navigation","visit_people_profile","hovercard_people_name")});var e=$("#zh-top-nav-live-new").on("click",
'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-list-content-medium a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_follower_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="FOLLOW"] .zm-item-link-avatar',function(){X("notification","visit_people_profile","top_nav_noti_follower_people_avatar")});e.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/people"]',function(){X("notification","visit_people_profile",
"top_nav_noti_vote_thank_people_name")});e.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_invitation_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_qcomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/people"]',
function(){X("notification","visit_people_profile","top_nav_noti_message_acomment_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_new_answer_people_name")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/people"]',function(){X("notification","visit_people_profile","top_nav_noti_message_edit_people_name")});var g=$("#js-home-feed-list");g.on("click",
'div[data-feedtype="ANSWER_VOTE_UP"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_source_people_name")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_source_people_avatar")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] .zm-item-answer-author-info a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_vote_author_name")});g.on("click",
'div[data-feedtype="ANSWER_CREATE"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_answer_source_people_name")});g.on("click",'div[data-feedtype="ANSWER_CREATE"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_answer_answer_source_people_avatar")});g.on("click",'div[data-feedtype="QUESTION_FOLLOW"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_follow_source_people_name")});g.on("click",'div[data-feedtype="QUESTION_FOLLOW"] >.avatar a[href^="/people"]',
function(){X("feed","visit_people_profile","feed_question_follow_source_people_avatar")});g.on("click",'div[data-feedtype="QUESTION_CREATE"] .source a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_ask_source_people_name")});g.on("click",'div[data-feedtype="QUESTION_CREATE"] >.avatar a[href^="/people"]',function(){X("feed","visit_people_profile","feed_question_ask_source_people_avatar")});var h=$("#zh-question-answer-wrap").on("click",'.zm-item-answer-author-wrap >a[href^="/people"]',
function(){X("question_answer","visit_people_profile","question_answer_author_name")}).on("click",".zm-item-answer-author-wrap img.zm-list-avatar",function(){X("question_answer","visit_people_profile","question_answer_author_avatar")});h.on("click",".voters a",function(){var b=$(this).parents(".voters").find("a").index(this)+1;X("question_answer","visit_people_profile","question_answer_voters_"+b)});h.on("click",'.zm-comment-hd a[href^="/people"]',function(){X("question_answer","visit_people_profile",
"question_answer_comment_author_name")}).on("click",".zm-comment-list img.zm-item-img-avatar",function(){X("question_answer","visit_people_profile","question_answer_comment_author_avatar")});$(".zh-question-followers-sidebar",'a[href^="/people"]',function(){X("question_answer","visit_people_profile","question_sidebar_followers_avatar")});O(Y,"ga_serach_select",function(b){"people"===b.data.type&&X("search","visit_people_profile","top_search_list_"+(b.data.index+1))});$("#zh-topic-top-answerer").on("click",
'.zm-topic-side-person-item-content a[href^="/people/"]',function(){X("topic","visit_people_profile","topic_sidebar_top_answerer_people_name")}).on("click","img.zm-list-avatar",function(){X("topic","visit_people_profile","topic_sidebar_top_answerer_people_avatar")});e.on("click",'.zm-noti7-content-item[data-notigroupname="VOTE_THANK"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_vote_thank_question")});e.on("click",'.zm-noti7-content-item[data-notigroupname="INVITE"] a[href^="/question"]',
function(){X("notification","visit_question","top_nav_noti_message_invitation_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION_COMMENT"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_message_qcomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER_COMMENT"] a[href^="/question"]',function(){X("notification","visit_question","top_nav_noti_message_acomment_question")}).on("click",'.zm-noti7-content-item[data-notigroupname="ANSWER"] a[href^="/question"]',
function(){X("notification","visit_question","top_nav_noti_message_new_answser_question")});g.on("click",'div[data-feedtype="ROUNDTABLE_ADD_RELATED"] h2 a[href^="/question"]',function(){var b="q"===$(this).closest("div[data-feedtype]").data("type");X("feed","visit_question",b?"roundtable_question_add":"roundtable_answer_add")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] h2 a[href^="/question"]',function(){X("feed","visit_question","feed_answer_vote_question")}).on("click",'div[data-feedtype="ANSWER_CREATE"] h2 a[href^="/question"]',
function(){X("feed","visit_question","feed_answer_answer_question")}).on("click",'div[data-feedtype="QUESTION_FOLLOW"] h2 a[href^="/question"]',function(){X("feed","visit_question","feed_question_follow_question")}).on("click",'div[data-feedtype="QUESTION_CREATE"] a.meta-item[href^="/question"]',function(){var b=parseInt($(this).text(),10);b?X("feed","visit_question","feed_question_follow_has_answers",b):X("feed","visit_question","feed_question_follow_has_no_answer")}).on("click",'div[data-feedtype="QUESTION_CREATE"] h2 a[href^="/question"]',
function(){X("feed","visit_question","feed_question_ask_question")});O(Y,"ga_serach_select",function(b){"question"===b.data.type&&X("search","visit_question","top_search_list_"+(b.data.index+1))});$("#zh-question-related-questions").on("click","a",function(b){b=$(b.delegateTarget).find("a").index(this)+1;X("question_answer","visit_question","question_answer_sidebar_related_questions_"+b)});$('#zh-question-followers-sidebar a[href^="/question"][href$="/followers"]').click(function(){X("question_answer",
"visit_question_followers","question_followers_count")});e.on("click",'.zm-noti7-content-item[data-notigroupname="QUESTION"] a[href^="/question"]',function(){X("notification","visit_question_log","top_nav_noti_message_edit_question")});$('.zu-main-sidebar a[href^="/question"][href$="/log"]').click(function(){X("question_answer","visit_question_log","question_log")});$('div[data-feedtype="ANSWER_CREATE"] .answer-date-link').click(function(){X("feed","visit_answer","feed_answer_answer_date")});$('div[data-feedtype="ANSWER_VOTE_UP"] .answer-date-link').click(function(){X("feed",
"visit_answer","feed_answer_vote_date")});$("zh-single-question-page .answer-date-link").click(function(){X("question_answer","visit_answer","question_answer_date")});$('a.zm-side-nav-link[href="/draft"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_draft","sidebar_my_draft",b)});$('a.zm-side-nav-link[href="/collections"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_collections","sidebar_my_collections",
b)});$('a.zm-side-nav-link[href="/question/invited"]').click(function(){var b=parseInt($(this).find(".zg-num").text()||0,10);X("navigation","visit_question_invited","sidebar_question_invited",b)});$('a[href="http://creativecommons.org"]').click(function(){X("navigation","visit_cc_license")});O(Y,"ga_click_back_to_top",function(){X("navigation","click_back_to_top")});O(Y,"ga_click_collapse_answer",function(){X("navigation","click_collapse_answer")});O(Y,"ga_click_follow",function(b){if("people"===
b.data.type&&b.data.sj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=e.find('a[name="focus"]').index(b.target)+1,X("notification","click_follow_people","top_nav_noti_follower_follow",b)):0<d.parents("#zh-tooltip").length?X("navigation","click_follow_people","hovercard_follow"):0<d.parents("#zh-trendings").length?(b=c.find("a.follow").index(b.target)+1,X("navigation","click_follow_people","sidebar_intresting_people_"+b+"_follow")):0<d.parents("#zh-topic-top-answerer").length?X("topic",
"click_follow_people","topic_sidebar_top_answerer_follow"):X("navigation","click_follow_people","other_follow")}});O(Y,"ga_click_follow",function(b){if("people"===b.data.type&&!b.data.sj){var d=$(b.target);0<d.parents("#zh-top-nav-live-new").length?(b=e.find('a[name="focus"]').index(b.target)+1,X("notification","click_unfollow_people","top_nav_noti_follower_unfollow",b)):0<d.parents("#zh-tooltip").length?X("navigation","click_unfollow_people","hovercard_unfollow"):0<d.parents("#zh-trendings").length?
(b=c.find("a.follow").index(b.target)+1,X("navigation","click_unfollow_people","sidebar_intresting_people_"+b+"_unfollow")):0<d.parents("#zh-topic-top-answerer").length&&X("topic","click_unfollow_people","topic_sidebar_top_answerer_unfollow")}});O(Y,"ga_click_follow",function(b){"question"===b.data.type&&b.data.sj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?X("feed","click_follow_question","feed_answer_vote_follow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?
X("feed","click_follow_question","feed_answer_answer_follow_question"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?X("feed","click_follow_question","feed_question_follow_follow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?X("feed","click_follow_question","feed_question_ask_follow_question"):0<b.parents("#zh-question-side-header-wrap").length?X("question_answer","click_follow_question","question_follow_question"):0<b.parents(".zm-topic-list-container").length&&
X("topic","click_follow_question","topic_activity_follow_question"))});O(Y,"ga_click_follow",function(b){"question"===b.data.type&&!b.data.sj&&(b=$(b.target),0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?X("feed","click_unfollow_question","feed_answer_vote_unfollow_question"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?X("feed","click_unfollow_question","feed_answer_answer_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_unFOLLOW"]').length?X("feed","click_unfollow_question",
"feed_question_follow_unfollow_question"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length?X("feed","click_unfollow_question","feed_question_ask_unfollow_question"):0<b.parents("#zh-question-side-header-wrap").length?X("question_answer","click_unfollow_question","question_unfollow_question"):0<b.parents(".zm-topic-list-container").length&&X("topic","click_unfollow_question","topic_activity_unfollow_question"))});O(Y,"ga_click_follow",function(b){"topic"===b.data.type&&b.data.sj&&(b=$(b.target),
0<b.parents(".zm-search-result-topic-wrap").length?X("search","click_follow_topic","search_result_card_topic_follow"):b.hasClass("zu-edit-button")&&b.parent().hasClass("source")&&X("topstory","click_follow_topic","topstory_answer_promote"))});O(Y,"ga_click_follow",function(b){"topic"===b.data.type&&!b.data.sj&&(b=$(b.target),0<b.parents(".zm-search-result-topic-wrap").length?X("search","click_unfollow_topic","search_result_card_topic_unfollow"):b.hasClass("zu-edit-button")&&b.parent().hasClass("source")&&
X("topstory","click_unfollow_topic","topstory_answer_promote"))});O(Y,"ga_click_follow",function(b){"favlist"===b.data.type&&(b.data.sj?X("collection","click_follow_collection","collection_follow"):X("collection","click_unfollow_collection","collection_follow"))});O(Y,"ga_click_top_nav_noti",function(b){0<b.data.NH?X("notification","click_top_nav_noti","top_nav_noti_alert",b.data.NH):X("notification","click_top_nav_noti","top_nav_noti_no_alert")});O(Y,"ga_click_top_nav_noti_tab",function(b){X("notification",
"click_top_nav_noti_tab",["top_nav_noti_tab_message","top_nav_noti_tab_follower","top_nav_noti_tab_vote"][b.data.Yg])});O(Y,"ga_click_enlarge_image",function(b){b=$(b.target).parents("div[data-feedtype]").attr("data-feedtype");"ANSWER_CREATE"===b?X("navigation","click_enlarge_image","feed_answer_answer_image"):"ANSWER_VOTE_UP"===b&&X("navigation","click_enlarge_image","feed_answer_vote_image")});O(Y,"ga_click_feed_more",function(b){b.data&&b.data.Mn?X("feed","click_feed_more","feed_more_button"):
X("feed","click_feed_more","feed_more_auto_load")});O(Y,"ga_click_feed_fresh",function(b){X("feed","click_feed_fresh","feed_fresh_button",b.data.count)});O(Y,"ga_click_topic_more",function(b){var c="activity";-1<location.href.indexOf("questions")&&(c="questions");b.data&&b.data.Mn?X("feed","click_topic_more","topic_"+c+"_more_button"):X("feed","click_topic_more","topic_"+c+"_more_auto_load")});g.on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.inline-block[name="toggleExpanded"]',function(){X("feed",
"click_expand","feed_answer_vote_expand")}).on("click",'div[data-feedtype="ANSWER_VOTE_UP"] a.zm-item-vote-count[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_vote_vote_count")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.inline-block[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_answer_expand")}).on("click",'div[data-feedtype="ANSWER_CREATE"] a.zm-item-vote-count[name="toggleExpanded"]',function(){X("feed","click_expand","feed_answer_answer_vote_count")});
h=$("zh-single-question-page").on("click",'#zh-question-detail a.inline-block[name="expand"]',function(){X("question_answer","click_expand","question_supplement_expand")});h.on("click",'.zm-item-answer a[name="more"]',function(){X("question_answer","click_expand","question_answer_voters_more")});h.on("click","#zh-question-collapsed-switcher",function(){X("question_answer","click_expand","question_answer_folded_expand")});d.on("click",'a.inline-block[name="expand"]',function(){X("topic","click_expand",
"topic_activity_expand")}).on("click",'a.zm-item-vote-count[name="expand"]',function(){X("topic","click_expand","topic_activity_vote_count")});O(Y,"ga_click_sorter_item",function(b){(b={added_time:"time",vote:"vote"}[b.data.key])&&X("question_answer","click_sort_answer","question_answer_sorting_"+b)});O(Y,"ga_click_vote_up",function(b){b=$(b.target.m());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_up";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_up";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_up";else return;X("vote","click_vote_up_answer",b)});O(Y,"ga_click_vote_down",function(b){b=$(b.target.m());if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_down";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_down";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_vote_down";else return;X("vote","click_vote_down_answer",
b)});O(Y,"ga_click_thank_answer",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_thank";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_thank";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_thank";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_thank";else return;X("vote","click_thank_answer",b)});O(Y,"ga_click_share_answer_box",function(b){b=$(b.target);
if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_share";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_share";else if(0<b.parents("#zh-question-answer-wrap").length)b="question_answer_share";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_share";else return;X("share","click_share_answer_box",b)});O(Y,"ga_click_share_question_box",function(b){$(b.target);var c="question_question_share",d={sina:"question_sidebar_share_weibo",
mail:"question_sidebar_share_email",letter:"question_sidebar_share_message"};b.data&&b.data.type&&(c=d[b.data.type]);X("share","click_share_answer_box",c)});O(Y,"ga_click_share_answer_weibo",function(b){b=b.data.$H;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_answer_sina_tencent_weibo";else if(z.contains(b,"qq"))b="share_answer_tencent_weibo";else if(z.contains(b,"sina"))b="share_answer_sina_weibo";else return;X("share","click_share_answer_weibo",b)});O(Y,"ga_click_share_answer_email",function(){X("share",
"click_share_answer_email")});O(Y,"ga_click_share_answer_message",function(){X("share","click_share_answer_message")});O(Y,"ga_click_share_question_weibo",function(b){b=b.data.$H;if(z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_tencent_weibo";else if(z.contains(b,"qq")&&!z.contains(b,"sina"))b="share_question_tencent_weibo";else if(!z.contains(b,"qq")&&z.contains(b,"sina"))b="share_question_sina_weibo";else return;X("share","click_share_answer_weibo",b)});O(Y,"ga_click_share_question_email",
function(){X("share","click_share_question_email")});O(Y,"ga_click_share_question_message",function(){X("share","click_share_question_message")});O(Y,"ga_click_report_box",function(c){X("report","click_report_"+b(c.data.type)+"_box")});O(Y,"ga_click_report",function(c){X("report","click_report_"+b(c.data.type))});O(Y,"ga_click_collect_answer_box",function(b){b=$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_collect";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b=
"feed_answer_answer_collect";else if(0<b.parents("#zh-single-question-page").length)b="question_answer_collect";else if(0<b.parents(".zm-topic-list-container").length)b="topic_activity_collect";else return;X("collection","click_collect_answer_box",b)});O(Y,"ga_click_collect_answer",function(b){X("collection","click_collect_answer","collection_count",b.data.count)});O(Y,"ga_click_add_collection",function(){X("collection","click_add_collection","collect_answer_window_add_collection")});O(Y,"ga_click_answer_not_helpful",
function(b){b=$(b.target);if(0<b.closest('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_not_helpful";else if(0<b.closest('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_not_helpful";else if(0<b.closest("#zh-question-answer-wrap").length)b="question_answer_not_helpful";else if(0<b.closest(".zm-topic-list-container").length)b="topic_activity_not_helpful";else return;X("vote","click_answer_not_helpful",b)});g.on("click");O(Y,"ga_click_question_ignore",function(b){b=
$(b.target);if(0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length)b="feed_answer_vote_ignore_question";else if(0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length)b="feed_answer_answer_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length)b="feed_question_follow_ignore_question";else if(0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length)b="feed_question_ask_ignore_question";else return;X("feed","click_question_ignore",b)});O(Y,"ga_question_topic_edit_start",
function(){X("edit","click_edit_question_topic","question_topic_edit_start")});O(Y,"ga_question_topic_edit_finish_changed",function(){X("edit","click_edit_question_topic","question_topic_edit_finish_changed")});O(Y,"ga_question_title_edit_start",function(){X("edit","click_edit_question_titile","question_title_edit_start")});O(Y,"ga_question_title_edit_cancel",function(){X("edit","click_edit_question_titile","question_title_edit_cancel")});O(Y,"ga_question_title_edit_save_changed",function(){X("edit",
"click_edit_question_titile","question_title_edit_save_changed")});O(Y,"ga_question_title_edit_save_unchanged",function(){X("edit","click_edit_question_titile","question_title_edit_save_unchanged")});O(Y,"ga_question_supplement_edit_start",function(){X("edit","click_edit_question_supplement","question_supplement_edit_start")});O(Y,"ga_question_supplement_edit_cancel",function(){X("edit","click_edit_question_supplement","question_supplement_edit_cancel")});O(Y,"ga_question_supplement_edit_save_changed",
function(){X("edit","click_edit_question_supplement","question_supplement_edit_save_changed")});O(Y,"ga_question_supplement_edit_save_unchanged",function(){X("edit","click_edit_question_supplement","question_supplement_edit_save_unchanged")});$("#zu-top-add-question").click(function(){X("question_answer","click_add_question","top_nav_question_add_start")});$(".zm-topic-ask-in-topic").click(function(){X("question_answer","click_add_question","topic_question_add_start")});O(Y,"ga_click_add_question",
function(b){X("question_answer","click_add_question","question_add_submit_with_topics",b.data.total);X("question_answer","click_add_question","question_add_submit_with_suggested_topics",b.data.At);X("question_answer","click_add_question","question_add_submit_with_suggested_topics_percent",Math.round(100*(b.data.At/b.data.total)))});$("#zh-question-answer-form-wrap .editable").focus(function(){X("question_answer","click_add_answer","question_answer_add_start")});$("#zh-question-answer-form-wrap .submit-button").click(function(){X("question_answer",
"click_add_answer","question_answer_add_publish")});O(Y,"ga_hover_hovercard",function(b){var b=$(b.target),d,e,g;b.is('[data-tip^="p$"]')?(e="hover_people_hovercard",0<b.parents("div[data-feedtype]").length?(d="feed",0<b.parents('div[data-feedtype="ANSWER_VOTE_UP"]').length?0<b.parents(".zm-item-answer-author-wrap").length?g="feed_answer_vote_author_name":0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_vote_source_people_avatar":"feed_answer_vote_author_name"):0<b.parents('div[data-feedtype="ANSWER_CREATE"]').length?
0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_answer_answer_source_people_avatar":"feed_answer_answer_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_FOLLOW"]').length?0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_follow_source_people_avatar":"feed_question_follow_source_people_name"):0<b.parents('div[data-feedtype="QUESTION_CREATE"]').length&&0<b.parents("div.source").length&&(g=0<b.find("img").length?"feed_question_ask_source_people_avatar":
"feed_question_ask_source_people_name")):0<b.parents("#zh-trendings").length?(d="navigation",$.contains(c.find("li:nth-child(1)").get(0),b.get(0))?g="sidebar_intresting_people_1":$.contains(c.find("li:nth-child(2)").get(0),b.get(0))?g="sidebar_intresting_people_2":$.contains(c.find("li:nth-child(3)").get(0),b.get(0))&&(g="sidebar_intresting_people_3")):0<b.parents("#zh-single-question-page").length?(d="question_answer",0<b.parents(".zm-item-answer-author-wrap").length?g=0<b.find("img").length?"question_answer_author_avatar":
"question_answer_author_name":0<b.parents(".voters").length?(g=b.parents(".voters").find('a[href^="/people"]').index(b.get(0))+1,g="question_answer_voters_"+g):0<b.parents(".zm-comment-list").length&&(g=0<b.find("img").length?"question_answer_comment_author_avatar":"question_answer_comment_author_name")):0<b.parents("#zh-topic-top-answerer").length&&(d="topic",g=0<b.find("img").length?"topic_sidebar_top_answerer_people_avatar":"topic_sidebar_top_answerer_people_name")):b.is('[data-tip^="t$"]')?(e=
"hover_topic_hovercard",0<b.parents("#zh-single-question-page").length&&(d="question_answer",g="question_topic")):b.is('[data-tip^="c$"]')?(e="hover_column_hovercard",0<b.parents("div[data-feedtype]").length&&(d="feed",0<b.parents('div[data-feedtype="ARTICLE_VOTE_UP"]').length?g="feed_article_vote":0<b.parents('div[data-feedtype="ARTICLE_CREATE"]').length&&(g="feed_article_create"))):b.is('[data-tip^="r$"]')&&(e="hover_roundtable_hovercard",d="feed",0<b.parents('div[data-feedtype="MEMBER_FOLLOW_ROUNDTABLE"]').length?
g="feed_follow_roundtable":0<b.parents('div[data-feedtype^="ROUNDTABLE"]').length&&(g="feed_roundtable_others"));d&&(e&&g)&&X(d,e,g,i,j)});O(Y,"ga_click_sign_in",function(b){b.data&&b.data.label?X("sign_in","click_sign_in",b.data.label):X("sign_in","click_sign_in")});O(Y,"ga_click_sign_in_close",function(){X("sign_in","click_sign_in_close","sign_in_box_main")});O(Y,"ga_click_sign_in_weibo",function(b){X("sign_in","click_sign_in_weibo",b.label)});O(Y,"ga_click_sign_in_qq",function(b){X("sign_in","click_sign_in_qq",
b.label)});O(Y,"ga_click_sign_in_switch",function(b){"signin"===b.data?X("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_in"):"signup"===b.data&&X("sign_in","click_sign_in_switch","sign_in_box_switch_to_sign_up")});O(Y,"ga_click_sign_in_link_account",function(b){b.target?(b=$(b.target),Xa(b.parent().text(),"该邮箱已注册")?X("sign_in","click_sign_in_link_account","sign_up_error_user_exists_link_account"):Xa(b.parent().text(),"如果你已有知乎帐号")?$(".view-warmup").is(":visible")?X("sign_in","click_sign_in_link_account",
"sign_in_box_splash_link_account"):$(".view-info").is(":visible")&&X("sign_in","click_sign_in_link_account","sign_in_box_sign_up_link_account"):Xa(b.text(),"返回注册")&&X("sign_in","click_sign_in_link_account","sign_in_box_link_account_back")):b.label&&X("sign_in","click_sign_in_link_account",b.label)});O(Y,"ga_click_sign_in_connect",function(b){X("sign_in","click_sign_in_weibo",b.label)});O(Y,"ga_click_sign_in_avatar",function(){X("sign_in","click_sign_in_avatar","sign_in_avatar_upload")});O(Y,"ga_click_sign_in_previous_step",
function(){X("sign_in","click_sign_in_previous_step","sign_in_box_follow_user_previous")});O(Y,"ga_click_follow_topic",function(b){0<b.data?X("sign_in","click_follow_topic","sign_in_box_follow_topic_next",b.data):0===b.data&&X("sign_in","click_follow_topic","sign_in_box_follow_topic_skip")});O(Y,"ga_click_follow_people",function(b){0<b.data?X("sign_in","click_follow_people","sign_in_box_follow_people_next",b.data):0===b.data&&X("sign_in","click_follow_people","sign_in_box_follow_people_skip")});O(Y,
"ga_click_play_video",function(b){X("video","click_play_video",b.label)});O(Y,"ga_visit_home_video",function(){X("video","visit_home_video","home_play_video_auto")});O(Y,"ga_click_close_video",function(b){X("video","click_close_video",b.label)});O(Y,"ga_click_share_video",function(b){X("video","click_share_video",b.label)})};a.wj=function(){N.call(this);this.$=vj;this.gn=this.startTime=k};y(wj,Gd);a.vj=0;wj.prototype.Rh=function(){this.Ed("begin")};wj.prototype.Th=function(){this.Ed("end")};wj.prototype.Ed=function(b){this.dispatchEvent(b)};a.xj=function(b,c,d){N.call(this);this.yj=b;this.Eg=c||0;this.da=d;this.Gk=v(this.ug,this)};y(xj,N);t=xj.prototype;t.sd=0;t.w=function(){xj.n.w.call(this);this.stop();delete this.yj;delete this.da};t.start=function(b){this.stop();this.sd=Kd(this.Gk,la(b)?b:this.Eg)};t.stop=function(){this.Wb()&&Hd.clearTimeout(this.sd);this.sd=0};t.fire=function(){this.stop();this.ug()};t.Wb=function(){return 0!=this.sd};t.ug=function(){this.sd=0;this.yj&&this.yj.call(this.da)};a.yj={},a.zj=k,a.Aj=function(b){b=ua(b);delete yj[b];H.Eb(yj)&&zj&&zj.stop()},a.Bj=function(){zj||(zj=new xj(function(){var b=za();H.forEach(yj,function(d){d.pv(b)});H.Eb(yj)||Bj()},20));var b=zj;b.Wb()||b.start()};a.Cj=function(b,c,d,e){wj.call(this);(!ma(b)||!ma(c))&&f(Error("Start and end parameters must be arrays"));b.length!=c.length&&f(Error("Start and end points must be the same length"));this.Yo=b;this.pL=c;this.duration=d;this.TA=e;this.coords=[];this.qi=m};y(Cj,wj);t=Cj.prototype;t.xh=ca("qi");t.dD=0;t.progress=0;t.Ex=k;
t.play=function(b){if(b||this.$==vj)this.progress=0,this.coords=this.Yo;else if(1==this.$)return m;Aj(this);this.startTime=b=za();-1==this.$&&(this.startTime-=this.duration*this.progress);this.gn=this.startTime+this.duration;this.Ex=this.startTime;this.progress||this.Rh();this.Ed("play");-1==this.$&&this.Ed("resume");this.$=1;var c=ua(this);c in yj||(yj[c]=this);Bj();this.pv(b);return j};t.stop=function(b){Aj(this);this.$=vj;b&&(this.progress=1);Dj(this,this.progress);this.Ed("stop");this.Th()};
t.w=function(){this.$==vj||this.stop(m);this.Ed("destroy");Cj.n.w.call(this)};t.pv=function(b){this.progress=(b-this.startTime)/(this.gn-this.startTime);1<=this.progress&&(this.progress=1);this.dD=1E3/(b-this.Ex);this.Ex=b;Dj(this,this.progress);1==this.progress?(this.$=vj,Aj(this),this.Ed("finish"),this.Th()):1==this.$&&this.jy()};a.Dj=function(b,c){qa(b.TA)&&(c=b.TA(c));b.coords=Array(b.Yo.length);for(var d=0;d<b.Yo.length;d++)b.coords[d]=(b.pL[d]-b.Yo[d])*c+b.Yo[d]};t.jy=function(){this.Ed("animate")};
t.Ed=function(b){this.dispatchEvent(new Ej(b,this))};a.Ej=function(b,c){gd.call(this,b);this.coords=c.coords;this.x=c.coords[0];this.y=c.coords[1];this.sY=c.coords[2];this.duration=c.duration;this.progress=c.progress;this.XW=c.dD;this.state=c.$;this.hW=c};y(Ej,gd);a.Fj=function(b,c,d,e,g){Cj.call(this,c,d,e,g);this.element=b};y(Fj,Cj);t=Fj.prototype;t.eh=ha;t.ud=function(){la(this.gf)||(this.gf=fg(this.element));return this.gf};t.jy=function(){this.eh();Fj.n.jy.call(this)};t.Th=function(){this.eh();Fj.n.Th.call(this)};t.Rh=function(){this.eh();Fj.n.Rh.call(this)};a.Gj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Fj.apply(this,arguments)};y(Gj,Fj);
Gj.prototype.eh=function(){var b=this.qi&&this.ud()?"right":"left";this.element.style[b]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};a.Hj=function(b,c,d,e,g){(2!=c.length||2!=d.length)&&f(Error("Start and end points must be 2D"));Fj.apply(this,arguments)};y(Hj,Fj);
Hj.prototype.eh=function(){if(this.qi){var b=this.element,c=Math.round(this.coords[0]),c=Math.max(c,0);b.scrollLeft=fg(b)?B?-c:!A||!D("8")?b.scrollWidth-c-b.clientWidth:c:c}else this.element.scrollLeft=Math.round(this.coords[0]);this.element.scrollTop=Math.round(this.coords[1])};a.Ij=function(b,c,d,e,g){Fj.call(this,b,[c],[d],e,g)};y(Ij,Fj);Ij.prototype.eh=function(){this.element.style.width=Math.round(this.coords[0])+"px"};a.Jj=function(b,c,d,e,g){Fj.call(this,b,[c],[d],e,g)};y(Jj,Fj);
Jj.prototype.eh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};a.Kj=function(b,c,d,e,g){pa(c)&&(c=[c]);pa(d)&&(d=[d]);Fj.call(this,b,c,d,e,g);(1!=c.length||1!=d.length)&&f(Error("Start and end points must be 1D"))};y(Kj,Fj);Kj.prototype.eh=function(){rg(this.element,this.coords[0])};Kj.prototype.show=function(){this.element.style.display=""};Kj.prototype.hide=function(){this.element.style.display="none"};a.Lj=function(b,c,d){Kj.call(this,b,1,0,c,d)};y(Lj,Kj);
Lj.prototype.Rh=function(){this.show();Lj.n.Rh.call(this)};Lj.prototype.Th=function(){this.hide();Lj.n.Th.call(this)};a.Mj=function(b,c,d){Kj.call(this,b,0,1,c,d)};y(Mj,Kj);Mj.prototype.Rh=function(){this.show();Mj.n.Rh.call(this)};a.Nj=function(b,c,d,e,g){(3!=c.length||3!=d.length)&&f(Error("Start and end points must be 3D"));Fj.apply(this,arguments)};y(Nj,Fj);
Nj.prototype.eh=function(){for(var b=[],c=0;c<this.coords.length;c++)b[c]=Math.round(this.coords[c]);b="rgb("+b.join(",")+")";this.element.style.backgroundColor=b};a.Oj=function(b){return b*b*b},a.Pj=function(b){return 1-Math.pow(1-b,3)},a.Qj=function(b){return 3*b*b-2*b*b*b};a.Uj=function(b){var c=ua(b),d=Rj;return function(){var e=this||fa,e=e[Tj]||(e[Tj]={}),g=d(c,arguments);return e.hasOwnProperty(g)?e[g]:e[g]=b.apply(this,arguments)}},a.Tj="closure_memoize_cache_",a.Rj=function(b,c){for(var d=[b],e=c.length-1;0<=e;--e)d.push(typeof c[e],c[e]);return d.join("\x0B")};a.Vj=/^\/node\//;$.ajaxPrefilter(function(b,c){var d=c.data,e;if(d&&(e=d.params)&&"object"===$.type(e)&&Vj.test(c.url))d.params=Zc(e),b.data=$.param(d)});
a.Wj=function(b,c){return $.post("/node/MemberFollowBaseV2",{method:c?"follow_member":"unfollow_member",params:{hash_id:b}})},a.Xj=function(b,c){return $.post("/node/QuestionFollowBaseV2",{method:c?"follow_question":"unfollow_question",params:{question_id:b}})},a.Yj=function(b,c){return $.post(c?"/collection/follow":"/collection/unfollow",{favlist_id:b})},a.Zj=function(b,c){return $.post("/node/TopicFollowBaseV2",{method:c?"follow_topic":"unfollow_topic",params:{topic_id:b}})},a.$j=function(b,c,d,
e){var g=k;e&&(d&&(d=$.proxy(d,e)),g&&(g=$.proxy(g,e)));$.get("/node/"+b,{params:c},function(b){b&&b.r?g&&g(b):d&&d(b)})};a.ak=function(b,c){return $.post("/node/ColumnFollowBaseV2",{method:c?"follow_column":"unfollow_column",params:{column_id:b}})};a.bk=function(b,c){return $.post("/roundtable/"+b,{action:c?"follow":"unfollow"})};a.ck=function(){this.Ir=[];this.loaded=[];this.pG=[];this.xr=m};ck.prototype.add=function(b){b&&!z.find(this.Ir,function(c){return c===b})&&(this.xr?b.src=b.getAttribute("data-source"):(this.Ir.push(b),this.loaded.push(0)))};ck.prototype.z=function(){z.forEach(this.Ir,function(b){this.pG.push(eg(b).y)},this);this.JB();O(window,"scroll",this.JB,m,this);this.xr=j};
ck.prototype.gK=function(){var b=$b(document).y+1200;z.forEach(this.Ir,function(c,d){!this.loaded[d]&&b>this.pG[d]&&(this.loaded[d]=1,c.src=c.getAttribute("data-source"))},this)};ck.prototype.JB=function(){this.KB&&clearTimeout(this.KB);this.KB=setTimeout(v(this.gK,this),100)};a.dk=new ck;dk.z();a.ek={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"},a.fk=H.UC(ek,function(b,c){return c in document}),a.gk=ek[fk],a.hk=la(fk);a.ik={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps-lock",27:"esc",32:"space",33:"pg-up",34:"pg-down",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:"semicolon",61:"equals",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",93:"context",
96:"num-0",97:"num-1",98:"num-2",99:"num-3",100:"num-4",101:"num-5",102:"num-6",103:"num-7",104:"num-8",105:"num-9",106:"num-multiply",107:"num-plus",109:"num-minus",110:"num-period",111:"num-division",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",186:"semicolon",187:"equals",189:"dash",188:",",190:".",191:"/",192:"~",219:"open-square-bracket",220:"\\",221:"close-square-bracket",222:"single-quote",224:"win"};a.lk=function(b){N.call(this);this.km={};this.Ig={ck:[],time:0};this.TL=H.sh(jk);this.RS=H.sh(kk);this.fB=j;this.sJ=this.vJ=m;this.WO=j;this.Hg=b;O(this.Hg,"keydown",this.Ze,m,this);kb&&(B&&D("1.8"))&&O(this.Hg,"keyup",this.AD,m,this);lb&&!B&&(O(this.Hg,"keypress",this.UD,m,this),O(this.Hg,"keyup",this.VD,m,this))},a.mk=void 0;y(lk,Gd);
a.jk=[27,112,113,114,115,116,117,118,119,120,121,122,123,19],a.kk="color date datetime datetime-local email month number password search tel text time url week".split(" "),a.nk={NI:"shortcut",MI:"shortcut_"};t=lk.prototype;t.lR=function(b,c){ok(this.km,pk(1,arguments),b)};t.mT=function(b){ok(this.km,pk(0,arguments),k)};
a.pk=function(b,c){var d;if(oa(c[b])){d=c[b];d=d.replace(/[ +]*\+[ +]*/g,"+").replace(/[ ]+/g," ").toLowerCase();d=d.split(" ");for(var e=[],g,h=0;g=d[h];h++){var l=g.split("+"),n;g=0;for(var q,r=0;q=l[r];r++){switch(q){case "shift":g|=1;continue;case "ctrl":g|=2;continue;case "alt":g|=4;continue;case "meta":g|=8;continue}n=q;if(!mk){l={};q=i;for(q in ik)l[ik[q]]=q;mk=l}n=mk[n];break}e.push({keyCode:n,tF:g})}d=e}else{e=c;h=b;ma(c[b])&&(e=c[b],h=0);for(d=[];h<e.length;h+=2)d.push({keyCode:e[h],tF:e[h+
1]})}return d};t.jA=function(){this.km={}};t.w=function(){lk.n.w.call(this);this.jA();xd(this.Hg,"keydown",this.Ze,m,this);kb&&(B&&D("1.8"))&&xd(this.Hg,"keyup",this.AD,m,this);lb&&!B&&(xd(this.Hg,"keypress",this.UD,m,this),xd(this.Hg,"keyup",this.VD,m,this));this.Hg=k};t.AD=function(b){if(224==b.keyCode)this.oF=j,Kd(function(){this.oF=m},400,this);else{var c=b.metaKey||this.oF;if((67==b.keyCode||88==b.keyCode||86==b.keyCode)&&c)b.metaKey=c,this.Ze(b)}};
a.qk=function(b){return lb&&!B&&b.ctrlKey&&b.altKey&&!b.shiftKey};t.UD=function(b){32<b.keyCode&&qk(b)&&(this.FE=j)};t.VD=function(b){!this.FE&&qk(b)&&this.Ze(b)};a.ok=function(b,c,d){var e=c.shift(),e=e.keyCode&255|e.tF<<8,g=b[e];g&&(d&&(0==c.length||oa(g)))&&f(Error("Keyboard shortcut conflicts with existing shortcut"));c.length?(g||(g=b[e]={}),ok(g,c,d)):b[e]=d},a.rk=function(b,c,d,e){d=d||0;return(e=(e||b.km)[c[d]])&&!oa(e)&&1<c.length-d?rk(b,c,d+1,e):e};
t.Ze=function(b){var c;c=b.keyCode;if(16==c||17==c||18==c)c=m;else{var d=b.target,e="TEXTAREA"==d.tagName||"INPUT"==d.tagName||"BUTTON"==d.tagName||"SELECT"==d.tagName,g=!e&&(d.isContentEditable||d.ownerDocument&&"on"==d.ownerDocument.designMode);c=!e&&!g||this.TL[c]||this.sJ?j:g?m:this.WO&&(b.altKey||b.ctrlKey||b.metaKey)?j:"INPUT"==d.tagName&&this.RS[d.type]?13==c:"INPUT"==d.tagName||"BUTTON"==d.tagName?32!=c:m}if(c)if("keydown"==b.type&&qk(b))this.FE=m;else{c=(B?vh(b.keyCode):b.keyCode)&255|((b.shiftKey?
1:0)|(b.ctrlKey?2:0)|(b.altKey?4:0)|(b.metaKey?8:0))<<8;var h,l,d=za();this.Ig.ck.length&&1500>=d-this.Ig.time?h=rk(this,this.Ig.ck):this.Ig.ck.length=0;h=h?h[c]:this.km[c];h||(h=this.km[c],this.Ig.ck=[]);h&&oa(h)?l=h:h?(this.Ig.ck.push(c),this.Ig.time=d,B&&b.preventDefault()):this.Ig.ck.length=0;l&&(this.fB&&b.preventDefault(),this.vJ&&b.stopPropagation(),h=b.target,c=this.dispatchEvent(new sk(nk.NI,l,h)),(c&=this.dispatchEvent(new sk(nk.MI+l,l,h)))||b.preventDefault(),this.Ig.ck.length=0)}};
a.sk=function(b,c,d){gd.call(this,b,d);this.identifier=c};y(sk,gd);a.tk=function(b){N.call(this);this.Dg(b)};y(tk,N);a.uk=[];t=tk.prototype;t.Dg=function(b){uk.push(this);this.Dk=new Nd;this.da=new lk(b);this.da.fB=m;this.da.addEventListener("shortcut",this.oQ,m,this)};t.register=function(b,c,d){this.Km={key:b,action:c,context:d};this.da.lR(b,b);this.Dk.set(b,this.Km);return this};t.nT=function(b){this.Km=k;this.da.mT(b,b);this.Dk.remove(b);return this};t.jA=function(){this.Km=k;this.da.jA();this.Dk.clear();return this};a.vk=function(b,c){b.Km.Gb=c;return b};
t.oQ=function(b){var c=this.Dk.get(b.identifier);c&&c.action.call(c.context,b)};t.w=function(){tk.n.w.call(this);z.remove(uk,this);this.da.G();this.Dk=this.Km=this.da=k};a.wk=new tk(document);wk.gI=function(b){return new tk(b)};a.xk=function(b){var c=m,d;return function(){if(c)return d;c=j;return d=b.apply(this,arguments)}},a.yk=function(b,c){var d=zc(b,function(b){return 3===b.nodeType&&!Ha(b.nodeValue)})[0];d&&(d.nodeValue=c)},a.aj=function(b,c){var d=new Lj(b,500);c&&O(d,"finish",v(function(){M(this)},b));d.play()},a.zk=function(b,c,d,e){"bottom"===e&&(e="b");var g="";(d===m?m:j)&&(g='data-tip="t$'+(e||"t")+"$"+b[1]+'"');return["<a ",g,' class="',c||"zm-item-tag",'" href="/topic/',b[1],'">',b[0],"</a>"].join("")},a.Ak=
function(b){return!b?"":b.replace(/^\s+/,"").replace(/\s+$/,"")},a.Bk=void 0,a.Ck=RegExp("^⁠+|⁠+$");Bk=function(b){return b.replace(Ck,"")};
a.Dk=function(){return'<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>'},a.Ek=function(b,c,d){var e;b&&(c=$(b).data("animation")||new Nj(b,[255,255,150],c||[255,255,255],d||2E3),$(b).data("animation",c),1==c.$&&c.stop(j),e=b.style.backgroundColor,wd(c,"end",function(){Uf(this.element,"background-color",e)},m,c),c.play())},a.Fk=function(b,c,d){b&&(hk&&document[fk]?O(document,gk,function g(){document[fk]||(Ek(b,c,d),xd(document,gk,g))}):Ek(b,c,d))},
a.Gk=function(b){var c=0,d=0;do d=b.indexOf("?",d),-1!==d&&(c++,d+=1);while(-1!==d);return c},a.Hk=function(b,c,d){c=z.slice(b.data,1);if("topic"===b.data[0]){var b=(c[2]?'<img class="zm-item-img-avatar zg-left" src="'+c[2]+'">':"")+'<span class="zu-autocomplete-row-name'+(c[3]?"":" zu-autocomplete-row-name-info")+'" title="'+c[0]+'">'+c[0]+"</span>",e=5<c.length&&c[5];4<=c.length&&(b+='<span class="zg-gray-normal zu-autocomplete-row-description">',c[4]||e?(e&&(b+="又称 "+c[5]),c[4]&&e&&(b+="，"),c[4]&&
(b+=c[4]+" 人关注")):b+="&nbsp;",b+="</span>");d.innerHTML=b}else"people"===b.data[0]?d.innerHTML='<img class="zm-item-img-avatar zg-left" src="'+c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span>":"question"===b.data[0]?d.innerHTML=c[0]+'<span class="zm-ac-gray">问题</span>':"plain_text"===b.data[0]?(d.innerHTML=b.data[1],E.add(d,c[1])):"sina"===b.data[0]&&(d.innerHTML=c[0])},a.Ik=function(b,
c,d){var e,c=z.slice(b.data,1);if("topic"===b.data[0]){b=["<a ",' style="display:block" href="/topic/'+c[1]+'"><span class="zm-item-tag">',c[0],"</span>"].join("");e=6<c.length&&c[6];if(c[5]||e){var b=b+'<span class="zm-ac-gray">',g=[];e&&g.push("又称 "+c[6]);(e=parseInt(c[5],10))&&g.push(e+" 个精华问答");b+=g.join("，");b+="</span>"}else b+='<span class="zm-ac-gray" >&nbsp;</span>';d.innerHTML=b+"</a>"}else"people"===b.data[0]?d.innerHTML='<a href="/people/'+c[1]+'" title="'+c[0]+'" class="zm-ac-link zm-ac-link-people"><img class="zm-item-img-avatar zg-left" src="'+
c[2]+'"><span class="zu-autocomplete-row-name" title="'+c[0]+'">'+c[0]+'</span><span class="zg-gray-normal  zu-autocomplete-row-description">'+(c[4]||"&nbsp;")+"</span></a>":"question"===b.data[0]?(e=parseInt(c[3],10),d.innerHTML=(c[4]?'<a class="zg-star" data-tip="s$b$优质问答" href="/question/'+c[2]+'"></a>':"")+['<a class="zm-ac-link"','href="/question/'+c[2]+'">',c[0]].join("")+('<span class="zm-ac-gray">'+(e?e+" 个回答":"还没有回答")+"</span></a>")):"search_link"===b.data[0]?(d.innerHTML='<a href="/search?q='+
c[0]+'&type=question">查看全部搜索结果<i class="zg-icon arrow"></i></a>',E.add(d,"zu-autocomplete-row-search-link")):"plain_text"===b.data[0]?d.innerHTML=c[0]:"sina"===b.data[0]&&(c=['<a href="javascript:;" title="'+c[0]+'">','<img class="zm-item-img-avatar" src="'+c[2]+'" />',c[0],"</a>"].join(""),d.innerHTML=c);$("a",d).click(function(b){b.preventDefault()})},a.Jk=function(b,c,d){for(d=d||"A";c!=k&&c!==b;){if(c.tagName===d)return c;c=c.parentNode}return k},a.Kk=function(b){this.gO=b;this.data=new Nd};
Kk.prototype.add=function(b,c){this.gO===m?this.data.set(b,c):this.data.set(encodeURIComponent(b),encodeURIComponent(c))};Kk.prototype.dd=function(){var b=[];z.forEach(this.data.Cb(),function(c){b.push(c+"="+this.data.get(c))},this);return b.join("&")};
a.Lk=function(b){b=Ak(b);return!b?0:Math.ceil(b.replace(/(http:\/\/|https:\/\/)((\w|=|\?|\.|\/|&|-)+)/g,"aaaaaaaaaaaaaaaaaaaa").replace(/\n/g,"a").replace(/\s/g,"a").replace(/[\u3000-\u303F\u4E00-\u9FA5\uf900-\ufa2d\uFF00-\uFFEF]/g,"aa").length/2)},a.Nk=function(b,c,d,e){window._gaq||(window._gaq=[]);d&&(d=""+d);e&&(e=parseInt(e,10));window._gaq.push(["_trackEvent",b,c,d,e]);Cg&&Mk("trackEvent(deprecated)",z.toArray(arguments))},a.Ok=function(b){b=(Wc($i.get("zhga"))||[]).concat([b]);$i.Td("zhga",
Zc(b))},a.Pk=function(b){window._gaq||(window._gaq=[]);window._gaq.push(["_trackPageview",b])},a.Qk=void 0,a.Rk={PS:{evaluate:/<%([\s\S]+?)%>/g,aO:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},escape:function(b){return(""+b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")}},a.Sk=/.^/,a.Tk=function(b){return b.replace(/\\\\/g,"\\").replace(/\\'/g,"'")};
Qk=function(b,c){var d=Rk.PS,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(data||{}){__p.push('"+b.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape||Sk,function(b,c){return"',_.escape("+Tk(c)+"),'"}).replace(d.aO||Sk,function(b,c){return"',"+Tk(c)+",'"}).replace(d.evaluate||Sk,function(b,c){return"');"+Tk(c).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=new Function("data","_",d);
return c?e(c,Rk):function(b){return e.call(this,b,Rk)}};$(function(){var b=yg(document.body).top;Uk.paddingTop=b});a.Uk={offsetTop:0,paddingTop:0,iB:m},a.Vk=function(b){$(b.target.M.g).off("click.disable-a").on("click.disable-a","a",function(b){b.preventDefault()})},a.Wk=function(b,c){var d=k;return function(){var e=this,g=arguments;clearTimeout(d);d=setTimeout(function(){c.apply(e,g)},b)}},a.Xk=xk(function(){return(+new Date).toString(32).slice(-5)+Math.random().toString(32).slice(-3)});a.Yk=function(){N.call(this)};y(Yk,Gd);Yk.prototype.h=function(){return this.Ih||(this.Ih=new le(this))};Yk.prototype.Xe=function(b,c){if(!this.g)return k;for(var d=c||"A",e=b;e!=k&&e!==this.g;){if(e.tagName===d)return e;e=e.parentNode}return k};a.al=function(b,c){N.call(this);this.MX=k;this.minHeight=c||66;this.Vb=b;this.h().e(this.Vb,["input","propertychange"],this.Ot);Zk(this);$k(this,j);E.add(this.Vb,"zu-seamless-input-origin-element")};y(al,Yk);al.prototype.Ot=function(){return $k(this)};
a.$k=function(b,c){var d=b.Vb.value.replace(/[<>]/g,"a").replace(/[\n\r]/g,"<br>");if(c||b.FQ!==d)b.FQ=d,b.Ph&&(b.Ph.innerHTML=d,d=b.Ph.scrollHeight,d=d>b.minHeight?d:b.minHeight,b.Vb.style.height=$f(d,j),b.Vb.style.minHeight=d+"px",b.dispatchEvent("change"))},a.Zk=function(b){if(!b.Ph){var c=$(b.Vb).css("white-space","pre");if(0!==vg(b.Vb).width){var d=L("div",{style:"overflow:hidden;position:relative;height:0;"},b.Ph=L("div","zu-seamless-input-mock-element"));document.body.appendChild(d);$.each("fontFamily fontSize fontWeight fontStyle letterSpacing textTransform wordSpacing textIndent lineHeight width white-space".split(" "),
function(d,g){b.Ph.style[g]=c.css(g)})}}};a.bl=function(){};ia(bl);a.cl=Zi.create("Report"+S.wd);bl.prototype.SI='<div id="zh-feedback-form"><select name="type" class="zg-editor-type zg-right"><option value="help">使用帮助 </option><option value="bug">问题反馈</option><option value="search_suggest">搜索反馈</option><option value="suggest">功能建议</option></select><div class="zg-report-title"><span class="zg-gray-darker">请填写你的反馈内容</span><span class="zg-report-msg" style="display:none;">请选择反馈种类：</span></div><div class="zg-editor-simple-wrap zg-form-text-input zg-report-content"><textarea class="zg-editor-input" name="content"></textarea></div></div>';
bl.prototype.defaults={title:"建议和反馈"};bl.prototype.Gu=function(b){var c=$("#zh-feedback-form"),d=$("select",c),c=$("textarea",c);new al(c[0]);d.toggle(!b.type);c.html(cl.get("content")||"");c.on("input change",function(){cl.Td("content",this.value)})};
bl.prototype.create=function(b){var c=$.extend(this.defaults,b||{});Ci(c.title,this.SI,function(b){if(b){var e=$("#zh-feedback-form"),b=$(".zg-report-msg",e),g=$("textarea",e),e=$("select",e),e=c.type||e.val(),h=$.trim(g.val());h?(b.hide(),b=new V(j),g=new jj,b.on("success",function(){U("建议发送成功，我们会尽快处理，感谢您的帮助");cl.remove("content")}),g.add("type",e).add("content",h),b.ajax("/feedback/report",g.toString()),b=i):(b.html("请填写反馈内容").show(),g.focus(),b=m);return b}},this);this.Gu(c)};a.dl=function(){Wh.call(this,i,i,i);this.LK=S.$k;this.Yn=S.Yn;this.iH=""!==this.Yn;this.h().e(Li,"/activation/resend-email",xa(this.eH,j))};ia(dl);y(dl,yi);t=dl.prototype;t.fk=Qk('    <% if (showTopTip) { %>       <div class="top-tip well-blue"><%= topTip %></div>    <% } %>    <% if (showForm) { %>    <form class="js-email-form">    <dl class="zm-form-table zm-form-table-wide" style="">      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="cur-login-passwd">您的注册邮箱：</label>      </dt>      <dd class="zm-form-table-field zg-form-table-count">        <label class=""><%= curEmail %></label></dd>      <dt class="zm-form-table-head zm-form-table-head-align-middle">        <label class="" for="new-email">新的登录邮箱：</label>      </dt>      <dd class="zm-form-table-field">        <input class="zg-form-text-input" type="text" name="newemail"></dd>      <dd class="zm-form-table-field">        <button class="js-update-email zg-btn-blue">更新邮箱</button>        <a class="js-cancel zm-form-btn-collapse" href="javascript:;">取消</a>      </dd>    </dl>    </form>    <% } %>    <% if (showMiddleTip) { %>    <div class="middle-tip"><%= middleTip %></div>    <% } %>    <% if (showSendEmail) { %>    <div class="">      <dl class="zm-form-table zm-form-table-wide" >        <dt class="zm-form-table-head zm-form-table-head-align-middle">          <label class="">您的<%= isMobile ? "" : "注册" %>邮箱：</label>        </dt>        <dd class="zm-form-table-field zg-form-table-count">          <label class="login-email"><%= curEmail %></label>          <a class="js-change-email" href="javascript:;">修改</a>          <br>        </dd>      </dl>    <% if (sent) { %>    <div style="text-align:center;clear:both;"><span class="zg-medium-gray">已发送</span></div>    <% } else { %>    <div style="text-align:center;margin-bottom:15px;clear:both;"><a class="js-resend" href="javascript:;">重新发送激活邮件</a></div>    <% } %>    </div>    <% } %>    <% if (showEmailUrl) { %>    <div class="email-url">      <a class="zg-btn-blue" target="_blank" href="<%= emailUrl %>">进入我的邮箱 »</a>    </div>    <% } %>    <% if (showBottomTip) { %>    <div class="bottom-tip"><%= bottomTip %></div>    <% } %>    ');
t.yt={showTopTip:j,showSendEmail:j,showBottomTip:j};t.zS={showTopTip:j,showForm:j,showBottomTip:j,showEmailUrl:m};t.AS={showMiddleTip:j};t.W=function(){dl.n.W.call(this);this.Ma("请激活帐号");el(this,dl.prototype.yt);this.J=$(this.X()).addClass("activate-dialog");$(this.g).css("width","400px");var b=this;$.each({".js-update-email":b.qT,".js-cancel":b.cancel,".js-change-email":b.FB,".js-resend":b.LG},function(c,d){b.J.on("click",c,$.proxy(d,b))})};
a.el=function(b,c){var d=$.extend({showTopTip:m,showMiddleTip:m,showBottomTip:m,showEmailUrl:b.iH,showForm:m,showSendEmail:m,isMobile:sb,sent:b.$G,topTip:"为正常使用知乎提问、回答、评论和编辑功能，请验证您的邮箱、激活帐号。",middleTip:Ga("一封验证邮件已经发到您的新邮箱：<br>%s，请注意查收。",b.cP),bottomTip:"如果您没有收到激活邮件，请注意检查垃圾箱。",curEmail:b.LK,emailUrl:b.Yn},c);b.Ea(b.fk(d))};
t.qT=function(){var b=this;$.post("/settings/update_email",b.J.find(".js-email-form").serialize()).done(function(c){c.r?U(c.msg):(b.cP=c.msg[0],b.iH=""!==c.msg[1],b.Yn=c.msg[1],el(b,dl.prototype.AS))});return m};t.eH=function(b){this.$G=b;el(this,dl.prototype.yt)};t.cancel=function(){this.uK?this.D(m):el(this,dl.prototype.yt)};t.FB=function(b){this.uK=b===j;el(this,dl.prototype.zS)};t.LG=function(b){var c=this;$.post("/reactive").done(function(d){d.r?(U(d.msg),b&&c.D(m)):(c.$G=j,el(c,dl.prototype.yt))})};a.fl=function(b){var c=navigator.userAgent,b={qq:"/oauth/auth/qqconn?next=",sina:"/oauth/auth/sina?next="}[b];!/Mobile/.test(c)||!/CriOS/.test(c)?window.open(b+"/oauth/account_callback","_blank","top=200,left=400,width=600,height=380,directories=no,menubar=no,toolbar=no"):location.href=b+"/oauth/account_callback&from="+encodeURIComponent(location.pathname)};a.gl=function(b,c){N.call(this);b&&this.attach(b,c)};y(gl,Gd);t=gl.prototype;t.g=k;t.as=k;t.Ax=k;t.bs=k;t.Pd=-1;t.Mh=-1;t.yu=m;
a.hl={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},a.il={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},a.jl=A||C&&D("525"),a.kl=kb&&B;t=gl.prototype;
t.Ze=function(b){if(C&&(17==this.Pd&&!b.ctrlKey||18==this.Pd&&!b.altKey||kb&&91==this.Pd&&!b.metaKey))this.Mh=this.Pd=-1;-1==this.Pd&&(b.ctrlKey&&17!=b.keyCode?this.Pd=17:b.altKey&&18!=b.keyCode?this.Pd=18:b.metaKey&&91!=b.keyCode&&(this.Pd=91));jl&&!uh(b.keyCode,this.Pd,b.shiftKey,b.ctrlKey,b.altKey)?this.handleEvent(b):(this.Mh=B?vh(b.keyCode):b.keyCode,kl&&(this.yu=b.altKey))};t.JM=function(b){this.Mh=this.Pd=-1;this.yu=b.altKey};
t.handleEvent=function(b){var c=b.Tb,d,e,g=c.altKey;A&&"keypress"==b.type?(d=this.Mh,e=13!=d&&27!=d?c.keyCode:0):C&&"keypress"==b.type?(d=this.Mh,e=0<=c.charCode&&63232>c.charCode&&th(d)?c.charCode:0):rb?(d=this.Mh,e=th(d)?c.keyCode:0):(d=c.keyCode||this.Mh,e=c.charCode||0,kl&&(g=this.yu),kb&&(63==e&&224==d)&&(d=191));var h=d,l=c.keyIdentifier;d?63232<=d&&d in hl?h=hl[d]:25==d&&b.shiftKey&&(h=9):l&&l in il&&(h=il[l]);b=h==this.Pd;this.Pd=h;c=new ll(h,e,b,c);c.altKey=g;this.dispatchEvent(c)};t.m=p("g");
t.attach=function(b,c){this.bs&&this.detach();this.g=b;this.as=O(this.g,"keypress",this,c);this.Ax=O(this.g,"keydown",this.Ze,c,this);this.bs=O(this.g,"keyup",this.JM,c,this)};t.detach=function(){this.as&&(zd(this.as),zd(this.Ax),zd(this.bs),this.bs=this.Ax=this.as=k);this.g=k;this.Mh=this.Pd=-1};t.w=function(){gl.n.w.call(this);this.detach()};a.ll=function(b,c,d,e){e&&this.z(e,i);this.type="key";this.keyCode=b;this.charCode=c;this.repeat=d};y(ll,kd);a.ml=function(b){N.call(this);this.g=b;b=ra(this.g)&&1==this.g.nodeType?this.g:this.g?this.g.body:k;this.pO=!!b&&fg(b);this.TE=O(this.g,B?"DOMMouseScroll":"mousewheel",this)};y(ml,Gd);
ml.prototype.handleEvent=function(b){var c=0,d=0,e=0,b=b.Tb;if("mousewheel"==b.type){d=1;if(A||C&&(lb||D("532.0")))d=40;e=nl(-b.wheelDelta,d);la(b.wheelDeltaX)?(c=nl(-b.wheelDeltaX,d),d=nl(-b.wheelDeltaY,d)):d=e}else e=b.detail,100<e?e=3:-100>e&&(e=-3),la(b.axis)&&b.axis===b.HORIZONTAL_AXIS?c=e:d=e;pa(this.hF)&&(c=Lb(c,-this.hF,this.hF));pa(this.iF)&&(d=Lb(d,-this.iF,this.iF));this.pO&&(c=-c);c=new ol(e,b,c,d);this.dispatchEvent(c)};a.nl=function(b,c){return C&&(kb||mb)&&0!=b%c?b:b/c};
ml.prototype.w=function(){ml.n.w.call(this);zd(this.TE);delete this.TE};a.ol=function(b,c,d,e){c&&this.z(c,i);this.type="mousewheel";this.detail=b;this.Mi=d;this.Ni=e};y(ol,kd);a.pl=function(){wj.call(this);this.queue=[]};y(pl,wj);pl.prototype.add=function(b){z.contains(this.queue,b)||(this.queue.push(b),O(b,"finish",this.HF,m,this))};pl.prototype.remove=function(b){z.remove(this.queue,b)&&xd(b,"finish",this.HF,m,this)};pl.prototype.w=function(){z.forEach(this.queue,function(b){b.G()});this.queue.length=0;pl.n.w.call(this)};a.ql=function(){pl.call(this);this.Xv=0};y(ql,pl);
ql.prototype.play=function(b){if(0==this.queue.length)return m;if(b||this.$==vj)this.Xv=0,this.Rh();else if(1==this.$)return m;this.Ed("play");-1==this.$&&this.Ed("resume");var c=-1==this.$&&!b;this.startTime=za();this.gn=k;this.$=1;z.forEach(this.queue,function(d){(!c||-1==d.$)&&d.play(b)});return j};ql.prototype.stop=function(b){z.forEach(this.queue,function(c){c.$==vj||c.stop(b)});this.$=vj;this.gn=za();this.Ed("stop");this.Th()};
ql.prototype.HF=function(){this.Xv++;this.Xv==this.queue.length&&(this.gn=za(),this.$=vj,this.Ed("finish"),this.Th())};a.rl=function(){N.call(this)};y(rl,Gd);t=rl.prototype;t.Wd=0;t.bo=0;t.Zn=100;t.bl=0;t.ak=1;t.xE=m;t.vs=m;t.za=function(b){b=sl(this,b);this.Wd!=b&&(this.Wd=b+this.bl>this.Zn?this.Zn-this.bl:b<this.bo?this.bo:b,!this.xE&&!this.vs&&this.dispatchEvent("change"))};t.V=function(){return sl(this,this.Wd)};t.Ko=function(b){b=sl(this,b);this.bl!=b&&(this.bl=0>b?0:this.Wd+b>this.Zn?this.Zn-this.Wd:b,!this.xE&&!this.vs&&this.dispatchEvent("change"))};
t.Dh=function(){return this.ak==k?this.bl:Math.round(this.bl/this.ak)*this.ak};t.Fc=function(){return sl(this,this.bo)};t.Nc=function(){return sl(this,this.Zn)};t.vw=p("ak");a.sl=function(b,c){return b.ak==k?c:b.bo+Math.round((c-b.bo)/b.ak)*b.ak};a.tl=function(b){T.call(this,b);this.aB=k;this.Qa=new rl;O(this.Qa,"change",this.ID,m,this)};y(tl,T);a.ul=Fd("dragvaluestart"),a.vl=Fd("dragvalueend"),a.wl=Fd("dragextentstart"),a.xl=Fd("dragextentend"),a.yl=Fd("dragstart"),a.zl=Fd("dragend");t=tl.prototype;t.vb="horizontal";t.Ur=m;t.ZO=m;t.wf=10;t.ao=0;t.BE=j;t.cc=j;t.Id=m;t.v=function(){tl.n.v.call(this);var b=this.K().v("div",this.L(this.vb));this.ca(b)};
t.ca=function(b){tl.n.ca.call(this,b);E.add(b,this.L(this.vb));var b=this.m(),c=Ub(k,"goog-slider-thumb",b)[0];c||(c=this.K().v("div","goog-slider-thumb"),Mc(c,Vc.Hp),b.appendChild(c));this.Ta=this.rd=c;Mc(this.m(),Vc.OI);Al(this)};t.B=function(){tl.n.B.call(this);this.Vd=new xh(this.Ta);this.Ff=new xh(this.rd);this.Vd.xh(this.Id);this.Ff.xh(this.Id);this.Vd.sv=this.Ff.sv=ha;this.kb=new gl(this.m());Bl(this,j);this.m().tabIndex=0;Cl(this)};
a.Bl=function(b,c){c?(b.h().e(b.Vd,"beforedrag",b.lr).e(b.Ff,"beforedrag",b.lr).e(b.Vd,["start","end"],b.wr).e(b.Ff,["start","end"],b.wr).e(b.kb,"key",b.Ze).e(b.m(),"mousedown",b.dj),b.BE&&Dl(b,j)):(b.h().Da(b.Vd,"beforedrag",b.lr).Da(b.Ff,"beforedrag",b.lr).Da(b.Vd,["start","end"],b.wr).Da(b.Ff,["start","end"],b.wr).Da(b.kb,"key",b.Ze).Da(b.m(),"mousedown",b.dj),b.BE&&Dl(b,m))};t.hb=function(){tl.n.hb.call(this);Sc(this.Vd,this.Ff,this.kb,this.Dj)};
t.lr=function(b){var c=b.Oq==this.Vd?this.Ta:this.rd,d;"vertical"==this.vb?(d=this.m().clientHeight-c.offsetHeight,d=(d-b.top)/d*(this.Nc()-this.Fc())+this.Fc()):d=b.left/(this.m().clientWidth-c.offsetWidth)*(this.Nc()-this.Fc())+this.Fc();d=b.Oq==this.Vd?Math.min(Math.max(d,this.Fc()),this.V()+this.Dh()):Math.min(Math.max(d,this.V()),this.Nc());El(this,c,d)};
t.wr=function(b){var c="start"==b.type;E.enable(this.m(),"goog-slider-dragging",c);E.enable(b.target.handle,"goog-slider-thumb-dragging",c);b=b.Oq==this.Vd;c?(this.dispatchEvent(yl),this.dispatchEvent(b?ul:wl)):(this.dispatchEvent(zl),this.dispatchEvent(b?vl:xl))};
t.Ze=function(b){var c=j;switch(b.keyCode){case 36:Fl(this,this.Fc());break;case 35:Fl(this,this.Nc());break;case 33:Gl(this,this.wf);break;case 34:Gl(this,-this.wf);break;case 37:var d=this.Id&&this.ud()?1:-1;Gl(this,b.shiftKey?d*this.wf:d*this.mp);break;case 40:Gl(this,b.shiftKey?-this.wf:-this.mp);break;case 39:d=this.Id&&this.ud()?-1:1;Gl(this,b.shiftKey?d*this.wf:d*this.mp);break;case 38:Gl(this,b.shiftKey?this.wf:this.mp);break;default:c=m}c&&b.preventDefault()};
t.dj=function(b){this.m().focus&&this.m().focus();var c=b.target;!sc(this.Ta,c)&&!sc(this.rd,c)&&(this.ZO?Fl(this,Hl(this,b)):(this.Rz(b),this.Ge=Il(this,Hl(this,b)),this.kE="vertical"==this.vb?this.ds<this.Ge.offsetTop:this.ds>Jl(this,this.Ge)+this.Ge.offsetWidth,b=Rb(this.m()),this.h().e(b,"mouseup",this.Pz,j).e(this.m(),"mousemove",this.Rz),this.Jh||(this.Jh=new Id(200),this.h().e(this.Jh,Jd,this.OD)),this.OD(),this.Jh.start()))};t.DD=function(b){Gl(this,(0<b.detail?-1:1)*this.mp);b.preventDefault()};
t.OD=function(){var b;if("vertical"==this.vb){var c=this.ds,d=this.Ge.offsetTop;this.kE?c<d&&(b=Kl(this,this.Ge)+this.wf):c>d+this.Ge.offsetHeight&&(b=Kl(this,this.Ge)-this.wf)}else c=this.ds,d=Jl(this,this.Ge),this.kE?c>d+this.Ge.offsetWidth&&(b=Kl(this,this.Ge)+this.wf):c<d&&(b=Kl(this,this.Ge)-this.wf);la(b)&&El(this,this.Ge,b)};t.Pz=function(){this.Jh&&this.Jh.stop();var b=Rb(this.m());this.h().Da(b,"mouseup",this.Pz,j).Da(this.m(),"mousemove",this.Rz)};
a.Ll=function(b,c){var d=kg(c,b.m());return"vertical"==b.vb?d.y:b.Id&&b.ud()?b.m().clientWidth-d.x:d.x};t.Rz=function(b){this.ds=Ll(this,b)};
a.Hl=function(b,c){var d=b.Fc(),e=b.Nc();if("vertical"==b.vb){var g=b.Ta.offsetHeight,h=b.m().clientHeight-g,g=Ll(b,c)-g/2;return(e-d)*(h-g)/h+d}g=b.Ta.offsetWidth;h=b.m().clientWidth-g;g=Ll(b,c)-g/2;return(e-d)*g/h+d},a.Kl=function(b,c){if(c==b.Ta)return b.Qa.V();if(c==b.rd)return b.Qa.V()+b.Qa.Dh();f(Error("Illegal thumb element. Neither minThumb nor maxThumb"))},a.Gl=function(b,c){var d=Kl(b,b.Ta)+c,e=Kl(b,b.rd)+c,d=Lb(d,b.Fc(),b.Nc()-b.ao),e=Lb(e,b.Fc()+b.ao,b.Nc());Ml(b,d,e-d)},a.El=function(b,
c,d){var e=k;c==b.rd&&(d<=b.Qa.Nc()&&d>=b.Qa.V()+b.ao)&&(e=d-b.Qa.V());var g=e||b.Qa.Dh();c==b.Ta&&(d>=b.Fc()&&d<=b.Qa.V()+g-b.ao)&&(c=g-(d-b.Qa.V()),sl(b.Qa,d)+sl(b.Qa,c)==sl(b.Qa,d+c)&&(Ml(b,d,c),e=k));e!=k&&b.Qa.Ko(e)},a.Ml=function(b,c,d){b.Fc()<=c&&(c<=b.Nc()-d&&b.ao<=d&&d<=b.Nc()-c)&&!(c==b.V()&&d==b.Dh())&&(b.Qa.vs=j,b.Qa.Ko(0),b.Qa.za(c),b.Qa.Ko(d),b.Qa.vs=m,b.ID())};t.Fc=function(){return this.Qa.Fc()};t.Nc=function(){return this.Qa.Nc()};
a.Il=function(b,c){return c<=b.Qa.V()+b.Qa.Dh()/2?b.Ta:b.rd};t.ID=function(){Cl(this);Al(this);this.dispatchEvent("change")};
a.Cl=function(b){if(b.Ta&&!b.Ur){var c=Nl(b,Kl(b,b.Ta)),d=Nl(b,Kl(b,b.rd));if("vertical"==b.vb)b.Ta.style.top=c.y+"px",b.rd.style.top=d.y+"px",b.Jb&&(c=Ol(d.y,c.y,b.Ta.offsetHeight),b.Jb.style.top=c.offset+"px",b.Jb.style.height=c.size+"px");else{var e=b.Id&&b.ud()?"right":"left";b.Ta.style[e]=c.x+"px";b.rd.style[e]=d.x+"px";b.Jb&&(c=Ol(c.x,d.x,b.Ta.offsetWidth),b.Jb.style[e]=c.offset+"px",b.Jb.style.width=c.size+"px")}}},a.Ol=function(b,c,d){var e=Math.ceil(d/2);return{offset:b+e,size:Math.max(c-
b+d-2*e,0)}},a.Nl=function(b,c){var d=new Mb;if(b.Ta){var e=b.Fc(),g=b.Nc(),g=c==e&&e==g?0:(c-e)/(g-e);"vertical"==b.vb?(e=b.m().clientHeight-b.Ta.offsetHeight,g=Math.round(g*e),d.x=Jl(b,b.Ta),d.y=e-g):(e=Math.round(g*(b.m().clientWidth-b.Ta.offsetWidth)),d.x=e,d.y=b.Ta.offsetTop)}return d},a.Fl=function(b,c){c=Lb(c,b.Fc(),b.Nc());b.Ur&&b.Dq.stop(j);var d=new ql,e,g=Il(b,c),h=b.V(),l=b.Dh(),n=Kl(b,g),q=Nl(b,n);e=b.vw();Math.abs(c-n)<e&&(c=Lb(n+(c>n?e:-e),b.Fc(),b.Nc()));El(b,g,c);n=Nl(b,Kl(b,g));
e="vertical"==b.vb?[Jl(b,g),n.y]:[n.x,g.offsetTop];q=new Gj(g,[q.x,q.y],e,100);q.xh(b.Id);d.add(q);if(b.Jb){var q=Nl(b,h),r=Nl(b,h+l),l=q;e=r;g==b.Ta?l=n:e=n;"vertical"==b.vb?(g=Ol(r.y,q.y,b.Ta.offsetHeight),l=Ol(e.y,l.y,b.Ta.offsetHeight),n=new Gj(b.Jb,[Jl(b,b.Jb),g.offset],[Jl(b,b.Jb),l.offset],100),g=new Jj(b.Jb,g.size,l.size,100)):(g=Ol(q.x,r.x,b.Ta.offsetWidth),l=Ol(l.x,e.x,b.Ta.offsetWidth),n=new Gj(b.Jb,[g.offset,b.Jb.offsetTop],[l.offset,b.Jb.offsetTop],100),g=new Ij(b.Jb,g.size,l.size,100));
n.xh(b.Id);g.xh(b.Id);d.add(n);d.add(g)}b.aB&&(h=b.aB.DW(h,c,100),z.forEach(h,function(b){d.add(b)}));b.Dq=d;b.h().e(d,"end",b.oL);b.Ur=j;d.play(m)};t.oL=function(){this.Ur=m};t.No=function(b){if(this.vb!=b){var c=this.L(this.vb),d=this.L(b);this.vb=b;this.m()&&(E.tH(this.m(),c,d),b=this.Id&&this.ud()?"right":"left",this.Ta.style[b]=this.Ta.style.top="",this.rd.style[b]=this.rd.style.top="",this.Jb&&(this.Jb.style[b]=this.Jb.style.top="",this.Jb.style.width=this.Jb.style.height=""),Cl(this))}};
t.w=function(){tl.n.w.call(this);this.Jh&&this.Jh.G();delete this.Jh;this.Dq&&this.Dq.G();delete this.Dq;delete this.Ta;delete this.rd;this.Jb&&delete this.Jb;this.Qa.G();delete this.Qa;this.kb&&(this.kb.G(),delete this.kb);this.Dj&&(this.Dj.G(),delete this.Dj);this.Vd&&(this.Vd.G(),delete this.Vd);this.Ff&&(this.Ff.G(),delete this.Ff)};t.mp=1;t.vw=function(){return this.Qa.vw()};t.V=function(){return this.Qa.V()};t.za=function(b){El(this,this.Ta,b)};t.Dh=function(){return this.Qa.Dh()};
t.Ko=function(b){El(this,this.rd,this.Qa.V()+b)};t.D=function(b){R(this.m(),b);b&&Cl(this)};a.Al=function(b){var c=b.m();if(c){var d=b.Fc();Nc(c,Uc.XI,d);d=b.Nc();Nc(c,Uc.WI,d);b=b.V();Nc(c,Uc.YI,b)}},a.Dl=function(b,c){c?(b.Dj||(b.Dj=new ml(b.m())),b.h().e(b.Dj,"mousewheel",b.DD)):b.h().Da(b.Dj,"mousewheel",b.DD)};t.Xa=function(b){if(this.cc!=b&&this.dispatchEvent(b?"enable":"disable"))this.cc=b,Bl(this,b),b||this.Pz(),E.enable(this.m(),"goog-slider-disabled",!b)};t.isEnabled=p("cc");
a.Jl=function(b,c){return b.Id?wh(c):c.offsetLeft};a.Pl=function(b){tl.call(this,b);this.Qa.Ko(0)};y(Pl,tl);Pl.prototype.L=function(b){return"vertical"==b?"goog-slider-vertical":"goog-slider-horizontal"};a.Ql=function(b){this.options=$.extend({},this.defaults,b)};y(Ql,T);t=Ql.prototype;t.defaults={SB:310,TB:310,fg:250,gg:250,QO:2,opacity:0.25,rY:"#eee"};t.ca=function(b){Ql.n.ca.call(this,b);this.src=this.g.src;this.options.src=this.src;this.options.tm=(this.options.SB-this.options.fg)/2;this.options.sm=(this.options.TB-this.options.gg)/2;this.Aq()};
t.Aq=function(){var b=this.options;this.vA=$(Qk('            <div class="avatar-editor-container" style="width:<%=containerWidth%>px">              <div class="avatar-editor-container-inner" style="height:<%=containerHeight%>px;">                <div class="avatar-editor-window" style="height:<%=windowHeight%>px;width:<%=windowWidth%>px;margin:<%=windowMarginTop%>px <%=windowMarginLeft%>px;">                  <div class="avatar-editor-window-shadow" style="height:<%=windowHeight%>px;width:<%=windowWidth%>px;"></div>                  <div class="avatar-editor-window-inner" style="width:<%=containerWidth%>px; height:<%=containerHeight%>px;margin:-<%=windowMarginTop%>px 0 0 -<%=windowMarginLeft%>px;">                    <img class="inner" title="拖动相片"/>                  </div>                </div>                <img class="outer" style="opacity:<%=opacity%>;"/>              </div>              <div class="goog-slider-wrap">                  <i class="zg-icon image-minus"></i>                  <i class="zg-icon image-plus"></i>                  <div class="goog-slider">                      <div class="line"></div>                      <div class="goog-slider-thumb"></div>                  </div>              </div>            </div>',{containerWidth:b.TB,
containerHeight:b.SB,windowHeight:b.fg,windowWidth:b.gg,windowMarginTop:b.tm,windowMarginLeft:b.sm,src:b.src,opacity:b.opacity}));this.Sb=this.vA[0];this.vA.insertBefore(this.g);R(this.g,m);this.FK=K("avatar-editor-container-inner",this.Sb);this.Hr=K("outer",this.Sb);this.ax=K("inner",this.Sb);this.vm=$(this.Hr);this.$t=$(this.ax);this.hE=0;this.vm.load(v(this.LH,this));this.$t.load(v(this.LH,this));this.ax.src=this.Hr.src=this.options.src;this.vS=K("goog-slider",this.Sb)};
t.B=function(){this.Jz=new Pl;this.Jz.o(this.vS);this.h().e(this.FK,["mousedown","touchstart"],function(b){var c=new xh(this.Sb);c.addEventListener("drag",v(function(b){var c=this.zoom;this.ye={xp:this.options.gg/c,rn:this.options.fg/c,x:(this.options.sm-(this.pE.left+(b.clientX-this.wt)))/c,y:(this.options.tm-(this.pE.top+(b.clientY-this.xt)))/c};Rl(this)},this));c.addEventListener("end",v(function(){c.G()},this));c.qm(b);this.qm(b)});this.h().e(this.Sb,["touchmove"],function(b){b.stopPropagation();
b.preventDefault()});this.h().e(this.Jz,"change",function(){var b=this.Jz.V(),c=this.lI;Sl(this,(this.JT-c)*b/100+c)})};a.Sl=function(b,c){b.wX=b.zoom;b.zoom=c;Tl(b,b.ye.xp/2+b.ye.x,b.ye.rn/2+b.ye.y)},a.Tl=function(b,c,d){var e=b.zoom;b.ye={xp:b.options.gg/e,rn:b.options.fg/e,x:c-b.options.gg/e/2,y:d-b.options.fg/e/2};Rl(b)};t.LH=function(){this.ON||(this.ax.complete&&this.Hr.complete?this.z():(this.hE++,2<=this.hE&&this.z()))};
t.z=function(){this.Gr=this.vm.width();this.Fr=this.vm.height();var b=this.options.gg/this.Gr,c=this.options.fg/this.Fr;this.lI=b=c>b?c:b;this.JT=this.lI*this.options.QO;this.ye={rn:this.options.gg/b,xp:this.options.fg/b,x:0,y:0};Sl(this,b);Tl(this,this.Gr/2,this.Fr/2);this.ON=j};t.qm=function(b){this.wt=b.clientX;this.xt=b.clientY;this.pE=this.$t.position();this.PX=this.vm.position()};
a.Rl=function(b){var c=b.zoom,d=Lb(b.options.sm-b.ye.x*c,b.options.gg+b.options.sm-b.Gr*c,b.options.sm),e=Lb(b.options.tm-b.ye.y*c,b.options.fg+b.options.tm-b.Fr*c,b.options.tm),g={width:c*b.Gr,height:c*b.Fr,left:d,top:e};b.vm.css(g);b.$t.css(g);b.ye.x=(b.options.sm-d)/c;b.ye.y=(b.options.tm-e)/c};t.support=function(){return"getContext"in document.createElement("canvas")};a.Vl=function(b,c,d){T.call(this);this.$p=b||Ul;this.KC=c;this.PG=d||"l"};y(Vl,T);a.Ul=1;t=Vl.prototype;t.ca=function(b){this.g=b;this.v()};
t.v=function(){this.mA="http://upload."+dh.$l+"/upload_avatar";this.rk=$(Qk('            <form target="av_up_frame" style="display:none;" method="post" enctype="multipart/form-data" action="<%=uploadAction%>">                <label for="avt_file"></label>                <input type="file" accept="image/*" name="picture" id="avt_file" />                <input type="hidden" name="handle_mode" value="upload" />                <input type="hidden" name="type" value="<%=type%>" />                <input type="hidden" name="dest_id" value="<%=dest_id%>" />                <input type="hidden" name="return_size" value="<%=return_size%>" />            </form>',{uploadAction:this.mA,
type:this.$p,dest_id:this.$p===Ul?S[3]:this.KC,return_size:this.PG}));this.oI=$('<iframe id="av_up_frame" name="av_up_frame" style="position: absolute; height: 0px; width: 0px; left: -9000px;"></iframe>');this.oI.appendTo(document.body);this.input=this.rk.find("input[type=file]")[0];A?(this.rk.find("label").html($(this.g).html()),this.g.innerHTML="",$(this.g).append(this.rk),this.rk.addClass("avatar-editor-form-ie")):(this.rk.insertAfter(this.g),$(this.g).click($.proxy(function(){this.input.click()},
this)));this.h().e(this.input,"change",this.Sh).e(this.input,"click",function(b){this.dispatchEvent("beforeopen")===m&&b.preventDefault()});this.h().e(Y,Wl,function(b){(b=b.tc)&&!b.r?"upload"===b.handle_mode?(this.yl=b.url,this.$w=b.id,Xl()||this.ro()):"resize"===b.handle_mode&&($(this.g).find("form").remove(),this.$B(b)):U(b.msg)})};a.Xl=function(){return!!window.FileReader};
t.Sh=function(b){this.yl=this.$w=this.jj="";if(this.Pe)this.Pe.ha();else{this.Pe=new yi(k,m);this.Pe.Ma("修改图片");var c=li.sI,d=li.ZI,e=new di;e.set(c,"取消",m,j).set(d,"确定",j);hi(this.Pe,e);this.h().e(this.Pe,ii,function(b){if(b.key===d){if(Xl()){var c=this.kv,b=$("<canvas></canvas>");b.attr("width",c.options.gg);b.attr("height",c.options.fg);var e=b[0];$(document.body).append(e);var n=b[0].getContext("2d"),q=c.ye;n.drawImage(c.Hr,q.x,q.y,q.xp,q.rn,0,0,c.options.gg,c.options.fg);c=e.toDataURL("image/png");
b.remove();b=c}else b=this.kv.ye;if((this.jj=b)&&(Xl()||this.$w))if(this.dispatchEvent("beforepost"),b={type:this.$p,dest_id:this.$p===Ul?S[3]:this.KC,return_size:this.PG},Xl()){var r=new FormData;r.append("handle_mode","upload");r.append("picture",Yl(this.jj.replace(/data\:image\/\w{3,4};base64,/,"")),this.file.name);$.each(b,function(b,c){r.append(b,c)});$.ajax({url:this.mA,data:r,method:"post",processData:m,contentType:m,success:$.proxy(this.$B,this),dataType:"json",xhrFields:{withCredentials:j},
crossDomain:j})}else{var b=$.extend(b,{handle_mode:"resize",x:Math.round(this.jj.x),y:Math.round(this.jj.y),height:Math.round(this.jj.rn),width:Math.round(this.jj.xp),hashval:this.$w}),w='<form target="av_up_frame" style="display:none;" method="post" action="'+this.mA+'">';$.each(b,function(b,c){w+='<input type="hidden" name="'+b+'" value="'+c+'" />'});w+="</form>";b=$(w);b.appendTo(this.g);b[0].submit()}this.Pe.D(m);return m}})}e=this.Pe.X();c=$("<div class='new-avatar-editor-loading'><div><span></span></div><div>正在上传...</div></div>");
e=$(e);e.html("");e.append(c);this.Pe.D(j);E.add(this.Pe.g,"avatar-edit-dialog");b=this.input=b.target;Xl()?b.files&&b.files[0]&&(this.file=b=b.files[0],c=new window.FileReader,c.onload=v(function(b){this.yl=b.target.result;this.ro()},this),c.readAsDataURL(b)):this.rk[0].submit();b=this.input.cloneNode();mc(b,this.input);this.input=b;this.h().e(this.input,"change",this.Sh)};t.ro=function(){var b=this.Pe.X();this.Zw=new Image;this.Zw.src=this.yl;b=$(b);b.html("");b.append(this.Zw);this.kv=new Ql;this.kv.o(this.Zw)};
t.$B=function(b){b&&!b.r?this.data=b:U(b.msg);this.dispatchEvent({type:"success",src:this.data});this.Pe.D(m)};t.getData=function(){return this.data||k};a.Yl=function(b){var c,d;d="image/png";c=c||512;for(var b=atob(b),e=[],g=0;g<b.length;g+=c){for(var h=b.slice(g,g+c),l=Array(h.length),n=0;n<h.length;n++)l[n]=h.charCodeAt(n);h=new Uint8Array(l);e.push(h)}return new Blob(e,{type:d})};$.fn.placeholder=function(b){return this.each(function(){var c=$(this),d=c.data("placeholder");d||c.data("placeholder",d=new Zl(this,b));d.oq()})};a.Zl=function(b,c){b&&(this.input=b,"string"===typeof c&&(c={text:c}),H.extend(this.F={},this.defaults,c||{}),this.zg=k,this.ku())},a.$l="placeholder"in document.createElement("input");t=Zl.prototype;t.defaults={text:"",offsetParent:k,rB:m};t.XJ=["paddingBottom","paddingTop","paddingLeft","paddingRight"];
t.Wj=function(b){var c=this.input,d=this.F;d.text=b||"";$l?(am(c)||Nc(c,Uc.Kp,d.text),c.setAttribute("placeholder",d.text)):xc(this.label,d.text)};a.bm=function(b){$l?E.enable(b.input,"placeholder-hilight",m):E.enable(b.label,"placeholder-label-hilight",m)};t.G=function(){this.zg&&(this.zg.removeAll(),this.zg.G());M(this.label);this.label=k};
t.ku=function(){var b=this.input,c=this.F;c.text||(c.text=b.getAttribute("placeholder"));if($l)return this.Wj(c.text);var d=this.input,e=hg(d),g=L("label"),h=kg(d,this.offsetParent());Uf(g,{color:"gray",cursor:"text",position:"absolute",left:h.x+e.left+"px",top:h.y+e.top+"px",display:this.Eb()?"block":"none",width:cm(d,"width"),fontSize:cm(d,"fontSize"),lineHeight:cm(d,"lineHeight"),fontFamily:cm(d,"fontFamily")});d=this.label=g;this.Wj(c.text);this.offsetParent().appendChild(d);e=this.zg=new le(this);
e.e(b,"blur",this.oq);e.e(b,"focus",this.hide);c.rB&&e.e(b,"keydown",this.hide);e.e(d,"click",function(){this.hide();sg(b)&&b.focus()});b.KX=v(this.oq,this);c=this.input;d=this.label;am(c)||(c.id?d.htmlFor=c.id:(d.id=Ih(Hh.O()),Nc(c,Uc.eu,d.id)));this.position();this.oq()};a.am=function(b){if(("labels"in b?b.labels.length:b.id&&z.some(document.getElementsByTagName("label"),function(c){return c.htmlFor===b.id}))||Oc(b,Uc.Kp)||Oc(b,Uc.eu))return j},a.cm=function(b,c){return Wf(b,c)||Xf(b,c)||b.style[c]};
t.offsetParent=function(){return this.F.offsetParent||this.input.offsetParent};t.oq=function(){if(!$l)if(this.Eb()&&sg(this.input)){this.show();var b=this.input,c=hg(b),d=this.label,e=kg(b,this.offsetParent());Uf(d,{left:e.x+c.left+"px",top:e.y+c.top+"px",width:cm(b,"width"),fontSize:cm(b,"fontSize"),lineHeight:cm(b,"lineHeight"),fontFamily:cm(b,"fontFamily")});this.offsetParent().appendChild(d)}else this.hide()};t.show=function(){this.label&&R(this.label,j)};
t.hide=function(){this.label&&R(this.label,m)};t.Eb=function(){return!this.input.value};t.position=function(){z.forEach(this.XJ,function(b){this.label.style[b]=cm(this.input,b)},this)};a.dm=function(){N.call(this);this.Mc=[];this.Vk=[];this.Bv={};this.N=new le(this);this.eO=this.CE=m;this.lA=j};y(dm,Gd);t=dm.prototype;t.cE=0;t.cH=ca("cE");a.em=function(b,c,d){c.BC=d;c.Pi=i;b.Mc.push(c)};
t.z=function(){if(!this.CE){for(var b=0,c=this.Mc.length;b<c;b++)for(var d=oc(this.Mc[b]),e=0,g=d.length;e<g;++e){var h=d[e],l=h,n=ua(l);this.Bv[n]=h;this.DC&&(this.N.e(h,"mouseover",this.sM),this.N.e(h,"mouseout",this.rM));this.CC&&(this.N.e(l,"mouseover",this.qM),this.N.e(l,"mouseout",this.pM));this.Vk.push(h);this.N.e(l,["mousedown","touchstart"],this.XM)}this.CE=j}};
t.w=function(){this.N.G();for(var b=0,c=this.Mc.length;b<c;b++){var d=this.Mc[b];d.BC=i;d.Pi=i}this.Mc.length=0;this.Vk.length=0;this.Bv=k;fm(this);dm.n.w.call(this)};a.gm=function(b,c){for(var d=0,e=b.Mc.length;d<e;d++){var g=b.Mc[d];g.Uk=qg(g)}d=0;for(e=b.Vk.length;d<e;d++)g=b.Vk[d],g!=c&&(g.Uk=qg(g))};
t.XM=function(b){var c=ua(b.currentTarget);this.wa=this.Bv[c];a:{var c=this.wa,d=c.cloneNode(j);switch(c.tagName.toLowerCase()){case "tr":c=L("table",k,L("tbody",k,d));break a;case "td":case "th":c=L("table",k,L("tbody",k,L("tr",k,d)));break a;default:c=d}}this.yb=c;this.Pq&&E.add(this.yb,this.Pq);this.yb.style.margin="0";this.yb.style.position="absolute";this.yb.style.visibility="hidden";Rb(this.wa).body.appendChild(this.yb);c=eg(this.wa);mg(this.yb,c);this.zb=new xh(this.yb);this.zb.cH(this.cE);
O(this.zb,"start",this.Dw,m,this);O(this.zb,"end",this.nM,m,this);O(this.zb,"earlycancel",this.Xu,m,this);this.zb.qm(b)};
t.Dw=function(b){if(this.dispatchEvent(new hm("beforedragstart",this,b.AB,this.wa,k,k))){this.Es=this.wa.parentNode;this.bC=this.Ay=this.wa.nextElementSibling!=i?this.wa.nextElementSibling:pc(this.wa.nextSibling,j);this.nv=this.Es;this.mv?E.add.apply(k,z.concat(this.wa,this.mv)):this.wa.style.visibility="hidden";var c=pg(this.yb);this.yb.WL=c.width/2;this.yb.VL=c.height/2;this.yb.style.visibility="";this.lA&&(this.wa.style.display="none");gm(this,this.wa);this.wa.style.display="";O(this.zb,"drag",
this.tM,m,this);this.dispatchEvent(new hm("dragstart",this,b.AB,this.wa,this.yb,this.zb))}else b.preventDefault(),this.Xu()};
t.tM=function(b){var c=eg(this.yb),c=new Mb(c.x+this.yb.WL,c.y+this.yb.VL),d;a:{d=k;if("none"!=this.wa.style.display){d=this.wa.parentNode;var e=qg(d);if(im(c,e))break a}for(var e=0,g=this.Mc.length;e<g;e++){var h=this.Mc[e];if(h!=d&&im(c,h.Uk)){d=h;break a}}d=k}var l;if(d){d==k&&f(Error("getHoverNextItem_ called with null hoverList."));var n,q,e=m,g=i;switch(d.BC){case 0:l=c.y;n=jm;q=km;break;case 4:e=j;case 2:l=c.x;n=lm;q=km;break;case 5:e=j;case 3:l=c.x,n=mm,q=nm}for(var h=k,r,w=oc(d),F=0,I=w.length;F<
I;F++){var G=w[F];if(G!=this.wa){var Q=n(G.Uk);if(e){var W=om(G,c);la(g)||(g=W);if(q(l,Q)&&(r==i||W<g||W==g&&(q(Q,r)||Q==r)))h=G,r=Q;W<g&&(g=W)}else if(q(l,Q)&&(r==i||q(Q,r)))h=G,r=Q}}l=h!==k&&om(h,c)>g?k:h}else l=k;if(!this.dispatchEvent(new hm("beforedragmove",this,b,this.wa,this.yb,this.zb,c,d,l)))return m;if(d)this.lA?(this.wa.parentNode!=d||(this.wa.nextElementSibling!=i?this.wa.nextElementSibling:pc(this.wa.nextSibling,j))!=l)&&d.insertBefore(this.wa,l):l&&(this.bC=l),this.wa.style.display=
"",d.Pi&&E.add(d,d.Pi);else{this.eO||(this.wa.style.display="none");n=0;for(q=this.Mc.length;n<q;n++)r=this.Mc[n],r.Pi&&E.remove(r,r.Pi)}d!=this.nv&&(this.nv=d,gm(this,this.wa));this.dispatchEvent(new hm("dragmove",this,b,this.wa,this.yb,this.zb,c,d,l));return m};t.Xu=function(){fm(this);this.zb=this.yb=this.Ay=this.Es=this.nv=this.wa=k;for(var b=0,c=this.Mc.length;b<c;b++)this.Mc[b].Uk=k;b=0;for(c=this.Vk.length;b<c;b++)this.Vk[b].Uk=k};
t.nM=function(b){if(!this.dispatchEvent(new hm("beforedragend",this,b,this.wa,this.yb,this.zb)))return m;this.lA||this.Es.insertBefore(this.wa,this.bC);fm(this);this.dispatchEvent(new hm("dragend",this,b,this.wa,this.yb,this.zb));this.Xu();return j};
a.fm=function(b){Tc(b.zb);b.yb&&M(b.yb);b.wa&&"none"==b.wa.style.display&&(b.Es.insertBefore(b.wa,b.Ay),b.wa.style.display="");b.mv&&b.wa?E.remove.apply(k,z.concat(b.wa,b.mv)):b.wa&&(b.wa.style.visibility="visible");for(var c=0,d=b.Mc.length;c<d;c++){var e=b.Mc[c];e.Pi&&E.remove(e,e.Pi)}};t.sM=function(b){E.add.apply(k,z.concat(b.currentTarget,this.DC))};t.rM=function(b){E.remove.apply(k,z.concat(b.currentTarget,this.DC))};t.qM=function(b){E.add.apply(k,z.concat(b.currentTarget,this.CC))};
t.pM=function(b){E.remove.apply(k,z.concat(b.currentTarget,this.CC))};
a.im=function(b,c){return b.x>c.left&&b.x<c.left+c.width&&b.y>c.top&&b.y<c.top+c.height},a.om=function(b,c){var d=b.Uk;return Math.abs(c.y-(d.top+(d.height-1)/2))},a.jm=function(b){return b.top+b.height-1},a.lm=function(b){return b.left+b.width-1},a.mm=function(b){return b.left||0},a.km=function(b,c){return b<c},a.nm=function(b,c){return b>c},a.hm=function(b,c,d,e,g,h,l,n,q){gd.call(this,b);this.LW=c;this.event=d;this.HW=e;this.MW=g;this.Oq=h;this.NW=l;this.hX=n;this.iX=q};y(hm,gd);a.tm=function(b,c,d){N.call(this);this.df=b;this.jf=d;this.M=c;O(c,[pm,qm,rm,sm],this);this.Pb=k;this.cb=[];this.Pc=-1;this.Ec=0;this.Dd=this.Nb=k;this.rE={}};y(tm,Gd);t=tm.prototype;t.El=10;t.Dm=j;t.eB=m;t.hI=m;t.JH=m;a.pm="hilite",a.qm="select",a.sm="dismiss",a.rm="canceldismiss",a.um={AV:"rowhilite",EU:pm,EV:qm,yI:sm,aU:rm,dW:"update",wi:"suggestionsupdate"};t=tm.prototype;
t.handleEvent=function(b){if(b.target==this.M)switch(b.type){case pm:this.re(b.Eo);break;case qm:this.Vj();break;case rm:vm(this);break;case sm:this.Oi()}};t.nt=function(b,c){this.Pb!=b&&(this.Pb=b,this.df.Zh(this.Pb,this.El,v(this.MO,this),c),vm(this))};t.nb=function(){return this.M.R()};
a.wm=function(b){var c=b.Ec+b.cb.length-1;b.Pc>=b.Ec&&b.Pc<c?b.re(b.Pc+1):-1==b.Pc?b.re(b.Ec):b.Pc==c&&(b.eB?b.re(-1):b.hI&&b.re(b.Ec))},a.xm=function(b){b.Pc>b.Ec?b.re(b.Pc-1):b.eB&&b.Pc==b.Ec?b.re(-1):b.hI&&(-1==b.Pc||b.Pc==b.Ec)&&b.re(b.Ec+b.cb.length-1)};t.re=function(b){this.Pc=b;this.M.re(b);return-1!=ym(this,b)};
t.Vj=function(){var b=ym(this,this.Pc);if(-1!=b){var b=this.cb[b],c=this.jf.bi(b);this.JH?(this.Pb=k,this.Oi()):this.Cc();c||(this.dispatchEvent({type:"update",Eo:b}),this.JH&&this.jf.update(j));return j}this.Cc();this.dispatchEvent({type:"update",Eo:k});return m};t.Cc=function(){this.Pc=-1;this.Pb=k;this.Ec+=this.cb.length;this.cb=[];window.clearTimeout(this.Dd);this.Dd=k;this.M.Cc();this.dispatchEvent("suggestionsupdate");this.dispatchEvent(sm)};
t.Oi=function(){this.Dd||(this.Dd=window.setTimeout(v(this.Cc,this),100))};t.iE=function(){return this.Dd?(window.clearTimeout(this.Dd),this.Dd=k,j):m};a.vm=function(b){b.iE()||window.setTimeout(v(b.iE,b),10)};t.w=function(){tm.n.w.call(this);delete this.rE;this.M.G();this.jf.G();this.df=k};t.MO=function(b,c,d){this.Pb==b&&this.Yl(c,d)};
t.Yl=function(b,c){var d="object"==ka(c)&&c,e=(d?d.cX():c)?ym(this,this.Pc):-1;this.Ec+=this.cb.length;this.cb=b;for(var g=[],h=0;h<b.length;++h)g.push({id:this.Ec+h,data:b[h]});h=k;this.Nb&&(h=this.rE[ua(this.Nb)]||this.Nb);this.M.wJ=h;this.M.Yl(g,this.Pb,this.Nb);h=this.Dm;d&&d.LL()!==i&&(h=d.LL());(h||0<=e)&&0!=g.length&&this.Pb?this.re(0<=e?this.Ec+e:this.Ec):this.Pc=-1;this.dispatchEvent("suggestionsupdate")};a.ym=function(b,c){var d=c-b.Ec;return 0>d||d>=b.cb.length?-1:d};
t.Ak=function(b){var c=this.jf;c.Ak.apply(c,arguments)};t.update=function(b){this.jf.update(b)};a.Bm=function(b){var c;a:{var d=0,e=0;if(zm(b))d=b.selectionStart,e=-1;else if(A){var g=Am(b);c=g[0];g=g[1];if(c.inRange(g)){c.setEndPoint("EndToStart",g);if("textarea"==b.type){g.duplicate();d=b=c.text;for(e=m;!e;)0==c.compareEndPoints("StartToEnd",c)?e=j:(c.moveEnd("character",-1),c.text==b?d+="\r\n":e=j);c=[d.length,-1];break a}d=c.text.length;e=-1}}c=[d,e]}return c[0]},a.Am=function(b){var c=b.ownerDocument||b.document,d=c.selection.createRange();"textarea"==b.type?(c=c.body.createTextRange(),
c.moveToElementText(b)):c=b.createTextRange();return[c,d]},a.Cm=function(b,c){"textarea"==b.type&&(c=Ka(b.value.substring(0,c)).length);return c},a.zm=function(b){try{return"number"==typeof b.selectionStart}catch(c){return m}};a.Dm=function(b,c,d,e){N.call(this);e=e||150;this.Hl=d!=k?d:j;this.Go=b||",;";this.WK=this.Go.substring(0,1);b=this.Hl?"[\\s"+this.Go+"]+":"[\\s]+";this.KH=RegExp("^"+b+"|"+b+"$","g");this.WR=RegExp("\\s*["+this.Go+"]$");this.UE=c||"";this.XQ=this.Hl;this.ma=0<e?new Id(e):k;this.bc=new le(this);this.ju=new le(this);this.kb=new gl;this.ME=-1};y(Dm,N);a.Em=(Ng||Og)&&!D("533.17.9");t=Dm.prototype;t.CT=j;t.JL=j;t.RH=m;t.YR=j;t.XR=j;t.mu=k;t.Za=k;t.Vn="";t.si=m;t.ez=m;t.PH=j;t.er=p("Za");t.V=function(){return this.Za.value};
t.za=function(b){this.Za.value=b};t.Zp=function(b){ra(b)&&1==b.nodeType&&Nc(b,"haspopup",j);this.bc.e(b,"focus",this.pe);this.bc.e(b,"blur",this.Oc);this.Za||(this.ju.e(b,"keydown",this.NP),ra(b)&&1==b.nodeType&&Jc(Rb(b))==b&&Fm(this,b))};t.Ak=function(b){for(var c=0;c<arguments.length;c++)this.Zp(arguments[c])};t.bi=function(b,c){Gm(this,b.toString(),c);return m};
a.Gm=function(b,c,d){if(la(d)?d:b.Hl){var d=Hm(b,b.V(),Bm(b.Za)),e=Im(b,b.V());b.WR.test(c)||(c=Oa(c)+b.WK);b.CT&&(0!=d&&!Ha(e[d-1])&&(c=" "+c),d==e.length-1&&(c+=" "));if(c!=e[d]){e[d]=c;c=b.Za;(B||A&&D("9"))&&c.blur();c.value=e.join("");for(var g=0,h=0;h<=d;h++)g+=e[h].length;c.focus();d=g;e=b.Za;c=d;zm(e)?e.selectionStart=c:A&&(g=Am(e),h=g[0],h.inRange(g[1])&&(c=Cm(e,c),h.collapse(j),h.move("character",c),h.select()));e=b.Za;zm(e)?e.selectionEnd=d:A&&(g=Am(e),c=g[1],g[0].inRange(c)&&(d=Cm(e,d),
e=Cm(e,Bm(e)),c.collapse(j),c.moveEnd("character",d-e),c.select()))}}else b.za(c);b.ez=j};t.w=function(){Dm.n.w.call(this);this.mu!=k&&window.clearTimeout(this.mu);this.bc.G();delete this.bc;this.ju.G();this.kb.G()};
t.Ub=function(b){switch(b.keyCode){case 40:if(this.Y.nb())return this.RH?xm(this.Y):wm(this.Y),b.preventDefault(),j;if(!this.Hl)return this.update(j),b.preventDefault(),j;break;case 38:if(this.Y.nb())return this.RH?wm(this.Y):xm(this.Y),b.preventDefault(),j;break;case 9:if(this.Y.nb()&&!b.shiftKey){if(this.update(),this.Y.Vj()&&this.XQ)return b.preventDefault(),j}else this.Y.Cc();break;case 13:if(this.Y.nb()){if(this.update(),this.Y.Vj())return b.preventDefault(),b.stopPropagation(),j}else this.Y.Cc();
break;case 27:if(this.Y.nb())return this.Y.Cc(),b.preventDefault(),b.stopPropagation(),j;break;case 229:if(!this.si)return this.si||(this.bc.e(this.Za,"keyup",this.RF),this.bc.e(this.Za,"keypress",this.QF),this.si=j),j;break;default:this.ma&&!this.PH&&(this.ma.stop(),this.ma.start())}return Jm(this,b)};a.Jm=function(b,c){var d=b.Hl&&c.charCode&&-1!=b.Go.indexOf(String.fromCharCode(c.charCode));b.YR&&d&&b.update();return b.XR&&d&&b.Y.Vj()?(c.preventDefault(),j):m};t.sr=s(m);
a.Km=function(b){b.kb.attach(b.Za);b.bc.e(b.kb,"key",b.qo);b.bc.e(b.Za,"mousedown",b.SF);A&&b.bc.e(b.Za,"keypress",b.PF)};t.pe=function(b){Fm(this,b.target||k)};a.Fm=function(b,c){b.ju.removeAll();b.Y&&vm(b.Y);c!=b.Za&&(b.Za=c,b.ma&&(b.ma.start(),b.bc.e(b.ma,Jd,b.Ll)),b.Vn=b.V(),Km(b))};t.Oc=function(){Em?this.mu=window.setTimeout(v(this.tG,this),0):this.tG()};
t.tG=function(){this.Za&&(this.bc.Da(this.kb,"key",this.qo),this.kb.detach(),this.bc.Da(this.Za,"keyup",this.sr),this.bc.Da(this.Za,"mousedown",this.SF),A&&this.bc.Da(this.Za,"keypress",this.PF),this.si&&Lm(this),this.Za=k,this.ma&&(this.ma.stop(),this.bc.Da(this.ma,Jd,this.Ll)),this.Y&&this.Y.Oi())};t.Ll=function(){this.update()};t.NP=function(b){this.pe(b)};t.qo=function(b){this.ME=b.keyCode;this.Y&&this.Ub(b)};t.QF=function(){this.si&&229!=this.ME&&Lm(this)};
t.RF=function(b){this.si&&(13==b.keyCode||77==b.keyCode&&b.ctrlKey)&&Lm(this)};t.SF=function(b){this.Y&&this.qe(b)};t.qe=ba();a.Lm=function(b){b.si&&(b.si=m,b.bc.Da(b.Za,"keypress",b.QF),b.bc.Da(b.Za,"keyup",b.RF))};t.PF=function(b){Jm(this,b)};t.update=function(b){if(this.Za&&(b||this.V()!=this.Vn)){if(b||!this.ez){var b=Bm(this.Za),c=this.V(),b=Im(this,c)[Hm(this,c,b)],b=this.KH?String(b).replace(this.KH,""):b;this.Y&&(this.Y.Nb=this.Za,this.Y.nt(b,this.V()))}this.Vn=this.V()}this.ez=m};
a.Hm=function(b,c,d){b=Im(b,c);if(d==c.length)return b.length-1;for(var e=c=0,g=0;e<b.length&&g<=d;e++)g+=b[e].length,c=e;return c},a.Im=function(b,c){if(!b.Hl)return[c];for(var d=String(c).split(""),e=[],g=[],h=0,l=m;h<d.length;h++)b.UE&&-1!=b.UE.indexOf(d[h])?(b.JL&&!l&&(e.push(g.join("")),g.length=0),g.push(d[h]),l=!l):!l&&-1!=b.Go.indexOf(d[h])?(g.push(d[h]),e.push(g.join("")),g.length=0):g.push(d[h]);e.push(g.join(""));return e};a.Mm=function(b,c){N.call(this);this.tT=b;this.rA=!c;this.ga=new xe};y(Mm,N);t=Mm.prototype;t.pF="GET";t.oc=i;t.tN=k;t.Gx=k;t.qz=ca("pF");t.Ea=ca("oc");t.IT=function(b,c,d){var d=He(d.target),e=[];if(d)try{e=Xc(d)}catch(g){}c(b,e)};
t.Zh=function(b,c,d){var e,g=this.rA;e=new wf(this.tT);pj(e);e.xd.set("token",b);c=String(c);pj(e);e.xd.set("max_matches",c);g=String(Number(g));pj(e);e.xd.set("use_similar",g);if(e=e.toString())b=v(this.IT,this,b,d),this.ga.Wb()&&this.ga.abort(),this.Gx&&zd(this.Gx),this.Gx=wd(this.ga,"success",b),this.ga.send(e,this.pF,this.oc,this.tN)};t.w=function(){this.ga.G();Mm.n.w.call(this)};a.Pm=function(b,c,d,e,g,h,l,n,q){var r=Nm(d),w=qg(b),F=gg(b);F&&w.tE(new Rf(F.left,F.top,F.right-F.left,F.bottom-F.top));var F=Sb(b),I=Sb(d);if(F.Ba()!=I.Ba()){var G=F.Ba().body,I=I.Oa(),Q=new Mb(0,0),W=ac(Rb(G)),ja=G;do{var Ja=W==I?eg(ja):jg(ja);Q.x+=Ja.x;Q.y+=Ja.y}while(W&&W!=I&&(ja=W.frameElement)&&(W=W.parent));G=Nb(Q,eg(G));A&&!Kc(F)&&(G=Nb(G,Lc(F)));w.left+=G.x;w.top+=G.y}b=(c&4&&fg(b)?c^2:c)&-5;w=new Mb(b&2?w.left+w.width:w.left,b&1?w.top+w.height:w.top);w=Nb(w,r);g&&(w.x+=(b&2?-1:1)*g.x,w.y+=
(b&1?-1:1)*g.y);var Na;if(l)if(q)Na=q;else if(Na=gg(d))Na.top-=r.y,Na.right-=r.x,Na.bottom-=r.y,Na.left-=r.x;return Om(w,d,e,h,Na,l,n)},a.Nm=function(b){var c;if(b=b.offsetParent){var d="HTML"==b.tagName||"BODY"==b.tagName;if(!d||"static"!=Zf(b))c=eg(b),d||(d=(d=fg(b))&&B?-b.scrollLeft:d&&(!A||!D("8"))?b.scrollWidth-b.clientWidth-b.scrollLeft:b.scrollLeft,c=Nb(c,new Mb(d,b.scrollTop)))}return c||new Mb},a.Om=function(b,c,d,e,g,h,l){var b=b.clone(),n=0,q=(d&4&&fg(c)?d^2:d)&-5,d=pg(c),l=l?l.clone():
d.clone();if(e||0!=q)q&2?b.x-=l.width+(e?e.right:0):e&&(b.x+=e.left),q&1?b.y-=l.height+(e?e.bottom:0):e&&(b.y+=e.top);if(h){if(g){n=b;e=0;if(65==(h&65)&&(n.x<g.left||n.x>=g.right))h&=-2;if(132==(h&132)&&(n.y<g.top||n.y>=g.bottom))h&=-5;n.x<g.left&&h&1&&(n.x=g.left,e|=1);n.x<g.left&&(n.x+l.width>g.right&&h&16)&&(l.width=Math.max(l.width-(n.x+l.width-g.right),0),e|=4);n.x+l.width>g.right&&h&1&&(n.x=Math.max(g.right-l.width,g.left),e|=1);h&2&&(e|=(n.x<g.left?16:0)|(n.x+l.width>g.right?32:0));n.y<g.top&&
h&4&&(n.y=g.top,e|=2);n.y>=g.top&&(n.y+l.height>g.bottom&&h&32)&&(l.height=Math.max(l.height-(n.y+l.height-g.bottom),0),e|=8);n.y+l.height>g.bottom&&h&4&&(n.y=Math.max(g.bottom-l.height,g.top),e|=2);h&8&&(e|=(n.y<g.top?64:0)|(n.y+l.height>g.bottom?128:0));n=e}else n=256;if(n&496)return n}ag(c,b);Pb(d,l)||(g=Kc(Sb(Rb(c))),A&&(!g||!D("8"))?(b=c.style,g?(g=yg(c),c=hg(c),b.pixelWidth=l.width-c.left-g.left-g.right-c.right,b.pixelHeight=l.height-c.top-g.top-g.bottom-c.bottom):(b.pixelWidth=l.width,b.pixelHeight=
l.height)):(c=c.style,B?c.MozBoxSizing="border-box":C?c.WebkitBoxSizing="border-box":c.boxSizing="border-box",c.width=Math.max(l.width,0)+"px",c.height=Math.max(l.height,0)+"px"));return n};a.Qm=function(b,c,d,e){N.call(this);this.Sa=b||document.body;this.aa=Sb(this.Sa);this.zo=!b;this.g=k;this.Pb="";this.cb=[];this.Xf=[];this.oH=this.wl=-1;this.jb=m;this.className="ac-renderer";this.$h="ac-row";this.QE="active";this.lu="ac-active";this.xN="ac-highlighted";this.Ok=c||k;this.TH=e!=k?e:j;this.Dr=m;this.JR=!!d;this.Mt=m;this.$n=0};y(Qm,Gd);t=Qm.prototype;t.m=p("g");t.hi=ca("TH");
t.Yl=function(b,c,d){this.Pb=c;this.cb=b;this.wl=-1;this.oH=za();this.Nb=d;this.Xf=[];this.g||(this.g=b=this.aa.v("div",{style:"display:none"}),E.add(b,this.className),Mc(b,Vc.JA),b.id=Ih(Hh.O()),this.aa.appendChild(this.Sa,b),O(b,"click",this.mr,m,this),O(b,"mousedown",this.dj,m,this),O(b,"mouseover",this.BD,m,this));this.Mt&&(this.g.style.visibility="hidden");this.DT&&(this.g.style.minWidth=this.DT.clientWidth+"px");this.Xf.length=0;this.aa.Ws(this.g);if(this.Ok&&this.Ok.W)this.Ok.W(this,this.g,
this.cb,this.Pb);else{var e=k;P.forEach(this.cb,function(b){b=Rm(this,b,this.Pb);this.Mt?this.g.insertBefore(b,e):this.aa.appendChild(this.g,b);e=b},this)}0==this.cb.length?this.Cc():(this.show(),this.ha(),ug(this.g,j))};t.Cc=function(){this.Nb&&Nc(this.Nb,"activedescendant","");this.jb&&(this.jb=m,this.Nb&&Nc(this.Nb,Uc.uk,m),0<this.$n?(Tc(this.yk),this.yk=new Lj(this.g,this.$n),this.yk.play()):R(this.g,m))};
t.show=function(){this.jb||(this.jb=j,this.Nb&&(Mc(this.Nb,Vc.vI),Nc(this.Nb,Uc.rI,"list"),Nc(this.Nb,Uc.uk,j)),0<this.$n?(Tc(this.yk),this.yk=new Mj(this.g,this.$n),this.yk.play()):R(this.g,j))};t.R=p("jb");a.Sm=function(b,c){var d=0<=c&&c<b.Xf.length?b.Xf[c]:i;b.dispatchEvent({type:"rowhilite",aY:d})&&(0<=b.wl&&E.remove(b.Xf[b.wl],b.lu,b.QE),b.wl=c,d&&(E.add(d,b.lu,b.QE),b.Nb&&Nc(b.Nb,"activedescendant",d?d.id:""),ig(d,b.g)))};
t.re=function(b){if(-1==b)Sm(this,-1);else for(var c=0;c<this.cb.length;c++)if(this.cb[c].id==b){Sm(this,c);break}};t.ha=function(){if(this.Nb&&this.zo){var b;b=this.JR?3:1;this.Mt&&(b^=1);Pm(this.wJ||this.Nb,b,this.g,b^1,k,k,65);this.Mt&&(this.g.style.visibility="visible")}};t.w=function(){this.g&&(xd(this.g,"click",this.mr,m,this),xd(this.g,"mousedown",this.dj,m,this),xd(this.g,"mouseover",this.BD,m,this),this.aa.removeNode(this.g),this.g=k,this.jb=m);Tc(this.yk);this.Sa=k;Qm.n.w.call(this)};
t.HG=function(b,c,d){d.innerHTML=Wa(b.data.toString())};
a.Tm=function(b,c,d){if(3==c.nodeType){var e=k;ma(d)&&(1<d.length&&!b.Dr)&&(e=z.slice(d,1));var g="";d&&(ma(d)&&(d=z.filter(d,function(b){return!Ha(b==k?"":String(b))})),b.Dr?ma(d)?g=z.map(d,$a).join("|"):(g=d.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),g=$a(g),g=g.replace(/ /g,"|")):ma(d)?g=0<d.length?$a(d[0]):"":/^\W/.test(d)||(g=$a(d)));d=g;if(0!=d.length){for(var g=c.nodeValue,h=RegExp("([\\s\\S]*?)\\b("+d+")","gi"),d=[],l=0,n=h.exec(g),q=0;n;)q++,d.push(n[1]),d.push(n[2]),l=h.lastIndex,
n=h.exec(g);d.push(g.substring(l));if(1<d.length){e=!b.Dr?1:q;for(g=0;g<e;g++)h=2*g,c.nodeValue=d[h],l=b.aa.createElement("b"),l.className=b.xN,b.aa.appendChild(l,b.aa.createTextNode(d[h+1])),l=c.parentNode.insertBefore(l,c.nextSibling),c.parentNode.insertBefore(b.aa.createTextNode(""),l.nextSibling),c=l.nextSibling;b=z.slice(d,2*e);c.nodeValue=b.join("")}else e&&Tm(b,c,e)}}else for(c=c.firstChild;c;)e=c.nextSibling,Tm(b,c,d),c=e},a.Rm=function(b,c,d){var e=b.aa.v("div",{className:b.$h,id:Ih(Hh.O())});
Mc(e,Vc.MA);b.Ok&&b.Ok.Tc?b.Ok.Tc(c,d,e):b.HG(c,d,e);d&&b.TH&&Tm(b,e,d);E.add(e,b.$h);b.Xf.push(e);return e},a.Um=function(b,c){for(;c&&c!=b.g&&!E.has(c,b.$h);)c=c.parentNode;return c?z.indexOf(b.Xf,c):-1};t.mr=function(b){var c=Um(this,b.target);0<=c&&this.dispatchEvent({type:qm,Eo:this.cb[c].id});b.stopPropagation()};t.dj=function(b){b.stopPropagation();b.preventDefault()};t.BD=function(b){b=Um(this,b.target);0<=b&&!(300>za()-this.oH)&&this.dispatchEvent({type:pm,Eo:this.cb[b].id})};a.Vm=function(){};
Vm.prototype.W=ba();Vm.prototype.Tc=ba();a.Wm=function(b,c,d,e){this.df=b=new Mm(b,!e);e=new Qm;d=new Dm(k,k,!!d,300);tm.call(this,b,e,d);d.Y=this;d.Ak(c)};y(Wm,tm);Wm.prototype.hi=function(b){this.M.hi(b)};Wm.prototype.qz=function(b){this.df.qz(b)};Wm.prototype.Ea=function(b){this.df.Ea(b)};a.Xm=function(b){T.call(this);this.LQ=b};y(Xm,T);t=Xm.prototype;t.ca=function(b){Xm.n.ca.call(this,b);this.$d=$("input",b);this.nd=$(".zm-profile-details-items",this.g);this.Lp=[];var c=this;c.Lp=this.$d.map(function(){var b=new Ym("/topic/autocomplete",this,c.LQ||$(this).parents(".topic-input-wrap")[0]);b.Dm=m;var e=v(c.filter,c);b.filter=e;return b});this.Zl()};
t.B=function(){this.h().e(K("add",this.g),"click",this.add);var b=this;this.$d.each(function(){b.h().e(this,"keydown",function(b){this.keydown(b)})});z.forEach(this.Lp,function(c){b.h().e(c.M,qm,b.select)});this.nd.on("click","[name='del']",$.proxy(this.remove,this));this.Zl()};t.Zl=function(){if(!dh.sc){var b=this;this.Bf&&this.Bf.G();var c=new dm;c.Pq="profile-edit-item-moving";em(c,this.nd[0],0);c.z();this.Bf=c;$('a, input, [role="button"]',this.nd).each(function(){b.h().e(this,"mousedown",function(b){b.stopPropagation()})})}};
t.keydown=function(b){13===b.keyCode&&setTimeout(v(function(){Zm(this)&&this.add();this.$d[0].value&&(this.$d[1]&&!this.$d[1].value)&&this.$d[1].focus()},this));return j};a.Zm=function(b){return z.every(b.$d,function(b){return!!b.value})},a.$m=function(b){z.forEach(b.$d,function(b){b.value=""});b.$d[0].focus()};t.select=function(){Zm(this)&&this.add()};
t.add=function(){var b=Ma(this.$d[0].value),c={title:b,member_url_token:jh["1"]};if(this.$d[1]){var d=Ma(this.$d[1].value);if(!b&&!d)return;c.sub_title=d}$j("ProfileEditItemV2",c,this.iP,this)};t.iP=function(b){var b=$(b),c;if(b.data("title")){if(c=this.nd.find("[data-title='"+b.data("title")+"']")[0]){Fk(c);$m(this);return}}else if(b.data("sub-title")&&(c=this.nd.find("[data-sub-title='"+b.data("sub-title")+"']")[0])){Fk(c);$m(this);return}this.nd.append(b);this.Zl();$m(this);this.dispatchEvent("add")};
t.remove=function(b){$(b.target).parents("li").remove();this.dispatchEvent("remove")};Xm.prototype.filter=function(b){return z.filter(b,function(b){return!this.nd.find("[data-title='"+b+"']")[0]},this)};a.Ym=function(b,c,d,e,g){this.df=b=new Mm(b,!g);d=new Qm(d);e=new Dm(k,k,!!e,300);tm.call(this,b,d,e);e.Y=this;e.Ak(c);(e=c.getAttribute("placeholder"))&&new Zl(c,e)};y(Ym,Wm);
Ym.prototype.Yl=function(b,c){b=b[0].slice(1);b=z.filter(b,function(b){return 3<b.length});b=z.map(b,function(b){return b[1]});this.filter&&(b=this.filter(b));Ym.n.Yl.call(this,b,c)};$.validator.addMethod("datetime",function(b,c){return this.optional(c)||moment(b,"YYYY-MM-DDTHH:mm:ss").isValid()},"时间格式不正确");$.validator.addMethod("dateGreaterThan",function(b,c,d){return new Date(b)>new Date($(d).val())},"时间范围不正确");a.an="AC ACADEMY AD AE AERO AF AG AI AL AM AN AO AQ AR ARPA AS ASIA AT AU AW AX AZ BA BB BD BE BF BG BH BI BIKE BIZ BJ BM BN BO BR BS BT BUILDERS BUZZ BV BW BY BZ CA CAB CAMERA CAMP CAREERS CAT CC CD CENTER CEO CF CG CH CI CK CL CLOTHING CM CN CO CODES COFFEE COM COMPANY COMPUTER CONSTRUCTION CONTRACTORS COOP CR CU CV CW CX CY CZ DE DIAMONDS DIRECTORY DJ DK DM DO DOMAINS DZ EC EDU EDUCATION EE EG ENTERPRISES EQUIPMENT ER ES ESTATE ET EU FARM FI FJ FK FLORIST FM FO FR GA GALLERY GB GD GE GF GG GH GI GL GLASS GM GN GOV GP GQ GR GRAPHICS GS GT GU GURU GW GY HK HM HN HOLDINGS HOLIDAY HOUSE HR HT HU ID IE IL IM IN INFO INSTITUTE INT INTERNATIONAL IO IQ IR IS IT JE JM JO JOBS JP KAUFEN KE KG KH KI KITCHEN KM KN KP KR KW KY KZ LA LAND LB LC LI LIGHTING LIMO LK LR LS LT LU LV LY MA MANAGEMENT MC MD ME MENU MG MH MIL MK ML MM MN MO MOBI MP MQ MR MS MT MU MUSEUM MV MW MX MY MZ NA NAME NC NE NET NF NG NI NINJA NL NO NP NR NU NZ OM ONL ORG PA PE PF PG PH PHOTOGRAPHY PHOTOS PK PL PLUMBING PM PN POST PR PRO PS PT PW PY QA RE RECIPES REPAIR RO RS RU RUHR RW SA SB SC SD SE SEXY SG SH SHOES SI SINGLES SJ SK SL SM SN SO SOLAR SOLUTIONS SR ST SU SUPPORT SV SX SY SYSTEMS SZ TATTOO TC TD TECHNOLOGY TEL TF TG TH TIPS TJ TK TL TM TN TO TODAY TP TR TRAINING TRAVEL TT TV TW TZ UA UG UK UNO US UY UZ VA VC VE VENTURES VG VI VIAJES VN VOYAGE VU WF WS XXX YE YT ZA ZM ZW".split(" ");
$.validator.addMethod("realEmail",function(b){return z.contains(an,z.Qd(b.split(".")).toUpperCase())},"请输入真实的邮箱地址");$.validator.addMethod("strongPassword",function(b,c){return this.optional(c)||/^(?=.*?[A-Za-z])(?=.*?[0-9]).{8,}$/.test(b)},"密码必须包含字母和数字，且不小于 8 位");a.bn=function(b){(new Image).src="http://analytics.zhihu.com/zat.gif?"+$.param(b)};a.cn=function(b){T.call(this);$.extend(this.options={},this.defaults,b||{});this.AF=(new wf(location.href)).dd().get("next")};y(cn,T);t=cn.prototype;t.defaults={Cv:function(b,c){dn(this,b).toggle(c);en(this);fn(this,b)}};t.Lf=m;t.du={signup:["signcontrol","signup","sina"],signin:["signcontrol","signin","sina"]};a.gn=function(b){b.Sk();b.AF?location.href=b.AF:b.Lf?location.href="/":location.reload()};t.B=function(){cn.n.B.call(this);this.J.show();this.Ma("登录或注册");this.Ug(500);en(this);this.Ue()};
t.ca=function(b){cn.n.ca.call(this,b);this.J=$(b);sb&&!Og?this.J.addClass("mobile"):this.J.addClass("dialog");this.Lf&&(this.J=$(document.body));var b=this.Lf?k:function(b,c){var d=c.parent();c.is("[type=checkbox]")||c.is("[type=radio]")?b.insertAfter(d):d.hasClass("zg-form-text-input-group")||d.hasClass("zg-form-text-input-group-horizontal")?d.append(b):b.insertAfter(c)},c={confirm_password:{equalTo:"密码不一致",minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位")},
password:{minlength:$.validator.format("密码长度不应小于 {0} 位"),maxlength:$.validator.format("密码长度不应大于 {0} 位"),required:"密码未填写"},last_name:{required:"姓氏未填写"},first_name:{required:"名字未填写"},email:{required:"邮箱未填写"}},b={submitHandler:this.EP,errorPlacement:b,messages:c,onfocusout:$.noop,highlight:function(b,c,d){"radio"===b.type?this.TC(b.name).addClass("error").removeClass(d):$(b).addClass("error").removeClass(d)},errorClass:"validate-error"};this.Lf&&(b=$.extend({},b,{errorContainer:"#summary",errorLabelContainer:"#summary ul",
wrapper:"li",showErrors:function(b,c){if(0<c.length){var d=[];d.push("<ul>");$.each(c,function(b,c){d.push('<li><i class="icon-sign icon-sign-error"></i>'+c.message+"</li>")});d.push("</ul>");$("#summary").html(d.join("")).show()}else $("#summary").hide().html("")}}));this.pt=b;(b=Of.get("r_e"))?(this.$k=(c=b.match(/\"(.+)\"/))?c[1]:b,this.Qk="signup"):this.Qk=this.Qk||"signup";hn(this,this.du[this.Qk]);var d=this;this.J.on("click",".js-signup",$.proxy(this.vt,this));this.J.on("click",".js-signin",
$.proxy(this.Ez,this));this.J.on("click",".js-bindsignin",function(b){Y.Z({type:"ga_click_sign_in_link_account",target:b.target});hn(d,["bindsignin"]);d.Ue()});this.J.on("click",".js-bindweibo",function(){Y.Z({type:"ga_click_sign_in_weibo",label:"sign_in_box_weibo"});fl("sina");return m}).on("click",".js-weiboname",function(){Y.Z({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});fl("sina");return m}).on("click",".js-bindqq",function(){Y.Z({type:"ga_click_sign_in_qq",label:"sign_in_box_qq"});
fl("qq");return m}).on("click",".js-qqname",function(){Y.Z({type:"ga_click_sign_in_connect",label:"sign_in_connect_weibo"});fl("qq");return m});this.bu=$(".view-signcontrol",this.g);this.bu.find('[type="radio"]').on("change",$.proxy(function(b){b=$(b.target).val();this.Yj("signin","signin"===b);this.Yj("signup","signup"===b);Y.Z({type:"ga_click_sign_in_switch",data:b})},this)).filter("[value="+this.Qk+"]").prop("checked",j);var b=$(".view-signin",this.g).find("form"),c=$('input[name="email"]',b),
e=$i.get("lastuser:email");!c.val()&&e&&c.val(e);b.validate($.extend({},this.pt,{cs:$.proxy(this.XF,this)}));this.Ep=b;var g=this;g.pY=(g.ig=$(".view-signup",g.g)).find("form").validate($.extend({},g.pt,{cs:$.proxy(g.gQ,g),rules:{email:{email:j,realEmail:j}}}));g.$k&&(g.vt(),g.ig.find("[name=email]").val(g.$k));g.ig.find('input[name="accept_terms"]').on("change",function(){g.ig.find("[type=submit]").prop("disabled",!$(this).prop("checked")).toggleClass("disabled",!$(this).prop("checked"))});if(!A||
!D("8"))g.ig.on("change","input, textarea, select",function(){g.en()});this.h().e(Y,["accountcallback","sina_callback","qqconn_callback"],$.proxy(this.GF,this));this.mI=$(".view-bindtip",this.g);var h=this;h.oY=(h.Yc=$(".view-info",h.g)).find("form").validate($.extend({},h.pt,{cs:$.proxy(h.HP,h)}));h.Yc.on("change",'input[name="iamstudent"]',function(){$(this).prop("checked")?(h.Yc.find(".js-workerinfo").hide(),h.Yc.find(".js-studentinfo").show(),en(h),jn(h)):(h.Yc.find(".js-workerinfo").show(),h.Yc.find(".js-studentinfo").hide())}).on("change",
'input[name="gender"]',function(){var b=$(".js-avatar",h.J);"http://p2.zhimg.com/da/8e/da8e974dc_xl.jpg"===b.attr("src")&&b.attr("src","http://p2.zhimg.com/da/8e/da8e974dc_xl.jpg")});jn(h);var l=this;(l.yp=$(".view-bindsignin",l.g)).find("form").validate($.extend({},l.pt,{cs:$.proxy(l.oP,l)}));l.yp.on("click",".js-backto-info",function(b){Y.Z({type:"ga_click_sign_in_link_account",target:b.target});hn(l,["bindtip","info"]);return m});sb&&l.yp.find("input[type=submit]").val("登录");var n=this;n.NT=$(".view-warmup",
n.g).on("click",".js-gotoinfo",function(){n.ZD=j;Pk("/signup/form");kn("/signup/form","view");hn(n,["info"]);n.Lf&&(hn(n,["info","bindtip"]),n.mI.find("span").hide());n.Ue();return m});var q=this;q.um=$(".view-followtopic",q.g);q.um.on("click",".js-gotofollowpeople",qf(function(){Y.Z({type:"ga_click_follow_topic",data:q.gT||0})},xk(function(){kn("/signup/suggested_users","view")}),v(q.tD,q))).on("click","a.box",qf(xk(function(){kn("/signup/suggested_topics","follow_topic")}),q.$C));$(document).on("followchange",
function(){var b=q.um.find("a.box.followed").length;q.um.find(".js-gotofollowpeople").text(0<b?"下一步":"跳过");q.gT=b;q.OQ=q.qk.find("a.box.followed").length});var r=this;r.qk=$(".view-followpeople",r.g);r.qk.on("click",".js-gotofollowtopoic",function(){Y.Z({type:"ga_click_sign_in_previous_step"});ln(r)}).on("click",".js-startuse",function(){Y.Z({type:"ga_click_follow_people",data:r.OQ||0});Ok(["/signup/succeed"]);gn(r)}).on("click",".js-gotoapp",qf(xk(function(){kn("/signup/appdownload","view")}),v(r.UL,
r))).on("click","a.box",qf(xk(function(){kn("/signup/suggested_users","follow_people")}),r.$C));var w=this;$(".view-app",w.g).on("click",".js-gotofollowpeople",function(){w.tD()}).on("click",".js-startuse",function(){Ok(["/signup/succeed"]);kn("/signup/appdownload","start_use");gn(w)}).on("click",".js-downloadapp",xk(function(){kn("/signup/appdownload","download_app")}));this.Ue();b=Of.get("accountcallback");Of.remove("accountcallback");if(b){b=decodeURIComponent(b);try{var F=JSON.parse(b);Y.dispatchEvent(new mn("accountcallback",
F))}catch(I){}}var G=this;A&&D("8")&&$(function(){$("input",G.g).keydown(function(b){if(13===b.keyCode)return $(this).parents("form").submit(),m})})};t.en=function(){$(window).on("beforeunload.SignFlow",v(s("注册还未完成，确认离开该页面吗？"),this))};t.Sk=function(){$(window).off("beforeunload.SignFlow")};a.en=function(b){$l||setTimeout(function(){$("input[placeholder]:visible",b.g).placeholder()},10)};
t.GF=function(b){b=b.tc;if(1===b.login&&("qqconn"===b.type?Ok(["/signin/connect/qq"]):Ok(["/signin/connect/weibo"]),!this.ZD))return gn(this),m;this.ZD?hn(this,["info","bindtip"]):(hn(this,["warmup","bindtip"]),this.J.find(".js-weibo-bind-name-transfer").insertAfter(".main-info>div:first-child"));"qqconn"===b.type?(this.Yc.find(".js-qqname").text(b.name).removeClass("zg-btn-blue js-qqname").addClass("binded"),this.J.find(".js-avatar").attr("src",b.img)):"sina"===b.type&&(0===$("#follow-official-weibo").length&&
this.J.find(".sns-wrap").append('<div id="follow-official-weibo" style="margin-top:15px;"><label><input name="followzhihu" type="checkbox" checked> 关注 <a target="_blank" href="http://e.weibo.com/zhihu">@知乎</a> 官方微博</label></div>'),this.Yc.find(".js-weiboname").text(b.name).removeClass("zg-btn-red js-weiboname").addClass("binded"),this.J.find(".js-avatar").attr("src",b.img));this.Yc.find(".zm-entry-head-avatar-edit-button").remove()};
a.jn=function(b){sb||b.Yc.find("input[aria-haspopup]").each(function(){var b=$(this).data();b.sN||(new Ym("/topic/autocomplete",this,$(this).parent()[0]),b.sN=j)})};t.vt=function(){this.Lf&&(location.hash="signup");this.bu.find("input[type=radio][value=signup]").prop("checked",j);hn(this,this.du.signup);this.ig.find("[name=email]").val(this.Ep.find("[name=email]").val());en(this);this.Ue();return m};
t.Ez=function(){this.Lf&&(location.hash="signin");this.bu.find("input[type=radio][value=signin]").prop("checked",j);hn(this,this.du.signin);this.Ep.find("[name=email]").val(this.ig.find("[name=email]").val());this.Ue();return m};a.nn={people:Wj,topic:Zj};t=cn.prototype;
t.$C=function(){var b=$(this),c=b.data();if(!c.disabled)return c.disabled=j,nn[c.type](c.id,!b.hasClass("followed")).done(function(){var c=b.hasClass("followed")?"关注":"已关注";b.toggleClass("followed");$(document).trigger("followchange");b.find(".follow-tip span").text(c)}).always(function(){c.disabled=m}),m};t.hy=m;
t.EP=function(b){function c(){d.disabled=m}var d=$(b).data();if(!d.disabled){d.disabled=j;var e=this;var g=$(b);if(g.data("nosubmit")===j)b=$.Deferred().resolve().promise();else{var h=$(b).serializeArray();(g=g.data("otherform"))&&$.each($(g).serializeArray(),function(b,c){z.some(h,function(b){return b.name===c.name})||h.push(c)});b=$.post(b.action,$.param(h))}b.done(e.settings.cs).done(function(b){b&&b.r&&($.isPlainObject(b.msg)?e.showErrors(b.msg):"string"===$.type(b.msg)&&U(b.msg))}).always(c)}};
t.XF=function(b){b&&!b.r?(Ok(["/signin"]),gn(this)):b.msg&&this.Ue()};t.oP=function(b){Y.Z({type:"ga_click_sign_in_link_account",label:"sign_in_box_sign_in_link_account"});this.XF(b)};
t.Ue=function(){var b=$(".js-captcha",this.J);b&&("1"===Of.get("l_c")||"1"===Of.get("r_c")?("1"===Of.get("r_c")&&(this.Yc.find("input[name=email]").is(":visible")?b.appendTo(this.Yc.find(".main-info")).show():this.ig.is(":visible")&&b.insertBefore(this.ig.find(".captcha-holder")).show()),"1"===Of.get("l_c")&&(this.yp.is(":visible")?b.appendTo(this.yp.find(".formbar")).show():this.Ep.is(":visible")&&b.insertBefore(this.Ep.find(".captcha-holder")).show()),this.Ue.bK||$(".js-refresh-captcha",this.J).click($.proxy(this.DG,
this)),this.Ue.bK=j,b.find('input[name="captcha"]').prop("disabled",m),this.DG()):(b.hide(),b.find('input[name="captcha"]').prop("disabled",j)))};t.DG=Wk(50,function(){$(".js-captcha-img",this.J).attr("src","/captcha.gif?r="+za())});
t.gQ=function(b){if(b&&!b.r){S.wd=1;var c=this,d=this.Yc.find(".avatar-info"),e=new Vl(Ul);e.o(d.get(0));e.on("success",qf(function(){Y.Z({type:"ga_click_sign_in_avatar"});c.Yc.find('input[name="avatar_path"]').val(e.getData().id);d.find(".zm-avatar-editor-preview").get(0).src=e.getData().url},xk(function(){kn("/signup/form","upload_avatar")})),m,this);hn(this,["warmup"]);this.Yc.find("input[name=email]").val(this.ig.find("input[name=email]").val()).parent().hide();this.hy=j}else this.Ue()};
t.HP=function(b){b&&!b.r?(S.wd=1,ln(this),kn("/signup/suggested_topics","view"),this.Yc.find("input[name=headline]").val()&&kn("/signup/form","add_headline"),this.hy=j):this.Ue()};a.ln=function(b){$.get("/register/interests").done(function(c){b.um.find("ul").html(Qk(b.hT,{each:z.forEach,topics:c.msg}))});hn(b,["followtopic"]);$(document).trigger("followchange");b.um.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));Pk("/signup/suggested_topics")};
t.tD=function(){var b=this;$.get("/register/recommendations").done(function(c){b.qk.find("ul").html(Qk(b.PQ,{each:z.forEach,persons:c.msg}));b.qk.find("a.box.followed").length&&b.qk.find(".friendsfollowed").show()});hn(this,["followpeople"]);b.qk.find("ul").html($("<div>").text("加载中…").css("margin-top","150px").css("text-align","center"));Pk("/signup/suggested_users")};
t.UL=function(){Pk("/signup/appdownload");this.Ug(825);$("#js-form-wrapper").width(770).css("margin","0 0 0 -386px").css("top","150px").css("height","auto");hn(this,["app"])};t.Ma=function(b){var c=this.getParent();c&&c.Ma&&(c.Ma(b),$(Yh(c)).removeClass("title-rich"))};t.lt=function(b){var c=this.getParent();c&&c.lt&&c.lt(b)};t.Ug=function(b){var c=this.getParent(),d;if(c&&c.m&&(d=c.m(),!sb||Og))$(d).width(b),c.ha()};
a.hn=function(b,c){function d(b){return z.contains(c,b)}if(b.Lf){$("#summary").hide();d("signin")?($(".hideinlogin").hide(),$(".hideinreg").css("display","inline-block")):($(".hideinlogin").css("display","inline-block"),$(".hideinreg").hide());if(d("warmup")||d("info")||d("app"))b.J.addClass("regflow"),$(".hideinlogin").hide();(d("signin")||d("signup"))&&b.J.removeClass("regflow");if(d("info"))$("#summary").prependTo($(".main-info"));else if(d("bindsignin"))$("#summary").insertAfter($(".formbar"));
else{var e=dn(b,d("signin")?"signin":"signup");$("#summary").insertBefore(e.find(".command"))}(d("followtopic")||d("followpeople"))&&$(".hideinlogin").hide()}b.jE=d("signin")||d("signup")?j:m;if(d("warmup")||d("info"))b.lt(m),e=b.getParent(),$(e&&e.m?e.m():document.body).addClass("bg-signup"),b.Ma("注册知乎"),b.Ug(550),en(b);d("warmup")&&(Pk("/signup/splash"),kn("/signup/splash","view"));d("bindsignin")&&b.Ma("登录并绑定微博");if(d("followtopic")&&(b.Ma("关注话题"),b.Ug(825),b.Lf&&(!sb||Og)))$("#js-form-wrapper").width(825).css("margin",
"0 0 0 -412px").css("top","150px").css("height","auto"),$(".footer").css("bottom","-100px"),$(".view-followtopic").width(825),$(".view-followpeople").width(825);d("app")&&b.Ma("下载「知乎客户端」");d("followpeople")&&b.Ma("关注用户");$("div.view",b.g).hide();$.each(c,function(c,d){b.Yj(d)});b.PK=c},a.dn=function(b,c){return $(".view-"+c,b.g)};t.Yj=function(b,c){c="undefined"===$.type(c)?j:!!c;this.options.Cv.call(this,b,c);c&&(this.PK=[b])};
a.fn=function(b,c){var d=dn(b,c).find("input:text,input[type=email]").filter(":visible").get(0);setTimeout(function(){d&&d.focus()})},a.kn=function(b,c){if(b&&c){var d=0,e=S.wd;e&&(d=e);var e=0,g=Of.get("q_c1");g&&(e=g.split("|")[0]);e={t:"event",tid:"zhihu.web.register",cid:e,uid:d,url:b,action:c};"start_use"===c?(d=Wc($i.get("zhza"))||[],e.time_=za(),e=[e],d&&(e=d.concat(e)),$i.Td("zhza",Zc(e))):bn(e)}};t.hT='<% each(topics, function(topic, i) { %> <li><a class="box <%= topic.is_following ? "followed" : "" %> " href="javascript:;" data-type="topic" data-id="<%=topic.topic_id%>" ><img src="<%=topic.topic_avatar%>" alt="<%-topic.topic_name%>" /><div><strong class="topicname"><%=topic.topic_name%></strong><div class="extra-info"><strong><%=topic.topic_follower_num%></strong> 人关注<br><strong><%=topic.topic_answer_num%></strong> 个精彩回答</div><div class="follow-tip"><i class="icon-green-check"></i><span><%= topic.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';
t.PQ='<% each(persons, function(person, i) { %> <li><a class="box <%= person.is_following ? "followed" : "" %>" href="javascript:;" data-type="people" data-id="<%=person.member_id %>"><img src="<%=person.member_avatar %>" alt="<%-person.member_fullname %>" /><div><strong class="peoplename"><%=person.member_fullname %></strong><div class="extra-info"><%=person.description %></div><div class="follow-tip"><i class="icon-green-check"></i><span><%= person.is_following ? "已关注" : "关注" %></span></div></div></a></li><% }) %>';a.on=function(b){Wh.call(this,i,i,i);this.Tk=j;setTimeout(v(function(){this.D(j);this.ub=b||k;this.dS.apply(this,this.tS[b]||[])},this))};y(on,yi);a.pn=Uj(function(){return $.get("/node/SignFlowV2")});t=on.prototype;
t.tS={question_answer_vote_up:["voteup","加入知乎，即可投「赞同」票","精彩回答值得推荐"],question_answer_vote_down:["votedown","加入知乎，即可投「反对」票","把错误的认知踩在脚下"],question_follow_button:["follow","加入知乎，即可订阅最新回答","有新回答时通知你"],people_follow_button:["follow","加入知乎，即可和 TA 互动交流","结识好友、搭档和大牛"],topic_follow_button:["follow","加入知乎，即可关注话题","订阅话题下更多精彩内容"],question_question_share:["share","加入知乎，即可和朋友分享精彩内容","分享到新浪微博或通过私信分享"],question_answer_share:["share","加入知乎，即可和朋友分享精彩内容","分享到新浪微博或通过私信分享"],question_answer_collect:["favo","加入知乎，即可收藏精彩回答",
"你可以把好内容装进一个收藏夹，方便随时查看"],question_answer_add_comment_start:["comment","加入知乎，即可发表你的评论","你的参与，会让讨论更加全面"],question_comment_box:["comment","加入知乎，即可发表你的评论","你的参与，会让讨论更加全面"],question_answer_comment_box:["comment","加入知乎，即可发表你的评论","你的参与，会让讨论更加全面"],question_answer_thank:["thank","加入知乎，即可「感谢」作者","用最简单的方式赞美认真的态度认真的人"],question_answer_add_start:["answer","加入知乎，即可回答该问题","你的知识、经验和见解可以帮助别人"],expand:["default","加入知乎，即可阅读更多内容","一起发现更大的世界"],top_nav_ask:["ask","加入知乎，即可继续「提问」","这里有专业人士提供专业的见解，让你得到满意的答案"]};
t.W=function(){S.ua()||on.n.W.call(this)};t.Fz=j;t.YS=Qk('    <span class="sign-icon sign-icon-<%- icon %>"></span>    <div class="title"><%= title %></div>    <div class="sub-title"><%= subTitle %></div>  ');t.dS=function(b,c,d){var e=$;Xh(this);var e=e(this.rf),g=$(Yh(this));b?(e.html(this.YS({icon:b,title:c,subTitle:d})),g.addClass("title-rich")):(e.text("登录或注册"),g.removeClass("title-rich"))};
a.qn=function(b,c){b.Fz=c;if(b.Bh)if(b.Fz){var d=b.Bh;d.jE&&d.vt()}else d=b.Bh,d.jE&&d.Ez()},a.rn=function(b){b.h().e(Y,"accountcallback",function(c){if(1===c.tc.login)return location.reload(),m;b.D(j);b.Bh&&b.Bh.GF(c)})};
t.B=function(){on.n.B.call(this);$(this.m()).addClass("sign-dialog");this.Ea('<div style="text-align: center; color: #999;">加载中<i class="spinner-gray"></i></div>');this.h().e(this,"aftershow",function(){var b=this.Fz?"signup":"signin";if(this.Bh)fn(this.Bh,b);else{var c=v(function(c){c=fc(Ma(c));this.X().innerHTML="";this.X().appendChild(c);var e=this.Bh=new cn;this.H(e);e.Qk=b;e.o(c);this.ha()},this);pn().then(c)}}).e(this,"afterhide",function(){Y.Z({type:"ga_click_sign_in_close"});this.Bh.hy&&location.reload()}).e(this,
"beforeshow",function(){Y.Z({type:"ga_click_sign_in",data:{label:this.ub}})})};$(function(){$("#js-reg-with-mail-in-top").click(function(){new on("header_sign_up")});$("#js-reg-with-sina-in-top").click(function(){var b=qn(new on,j);Y.Z({type:"ga_click_sign_in_weibo",label:"header_sign_up"});rn(b);fl("sina")});$("#js-reg-with-qq-in-top").click(function(){var b=qn(new on,j);Y.Z({type:"ga_click_sign_in_qq",label:"header_sign_up"});rn(b);fl("qq")})});a.sn=function(b,c){return function(){var d={ua:j,lg:m};qa(c)&&(c=c.apply(this,arguments));c===j&&(c={ua:j,lg:j});H.extend(d,c||{});return!S.ua()&&d.ua?(new on(d.ua),m):!S.yi&&d.lg?(dl.O().D(j),m):b.apply(this,arguments)}};a.tn=void 0,a.vn={"rt:button":function(){un(this,"roundtable",k,["zg-btn-follow","zg-btn-unfollow"])},"rt:link":function(){un(this,"roundtable",k,k,{follow_text:"关注圆桌"})},"c:link":function(){un(this,"column",k,k,{follow_text:"关注专栏"})},"c:button":function(){un(this,"column",k,["zg-btn-follow","zg-btn-unfollow"])},"q:link":function(){un(this,"question",k,k,{follow_text:"关注问题"})},"m:link":function(){var b=this.getAttribute("data-follow_text");un(this,"people",k,k,b?{follow_text:b}:{})},"t:link":function(){un(this,
"topic",k,k,{follow_text:"关注话题"})},"m:button":function(){var b=this;un(b,"people",function(){b.getAttribute("data-followme")&&(E.has(b,"zg-btn-follow")?b.setAttribute("data-tip","s$b$对方已关注你"):b.setAttribute("data-tip","s$b$已互相关注"))},["zg-btn-follow","zg-btn-unfollow"])},"q:fi:button":function(){var b=this;un(b,"question",function(c){$(".label",b).text(c?"取消关注":"关注");var d=$(".count",b),c=Number(d.data("count"))+(c?1:-1);d.length&&(c=Math.max(c,0),d.text("（"+c+"）").data("count",c))},["unfollowing",
"following"])},"q:m:button":function(){un(this,"question",k,["zg-btn-green","zg-btn-white"])},"f:button":function(){un(this,"favlist",k,["zg-btn-follow","zg-btn-unfollow"])},"t:button":function(){un(this,"topic",k,["zg-btn-follow","zg-btn-unfollow"])}},a.un=sn(function(b,c,d,e,g){function h(b){b.r?U(b.msg):l(r)}function l(c){c?(E.qu(b,n,q),yk(b,g.unfollow_text||"取消关注")):(E.qu(b,q,n),yk(b,g.follow_text||"关注"));qa(d)&&d(c)}tn&&"pending"===tn.state()&&tn.abort();var g=g||{},c=c||b.getAttribute("data-focustype"),
e=e||["zg-follow","zg-unfollow"],n=e[0],q=e[1],r=E.has(b,n);Y.Z({type:"ga_click_follow",target:b,data:{type:c,sj:r}});var e={roundtable:bk,column:ak,people:Wj,question:Xj,topic:Zj,favlist:Yj}[c],w=b.getAttribute("data-id")||b.id.match(/-(.*)/)[1];e&&(e=e(w,r),"people"===c&&r?e.done(h):l(r),tn=e)},function(b,c){return{ua:c+"_follow_button"}});$(function(){$(document.body).on("click.video","div[data-swfurl]",function(b){var c=b.currentTarget,b=$(b.currentTarget).data("swfurl");if(!Ic(c,k,"zh-summary")){var d={url:$(".video-info",c).text()};if(sb||Og)b=K("video-url",c),$(c).trigger("videobox:open",d),window.open(b.innerHTML);else{var e=L("embed"),g={src:b,type:"application/x-shockwave-flash",allowscriptaccess:"never",allowfullscreen:"true",wmode:"opaque","class":"video",pluginspage:"http://get.adobe.com/cn/flashplayer/"},h=-1<b.indexOf("tudou");
if(-1<b.indexOf("youku")){var l=b.match(/\w{10,}/g);l&&(g.src="http://static.youku.com/v1.0.0366/v/swf/loader.swf?"+("VideoIDS="+l[0]+"&embedid=-&isAutoPlay=true&isShowRelatedVideo=false"))}h&&(g.src=b.replace("/v.swf","&autoPlay=true/v.swf"),g.flashvars="playMovie=true&auto=true");H.forEach(g,function(b,c){e.setAttribute(c,b)});var b=L("a",{innerHTML:'<i class="icon-fold"></i>收起视频',"class":"video-player-close",href:"#"}),n=L("div","video-player-box",[e,L("div","video-player-foot",b)]);wd(b,"click",
function(b){b.preventDefault();M(n);R(c,j);$(c).trigger("videobox:close",d)});kc(n,c);R(c,m);$(c).trigger("videobox:open",d)}}})});a.wn=void 0,a.xn=window.FastClick;wn=".ac-row *;.goog-menu *;.goog-menu-button *;.goog-toolbar-button *;.goog-link-button *;.ee-menu-palette-cell *;.ee-palette-cell *".split(";");
if(xn){var yn=xn.prototype.needsClick,zn;if(window.GU){var An=z.find(["matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"],function(b){return HTMLElement.prototype[b]});zn=An&&HTMLElement.prototype[An]}var Bn=zn?function(b,c){return zn.call(b,c)}:function(b,c){return $(b).is(c)};xn.prototype.needsClick=function(b){return z.some(wn,function(c){return Bn(b,c)})?j:yn.call(this,b)}};a.Cn=function(){N.call(this);this.last=this.OW=0;this.SW=m};y(Cn,Yk);Cn.prototype.z=function(){if(this.g=J("zh-global-message"))this.vF=K("zu-global-notify-msg",this.g),this.h().e(this.g,"click",this.ra)};Cn.prototype.ra=function(b){b.target&&b.target.name&&R(this.g,m)};a.Dn=function(b,c){c&&c.length&&z.forEach(c,function(b){this.dispatchEvent(new mn(b[0],b[1]))},b)};Cn.prototype.fireEvent=u(36);
a.En=function(b){var c=Y;c.vF?(c.vF.innerHTML=b,R(c.g,j)):U(b)},a.Wl="iframe_data",a.mn=function(b,c){this.type=b;this.tc=c};y(mn,gd);a.Y=new Cn;Y.z();a.Fn=function(b){function c(){r.onload=r.onerror=r.onreadystatechange=k;document.body.removeChild(r)}function d(){c();q.resolve()}function e(){clearTimeout(n);n=k;try{delete window[h]}catch(b){window[h]=k}}"string"===$.type(b)&&(b={url:b});var b=b||{},g=$.Deferred(),h="zh"+za()+ab(),l=$.extend({},b.data||{},{callback:h}),n=k;b.timeout&&(n=setTimeout(function(){window[h]&&(window[h]=e,g.reject("timeout"))},b.timeout));window[h]=g.resolve;var b=b.url+(-1===b.url.indexOf("?")?"?":"&")+$.param(l),q=$.Deferred(),
r=document.createElement("script");r.onload=d;r.onerror=function(){c();q.reject()};r.onreadystatechange=function(){("loaded"===r.readyState||"complete"===r.readyState)&&d()};r.src=b;document.body.appendChild(r);q.promise().fail(g.reject).always(e);return g.promise()};a.Gn=function(b){this.options=$.extend(j,{},this.defaults,b||{});this.promise=k;this.OG=1E3;this.Vx=3E4;this.uj=this.OG;this.GN=1.5};y(Gn,Gd);Gn.prototype.defaults={type:"GET",url:"",data:{},timeout:6E4,xhrFields:{withCredentials:j}};Gn.prototype.Ky=function(){if(!(this.promise&&"pending"===this.promise.state())){var b=this.options;this.promise=($.support.cors?$.ajax(b):Fn(b)).done($.proxy(this.RP,this)).fail($.proxy(this.Uh,this))}};
Gn.prototype.RP=function(b){this.uj=this.OG;try{this.dispatchEvent({type:"message",data:b})}catch(c){}this.Ky()};Gn.prototype.Uh=function(){this.uj!==this.Vx&&(this.uj*=this.GN);this.uj>this.Vx&&(this.uj=this.Vx);this.vc=setTimeout($.proxy(this.Ky,this),this.uj);this.dispatchEvent("error")};a.Hn=function(b){this.vd=b},a.In=function(b){return function(){this.vd=b.apply(k,[this.vd].concat(z.toArray(arguments)));return this}};Hn.prototype.filter=In(z.filter);Hn.prototype.map=In(z.map);Hn.prototype.reduce=In(z.reduce);Hn.prototype.reduceRight=In(z.reduceRight);Hn.prototype.flatten=In(z.flatten);Hn.prototype.size=function(){return this.vd.length};Hn.prototype.toArray=p("vd");a.Jn=function(b){H.extend(this.F={},this.defaults,b||{});this.Dg()},a.Kn=["group","key","name"],a.Ln=function(b){return z.every(Kn,function(c){return b[c]})},a.Mn=function(b){return $.extend({},{key:b.key},b.Gb)},a.Nn=function(b,c){z.every(b,function(b){return!z.every(Kn,function(e){return b[e]===c[e]})})&&b.push(c);return b},a.On=function(b,c){var d=b[c.group];d?d.push(c):b[c.group]=[c];return b};Jn.prototype.defaults={cL:"帮助信息",xv:"shortcut-tips-dialog"};
Jn.prototype.Dg=function(){vk(wk.register("shift+/",this.show,this),{group:"导航",name:"帮助",key:"?"})};
Jn.prototype.show=function(){var b=this.F,c=b.cL,d;d=(new Hn(uk)).map(function(b){return H.Ka(b.Dk.Jt())}).flatten().map(Mn).filter(Ln).reduce(Nn,[]).reduce(On,{}).toArray();var e=['<div class="shortcut-tips">'],g={KR:/([^\s+])+|([\s+])/g,HL:function(b){return b.replace(this.KR,function(b,c){return c?"<kbd>"+b+"</kbd>":" "+b+" "})}};H.forEach(d,function(b,c){e.push('<div class="group"><h2>',c,"</h2><dl>");z.forEach(b,function(b){e.push("<dt>",g.HL(b.key),"</dt>");e.push("<dd>",b.name,"</dd>")});e.push("</dl></div>")});
e.push("</div>");d=e.join("");Di(c,d,b.xv)};$.easing.easeOutCubic=function(b,c,d,e,g){return e*((c=c/g-1)*c*c+1)+d};a.Pn=function(b){T.call(this);this.lj=-1;H.extend(this.F={},this.defaults,b||{})};y(Pn,T);t=Pn.prototype;t.defaults={items:">li",kK:m,CL:j,className:"navigable",ZC:"navigable-focusin"};t.B=function(){Pn.n.B.call(this);var b=this.F;this.J=$(this.g).addClass(b.className).data("navigable",this).on("focusin.navigable focusout.navigable",b.items,$.proxy(this.CP,this));this.ce()};t.w=function(){Pn.n.w.call(this);this.J.removeClass(this.F.className).data("navigable",k).off(".navigable");this.J=k};t.ce=ha;
t.index=p("lj");t.size=function(){return this.items().length};t.prev=function(){Qn(this,this.index()-1)};t.next=function(){Qn(this,this.index()+1)};t.first=function(){Qn(this,0)};t.last=function(){Qn(this,this.size()-1)};a.Qn=function(b,c){if(c!==b.index()){var d=b.size(),e=d-1;b.F.kK&&(c>e?c=0:0>c&&(c=e));b.dispatchEvent({data:{index:c,size:d},type:"action"});0>c||c>e||(b.lj=c,b.ny(b.items()[b.index()]))}};
t.CP=function(b){var c=this.F,d=b.currentTarget,e=$(d);"focusin"===b.type?(e.addClass(c.ZC),this.lj=$.inArray(d,this.items())):e.removeClass(c.ZC)};t.ny=function(b){this.F.CL&&(b.tabIndex=-1,b.focus());this.dispatchEvent({data:{item:b},type:"focus"})};Pn.prototype.items=function(){var b=this.F.items;return!b?this.J.children().get():$(b,this.J).get()};a.Rn=function(b){Pn.call(this,b);this.pI=$("html, body")};y(Rn,Pn);H.extend(Rn.prototype.defaults={RR:200,offsetTop:0},Pn.prototype.defaults);a.Sn=function(b){return{k:{action:b.prev,Gb:{group:"导航",name:"上一条目"}},j:{action:b.next,Gb:{group:"导航",name:"下一条目"}},"g g":{action:b.first,Gb:{group:"导航",name:"第一个条目"}},"shift+g":{action:b.last,Gb:{group:"导航",name:"最后一个条目"}},"shift+k":{action:b.TR,Gb:{group:"导航",name:"屏幕上移"}},"shift+j":{action:b.PR,Gb:{group:"导航",name:"屏幕下移"}}}};t=Rn.prototype;
t.ce=function(){H.forEach(Sn(this),function(b,c){vk(wk.register(c,b.action,this),b.Gb)},this)};t.w=function(){Rn.n.w.call(this);var b=H.Cb(Sn(this));z.forEach(ma(b)?b:[b],wk.nT,wk)};t.ny=function(b){Rn.n.ny.call(this,b);var c=this.F;this.scrollTo($(b).offset().top+c.offsetTop,c.RR,"easeOutCubic")};t.scrollTo=function(b,c,d){this.pI.stop().animate({scrollTop:b},c,d)};t.PR=function(){this.scrollTo("+=60",100)};t.TR=function(){this.scrollTo("-=60",100)};Li.on("init",function(){$("img.lazy").lazyload({load:function(){$(this).trigger("contentchange")},data_attribute:"actualsrc",event:"scroll updatelazy",threshold:400})});Li.on("init",function(){S.$k&&$i.Td("lastuser:email",S.$k)});Li.on("init",function(){bj()});
Li.on("init",function(){$("#js-open-in-app").on("click",function(){var b=$('meta[name="apple-itunes-app"]').attr("content");if(b){b=(new jj(b.replace(/,\s*/,"&"))).get("app-argument")||"";-1===b.indexOf("zhihu://")&&(b="zhihu://"+b);if(/Android/.test(navigator.userAgent)){var c=b.replace(/^zhihu/,"intent")+"/#Intent;scheme=zhihu;package=com.zhihu.android;end",d=navigator.userAgent.match(/Chrome\/(\d+)/);if(25<=(d&&d[1]))window.location=c;else{c=document.createElement("iframe");c.hidden=j;c.src=b;
document.body.appendChild(c);var e=za();window.setTimeout(function(){600>za()-e&&(window.location="http://api.zhihu.com/client/download/apk")},400)}}else{var g=m;window.location=b;window.setTimeout(function(){g=j;window.location="http://itunes.apple.com/cn/app/id432274380"},250);window.setTimeout(function(){g&&window.location.reload()},500)}X("app-promotion","click_zhihu_ios_open_dl_link","header_not_logged_in")}})});Li.on("postinit",function(){$("#js-feedback-button").click(function(){bl.O().create()})});
Li.on("init",function(){$(document.body).on("click.follow","[data-follow]",function(){if(this.name)return Mk("末清除的 name 属性:",this);var b=this.getAttribute("data-follow");(b=b&&vn[b])&&b.call(this)})});Li.on("postinit",function(){window.FastClick&&FastClick.attach(document.body)});
Li.on("postinit",function(){if(S.ua())if(window.MozWebSocket||window.WebSocket&&!("__addTask"in window.WebSocket))io.connect("http://"+dh.av).on("live",function(b){Dn(Y,JSON.parse(b.replace(/^\+;/,"")))});else{var b=new Gn({url:Bg,data:{loc:location.href,channel:za()+ab()},dataType:"polling",converters:{"text polling":function(b){return JSON.parse(b.replace(/^\+;/,""))}}});b.addEventListener("message",function(b){Dn(Y,b.data)});b.Ky()}});
Li.on("init",function(){new Jn;Rn.prototype.defaults.offsetTop=-60;var b=$('div[data-widget="navigable"], ul[data-widget="navigable"]');if(1===b.length){var c=b.data("navigable-options"),c=new Rn(c);c.o(b.get(0));var d=$("#zh-load-more");c.on("action",function(b){b.data.index>=b.data.size&&d.is(":visible")&&d[0].click()})}});
Li.on("postinit",function(){$(document).on("click","[data-activate-dialog]",function(b){var c=this.getAttribute("data-activate-dialog"),d=dl.O();d.D(j);"changeEmail"===c?d.FB(j):"resendEmail"===c&&(d.LG(j),d.eH(j));b.preventDefault()})});Li.on("init",function(){$(document).on("click",'a[href="#"]',function(b){b.preventDefault()})});
Li.on("postinit",function(){setTimeout(function(){var b=window._gaq=window._gaq||[];b.push(["_setAccount","UA-20961733-1"]);b.push(["_setDomainName",".zhihu.com"]);b.push(["_addOrganic","baidu","word"]);b.push(["_addOrganic","baidu","wd"]);b.push(["_addOrganic","sogou","query"]);b.push(["_addOrganic","so.360.cn","q"]);b.push(["_addOrganic","so.com","q"]);b.push(["_addOrganic","soso","w"]);b.push(["_addOrganic","google","q"]);b.push(["_addOrganic","sm","q"]);b.push(["_addIgnoredOrganic","知乎"]);b.push(["_addIgnoredOrganic",
"知乎网"]);b.push(["_addIgnoredOrganic","zhihu"]);b.push(["_addIgnoredOrganic","zhihu.com"]);b.push(["_addIgnoredOrganic","www.zhihu.com"]);var c=sh.ga_vars,d=c.user_attr.join("");b.push(["_setVar",d]);b.push(["_setCustomVar",1,"user_attr",d,3]);var e=d=9E12;c.user_created&&(e=c.user_created,b.push(["_setCustomVar",2,"registration_date",moment(e).format("YYYYMMDD"),1]));var g=document.cookie.match(/q_c1=(\w+)\|(\w+)\|(\d+)/);g&&(d=+g[3]);d=Math.min(d,e,c.now);b.push(["_setCustomVar",3,"entry_date",moment(d).format("YYYYMMDD"),
1]);b.push(["_setCustomVar",4,"abtest_group",c.abtest_mask,3]);b=Wc($i.get("zhga"));$i.remove("zhga");b&&!("null"===b||"undefined"===b)&&z.forEach(b,function(b){1===b.length?Pk(b[0]):Nk(b[0],b[1],b[2],b[3])});b=Wc($i.get("zhza"));$i.remove("zhza");b&&z.forEach(b,function(b){18E5>za()-b.time_&&bn(b)});window._gaq.push(["_trackPageview"]);b=document.createElement("script");b.type="text/javascript";b.async=j;b.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";
c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);var h=window,c=b=i;h.GoogleAnalyticsObject="__ga";h.__ga=h.__ga||function(){(h.__ga.Os=h.__ga.Os||[]).push(arguments)};h.__ga.vX=1*new Date;b=document.createElement("script");c=document.getElementsByTagName("script")[0];b.async=1;b.src="//www.google-analytics.com/analytics.js";c.parentNode.insertBefore(b,c);b=window.__ga;b("create","UA-20961733-3",{cookieDomain:"zhihu.com"});b("send","pageview")})});a.Tn=function(b,c,d){N.call(this);this.yj=b;this.Eg=c;this.da=d;this.Gk=v(this.lQ,this)};y(Tn,N);t=Tn.prototype;t.qt=m;t.mG=0;t.ma=k;t.fire=function(){!this.ma&&!this.mG?this.ug():this.qt=j};t.stop=function(){this.ma&&(Hd.clearTimeout(this.ma),this.ma=k,this.qt=m)};t.w=function(){Tn.n.w.call(this);this.stop()};t.lQ=function(){this.ma=k;this.qt&&!this.mG&&(this.qt=m,this.ug())};t.ug=function(){this.ma=Kd(this.Gk,this.Eg);this.yj.call(this.da)};a.Un=function(){N.call(this);this.g=k;this.lastPosition=0;this.Tv=this.QR=300;this.Br=j;this.Bu=m;this.TS=150};y(Un,Yk);t=Un.prototype;t.z=function(){if(!(sb&&!Pg||z.contains(mh,"back_to_top"))){this.g=fc(this.QS);document.body.appendChild(this.g);var b=this.h(),c=new Tn(this.ry,this.TS,this);b.e(window,"scroll",function(){c.fire()});b.e(this.g,"click",this.OJ)}};t.QS='<div class="zh-backtotop" style="display:none"><a data-action="backtotop" data-tip="s$r$回到顶部" href="javascript:;" class="btn-backtotop btn-action"><div class="arrow"></div><div class="stick"></div></a></div>';
t.OJ=function(){var b=Zb(document),c=$b(document),d=c.x,c=c.y,e=new ql,g=this.h();e.add(new Hj(b,[d,c],[0,0],this.QR,Qj));e.add(new Lj(this.g,this.Tv,Pj));g.e(e,"finish",this.AP);g.e(e,"begin",this.nP);e.play();Y.Z("ga_click_back_to_top")};t.nP=function(){this.Bu=this.Br=j};t.AP=function(){this.Bu=m};t.ry=function(){if(!this.Bu){var b=$b(document).y,c=sb?500:1200;this.Br?b>=c&&((new Mj(this.g,this.Tv,Oj)).play(),this.Br=m):b<c&&((new Lj(this.g,this.Tv,Pj)).play(),this.Br=j)}};a.Vn=function(){};Vn.prototype.link="想来知乎工作？请发送邮件到 jobs@zhihu.com";Vn.prototype.FJ="          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n";a.Wn=function(){N.call(this)};y(Wn,Yk);a.Xn=k;Wn.prototype.z=function(){Xn=this;Yn(this)};a.Yn=function(b){b.Ej=new V(m);oe(b.h(),b.Ej,"success",b.WP);b.Ej.ajax("/noti7/new?r="+ +new Date,k,"GET")};Wn.prototype.WP=function(){var b=Ie(this.Ej);b&&!b.r&&Dn(Y,[b])};a.Zn=function(){};Zn.prototype.ha=ba();a.$n=function(b,c,d){this.element=b;this.yf=c;this.HQ=d};y($n,Zn);$n.prototype.ha=function(b,c,d){Pm(this.element,this.yf,b,c,i,d,this.HQ)};a.ao=function(b,c){this.qh=b instanceof Mb?b:new Mb(b,c)};y(ao,Zn);ao.prototype.ha=function(b,c,d,e){Pm(bg(b),0,b,c,this.qh,d,k,e)};a.bo=function(b,c){this.My=4;this.Ls=c||i;Rh.call(this,b)};y(bo,Rh);bo.prototype.Vc=function(b){this.Ls=b||i;this.R()&&this.ha()};bo.prototype.ha=function(){if(this.Ls){var b=!this.R()&&"move_offscreen"!=this.Gh(),c=this.m();b&&(c.style.visibility="hidden",R(c,j));this.Ls.ha(c,this.My,this.Tx);b&&R(c,m)}};a.co=function(b,c,d){this.aa=d||(b?Sb(J(b)):Sb());bo.call(this,this.aa.v("div",{style:"position:absolute;display:none;"}));this.Ki=new Mb(1,1);this.Ua=new Rd;b&&this.attach(b);c!=k&&xc(this.m(),c)};y(co,bo);a.eo=[];t=co.prototype;t.$b=k;t.className="goog-tooltip";t.tt=500;t.Cr=0;t.K=p("aa");t.attach=function(b){b=J(b);this.Ua.add(b);O(b,"mouseover",this.fd,m,this);O(b,"mouseout",this.tl,m,this);O(b,"mousemove",this.sl,m,this);O(b,"focus",this.pe,m,this);O(b,"blur",this.tl,m,this)};
t.detach=function(b){if(b)b=J(b),fo(this,b),this.Ua.remove(b);else{for(var c=this.Ua.Ka(),d=0;b=c[d];d++)fo(this,b);this.Ua.clear()}};a.fo=function(b,c){xd(c,"mouseover",b.fd,m,b);xd(c,"mouseout",b.tl,m,b);xd(c,"mousemove",b.sl,m,b);xd(c,"focus",b.pe,m,b);xd(c,"blur",b.tl,m,b)};t.nw=p("Cr");t.yd=function(b){this.m().innerHTML=b};t.Sg=function(b){var c=this.m();c&&M(c);co.n.Sg.call(this,b);b&&(c=this.aa.Ba().body,c.insertBefore(b,c.lastChild))};t.Gc=u(31);t.pw=u(10);
t.Md=function(){return this.mm?this.R()?4:1:this.ul?3:this.R()?2:0};t.Wr=function(b){if(!this.R())return m;var c=eg(this.m()),d=pg(this.m());return c.x<=b.x&&b.x<=c.x+d.width&&c.y<=b.y&&b.y<=c.y+d.height};t.jo=function(){if(!Rh.prototype.jo.call(this))return m;if(this.anchor)for(var b,c=0;b=eo[c];c++)sc(b.m(),this.anchor)||b.D(m);z.Tr(eo,this);b=this.m();b.className=this.className;go(this);O(b,"mouseover",this.Qw,m,this);O(b,"mouseout",this.QD,m,this);ho(this);return j};
t.Fj=function(){z.remove(eo,this);for(var b=this.m(),c,d=0;c=eo[d];d++)c.anchor&&sc(b,c.anchor)&&c.D(m);this.jG&&jo(this.jG);xd(b,"mouseover",this.Qw,m,this);xd(b,"mouseout",this.QD,m,this);this.anchor=i;0==this.Md()&&(this.it=m);Rh.prototype.Fj.call(this)};t.Wx=function(b,c){this.anchor==b&&this.Ua.contains(this.anchor)&&(this.it||!this.$X?(this.D(m),this.R()||(this.anchor=b,this.Vc(c||ko(this,0)),this.D(j))):this.anchor=i);this.mm=i};t.Ch=p("Ua");t.er=p("$b");
t.jF=function(b){this.ul=i;b==this.anchor&&(this.$b==k||this.$b!=this.m()&&!this.Ua.contains(this.$b))&&(!this.Ik||!this.Ik.$b)&&this.D(m)};a.lo=function(b,c){var d=Lc(b.aa);b.Ki.x=c.clientX+d.x;b.Ki.y=c.clientY+d.y};t.fd=function(b){var c=mo(this,b.target);this.$b=c;go(this);c!=this.anchor&&(this.anchor=c,no(this,c),oo(this),lo(this,b))};a.mo=function(b,c){try{for(;c&&!b.Ua.contains(c);)c=c.parentNode;return c}catch(d){return k}};t.sl=function(b){lo(this,b);this.it=j};
t.pe=function(b){this.$b=b=mo(this,b.target);this.it=j;if(this.anchor!=b){this.anchor=b;var c=ko(this,1);go(this);no(this,b,c);oo(this)}};a.ko=function(b,c){if(0==c){var d=b.Ki.clone();return new po(d)}return new qo(b.$b)},a.oo=function(b){if(b.anchor)for(var c,d=0;c=eo[d];d++)sc(c.m(),b.anchor)&&(c.Ik=b,b.jG=c)};
t.tl=function(b){var c=mo(this,b.target),d=mo(this,b.relatedTarget);c!=d&&(c==this.$b&&(this.$b=k),ho(this),this.it=m,this.R()&&(!b.relatedTarget||!sc(this.m(),b.relatedTarget))?jo(this):this.anchor=i)};t.Qw=function(){var b=this.m();this.$b!=b&&(go(this),this.$b=b)};t.QD=function(b){var c=this.m();if(this.$b==c&&(!b.relatedTarget||!sc(c,b.relatedTarget)))this.$b=k,jo(this)};
a.no=function(b,c,d){b.mm||(b.mm=Kd(v(b.Wx,b,c,d),b.tt))},a.ho=function(b){b.mm&&(Hd.clearTimeout(b.mm),b.mm=i)},a.jo=function(b){2==b.Md()&&(b.ul=Kd(v(b.jF,b,b.anchor),b.nw()))},a.go=function(b){b.ul&&(Hd.clearTimeout(b.ul),b.ul=i)};t.w=function(){this.D(m);ho(this);this.detach();this.m()&&M(this.m());this.$b=k;delete this.aa;co.n.w.call(this)};a.po=function(b,c){ao.call(this,b,c)};y(po,ao);
po.prototype.ha=function(b,c,d){c=bg(b);c=gg(c);d=d?new Pf(d.top+10,d.right,d.bottom,d.left+10):new Pf(10,0,0,10);Om(this.qh,b,4,d,c,9)&496&&Om(this.qh,b,4,d,c,5)};a.qo=function(b){$n.call(this,b,3)};y(qo,$n);qo.prototype.ha=function(b,c,d){var e=new Mb(10,0);Pm(this.element,this.yf,b,c,e,d,9)&496&&Pm(this.element,2,b,1,e,d,5)};a.ro=function(b,c,d){co.call(this,b,c,d)};y(ro,co);t=ro.prototype;t.RK=m;t.QK=100;t.lp=m;t.Hj=function(){ro.n.Hj.call(this);this.hq=Sf(qg(this.m()));this.anchor&&(this.Au=Sf(qg(this.anchor)));this.lp=this.RK;O(this.K().Ba(),"mousemove",this.sl,m,this)};t.Fj=function(){xd(this.K().Ba(),"mousemove",this.sl,m,this);this.Au=this.hq=k;this.lp=m;ro.n.Fj.call(this)};
t.Wr=function(b){if(this.xl){var c=eg(this.m()),d=pg(this.m());return c.x-this.xl.left<=b.x&&b.x<=c.x+d.width+this.xl.right&&c.y-this.xl.top<=b.y&&b.y<=c.y+d.height+this.xl.bottom}return ro.n.Wr.call(this,b)};a.so=function(b,c){if(b.Au&&b.Au.contains(c)||b.Wr(c))return j;var d=b.Ik;return!!d&&d.Wr(c)};t.jF=function(b){this.ul=i;b==this.anchor&&(!so(this,this.Ki)&&(!this.er()&&(!this.Ik||!this.Ik.$b))&&(!B||!(0==this.Ki.x&&0==this.Ki.y)))&&this.D(m)};
t.sl=function(b){var c=this.R();if(this.hq){var d=Lc(this.K()),d=new Mb(b.clientX+d.x,b.clientY+d.y);so(this,d)?c=m:this.lp&&(c=Qf(this.hq,d)>=Qf(this.hq,this.Ki))}if(c){if(jo(this),this.$b=k,c=this.Ik)c.$b=k}else 3==this.Md()&&go(this);ro.n.sl.call(this,b)};t.Qw=function(){this.er()!=this.m()&&(this.lp=m,this.$b=this.m())};t.nw=function(){return this.lp?this.QK:ro.n.nw.call(this)};a.to=function(b,c,d,e){co.call(this,k,k,d);qa(b)?this.qx=b:this.hB=b;this.fK=c!=m;this.Xz=[];this.Ga=e||(d?d.Ba():document);O(this.Ga,"mouseover",this.SD,m,this)};y(to,ro);t=to.prototype;t.w=function(){to.n.w.call(this);xd(this.Ga,"mouseover",this.SD,m,this)};t.qx=function(b){return b.tagName in this.hB&&!!b.getAttribute(this.hB[b.tagName])};t.SD=function(b){if(b=b.target)if(this.qx(b))this.Vc(k),uo(this,b);else if(this.fK&&(b=Hc(b,v(this.qx,this),m,this.AX)))this.Vc(k),uo(this,b)};
a.uo=function(b,c,d){if(c==b.Oe)go(b);else if(c!=b.anchor){if(1==b.Md()||4==b.Md())ho(b),vo(b);var e=new wo("trigger",b,c,i);b.Ch().contains(c)||(b.attach(c),b.Xz.push(c));b.anchor=c;b.vy(e)?no(b,c,d||b.Ls):vo(b)}},a.xo=function(b,c){var d=z.indexOf(b.Xz,c);-1!=d&&(b.detach(c),b.Xz.splice(d,1))};t.vy=function(b){return this.dispatchEvent(b)};a.vo=function(b){b.dispatchEvent(new wo("canceltrigger",b,b.anchor||k));xo(b,b.anchor);delete b.anchor};
t.Fj=function(){to.n.Fj.call(this);k!=this.Oe&&xo(this,this.Oe);this.Oe=k};t.fd=function(b){var c=mo(this,b.target);c&&c!=this.anchor?uo(this,c):to.n.fd.call(this,b)};t.tl=function(b){var c=this.anchor,d=this.Md();to.n.tl.call(this,b);if(d!=this.Md()&&(1==d||4==d))this.anchor=c,vo(this)};t.Wx=function(b,c){to.n.Wx.call(this,b,c);this.R()?(b!=this.Oe&&xo(this,this.Oe),this.Oe=b):(ho(this),vo(this))};a.wo=function(b,c,d,e){gd.call(this,b,c);this.anchor=d;this.data=e};y(wo,gd);a.yo=function(b,c,d){$n.call(this,b,c);this.bB=d};y(yo,$n);yo.prototype.qn=s(5);
yo.prototype.ha=function(b,c,d,e){var g={"1-4":"bottom","0-4":"top","0-5":"top","1-5":"bottom","2-5":"top","3-5":"bottom","3-4":"bottom","2-6":"left","2-4":"right"},h;if(this.bB){h=Pm(this.element,this.yf,b,c,k,d,10,e);var l=zo(h,this.yf),n=zo(h,c);h&496&&(h=Pm(this.element,l,b,n,k,d,10,e),h&496&&(l=zo(h,l),n=zo(h,n),this.bB?Pm(this.element,l,b,n,k,d,this.qn(),e):Pm(this.element,l,b,n,k,d,0,e)));this.Ks&&(b=(la(l)?l:this.yf)+"-"+(la(c)?c:n),this.Ks(g[b],b))}else Pm(this.element,this.yf,b,c,i,d),this.Ks&&
(b=this.yf+"-"+c,this.Ks(g[b],b))};a.zo=function(b,c){b&48&&(c^=2);b&192&&(c^=1);return c};a.Ao=!!window.DOMTokenList,a.Bo=Ao?function(b){return b.classList}:function(b){b=b.className;return oa(b)&&b.match(/\S+/g)||[]},a.Co=Ao?function(b,c){return b.classList.contains(c)}:function(b,c){return z.contains(Bo(b),c)},a.Do=Ao?function(b,c){b.classList.add(c)}:function(b,c){Co(b,c)||(b.className+=0<b.className.length?" "+c:c)},a.Eo=Ao?function(b,c){b.classList.remove(c)}:function(b,c){Co(b,c)&&(b.className=z.filter(Bo(b),function(b){return b!=c}).join(" "))};a.Fo=function(b,c){T.call(this,c);this.ub=b||""};y(Fo,T);Fo.prototype.Gf=k;a.Go="placeholder"in document.createElement("input");t=Fo.prototype;t.yn=m;t.v=function(){this.g=this.K().v("input",{type:"text"})};t.ca=function(b){Fo.n.ca.call(this,b);this.ub||(this.ub=b.getAttribute("label")||"");Jc(Rb(b))==b&&(this.yn=j,Eo(this.m(),this.xm));Go?this.m().placeholder=this.ub:Nc(this.m(),Uc.Kp,this.ub)};
t.B=function(){Fo.n.B.call(this);var b=new le(this);b.e(this.m(),"focus",this.zD);b.e(this.m(),"blur",this.yw);Go?this.N=b:(B&&b.e(this.m(),["keypress","keydown","keyup"],this.zM),b.e(ac(Rb(this.m())),"load",this.nN),this.N=b,Ho(this));this.mh();this.m().yO=this};t.hb=function(){Fo.n.hb.call(this);this.N&&(this.N.G(),this.N=k);this.m().yO=k};a.Ho=function(b){!b.FL&&(b.N&&b.m().form)&&(b.N.e(b.m().form,"submit",b.BM),b.FL=j)};t.w=function(){Fo.n.w.call(this);this.N&&(this.N.G(),this.N=k)};t.xm="label-input-label";
t.zD=function(){this.yn=j;Eo(this.m(),this.xm);if(!Go&&!Io(this)&&!this.FN){var b=this,c=function(){b.m().value=""};A?Kd(c,10):c()}};t.yw=function(){Go||(this.N.Da(this.m(),"click",this.zD),this.Gf=k);this.yn=m;this.mh()};t.zM=function(b){27==b.keyCode&&("keydown"==b.type?this.Gf=this.m().value:"keypress"==b.type?this.m().value=this.Gf:"keyup"==b.type&&(this.Gf=k),b.preventDefault())};t.BM=function(){Io(this)||(this.m().value="",Kd(this.$L,10,this))};t.$L=function(){Io(this)||(this.m().value=this.ub)};
t.nN=function(){this.mh()};a.Io=function(b){return!!b.m()&&""!=b.m().value&&b.m().value!=b.ub};t.clear=function(){this.m().value="";this.Gf!=k&&(this.Gf="")};t.reset=function(){Io(this)&&(this.clear(),this.mh())};t.za=function(b){this.Gf!=k&&(this.Gf=b);this.m().value=b;this.mh()};t.V=function(){return this.Gf!=k?this.Gf:Io(this)?this.m().value:""};
t.mh=function(){Go?this.m().placeholder!=this.ub&&(this.m().placeholder=this.ub):(Ho(this),Nc(this.m(),Uc.Kp,this.ub));if(Io(this))b=this.m(),Eo(b,this.xm);else{if(!this.FN&&!this.yn){var b=this.m();Do(b,this.xm)}Go||Kd(this.FR,10,this)}};t.Xa=function(b){this.m().disabled=!b;var c=this.m(),d=this.xm+"-disabled";!b?Do(c,d):Eo(c,d)};t.isEnabled=function(){return!this.m().disabled};t.FR=function(){this.m()&&(!Io(this)&&!this.yn)&&(this.m().value=this.ub)};tm.gh=um;tm.Jp=Dm;tm.Jp.KV=",;";tm.Jp.pV='"';a.Jo=function(b,c,d,e){Dm.call(this,b,c,d,e)};y(Jo,Dm);Jo.prototype.bi=function(b){var c=Jo.n.bi.call(this,b);b.select(this.Y.Nb);return c};tm.II=Jo;tm.hu=Qm;tm.hu.jU=300;tm.hu.hU=Vm;tm.PA=Mm;tm.HI=Wm;a.Ko=function(b,c){tm.PA.call(this,b,c);this.dz=k;this.SC=j};y(Ko,tm.PA);Ko.prototype.$Q=["根话题","未归类话题"];Ko.prototype.Po=ca("dz");Ko.prototype.Zh=function(b,c,d){var e=v(function(b,c){for(var e=[],n,q=0;q<c.length;q++)for(var r=1;r<c[q].length;r++){n=c[q][r];var w=j;this.SC&&z.forEach(this.$Q,function(b){n[2]===b&&(w=m)});w&&e.push(n)}this.dz&&(e=this.dz(e,b));d(b,e)},this);Ko.n.Zh.call(this,b,c,e)};a.Lo=function(b,c,d,e){this.qF=0;tm.Jp.call(this,b,c,!!d,e||300)};y(Lo,tm.Jp);t=Lo.prototype;
t.bi=function(b){var c=tm.II.n.bi.call(this,b),d=this.Y.Nb,e=this.Y;e.VG=b;e.dispatchEvent("select");d.value="";return c};t.za=ba();t.update=function(b){var c=Ak(this.V());!c||"搜索用户"===c||"搜索话题"===c||"在这里输入问题"===c||z.contains(this.Y.Nv||[],c)||(!c?0:unescape(encodeURIComponent(c)).length)<this.qF||c===this.eF?(this.Y.Oi(),this.Vn=c):(this.eF=k,this.Y.dispatchEvent({type:Mo}),Lo.n.update.call(this,b))};
t.pe=function(b){this.Y&&vm(this.Y);b.target!==this.Za&&(this.Za=b.target||k,this.ma&&(this.ma.start(),this.bc.e(this.ma,Jd,this.Ll)),this.Vn=this.V(),Km(this));this.ma&&this.ma.start();this.update(j)};t.Oc=function(){this.ma&&this.ma.stop();this.Y&&this.Y.Oi()};
t.Ub=function(b){if(13===b.keyCode){if(this.Y.nb()){if(this.Y.Vj())return b.preventDefault(),b.stopPropagation(),j;b.preventDefault();b.stopPropagation();this.Y.Pb="";this.Y.Cc();this.update(j);return m}b.stopPropagation();b.preventDefault();return m}Lo.n.Ub.call(this,b)};t.Zp=function(b){Lo.n.Zp.call(this,b);this.bc.e(b,"mousedown",function(b){b.stopPropagation();return j})};a.No=function(b,c,d,e){Lo.call(this,b,c,!!d,e)};y(No,Lo);
No.prototype.bi=function(b){var c=this.Y;c.VG=b;c.dispatchEvent("select");return m};a.Oo=function(b,c,d,e,g,h,l,n,q){var r={};"question_suggest"===h?(r.W=v(this.vR,this),r.Tc=Ik):"topic_question"===h?(r.W=v(this.xR,this),r.Tc=Hk):r.Tc=h?Hk:Ik;h=new tm.hu(g,r);g&&(h.zo=m);h.Dr=j;this.M=h;this.df=new Ko(b,!e);b=q?q:new Lo(k,k,d);l&&l.length&&new Zl(c,l[0]);b.PH=m;tm.call(this,this.df,h,b);b.Y=this;b.Zp(c);n&&(b.qF=n)};y(Oo,tm.HI);a.Mo="before_update";t=Oo.prototype;t.vC=j;
t.vR=function(b,c,d){P.forEach(d,function(b){b=Rm(this,b,this.Pb);this.aa.appendChild(this.g,b)},b);lc(b.g,b.aa.v("div","zh-question-suggest-info",[b=b.aa.v("a",{href:"javascript:;",title:"关闭",name:"close",id:"zh-question-suggest-info-close"},[b.aa.v("span","x-m"),"不是"]),"您想问的是不是下面的问题？"]),0);O(b,"click",function(){var b=this.jf;b.Oc();this.Cc();b.eF=b.V()},m,this)};
t.xR=function(b,c,d){0===d.length?this.Cc():(P.forEach(d,function(b){b=Rm(this,b,this.Pb);this.aa.appendChild(this.g,b)},b),c=b.aa.v("div","zh-question-topic-autocomplete-plaintext",["建议添加的话题",b.aa.v("span","x-m")]),lc(b.g,c,0),dh.sc&&O(c,"click",function(){this.jf.Oc();this.Cc()},m,this))};t.$i=p("VG");t.Po=function(b){this.df.Po(b)};t.Cc=function(){if(this.vC)return Oo.n.Cc.call(this)};t.Vj=function(){return-1===ym(this,this.Pc)?m:Oo.n.Vj.call(this)};
t.Oi=function(){dh.sc?wd(document,"click",v(this.Cc,this)):Oo.n.Oi.call(this)};a.Po=function(b){N.call(this);this.qp=j;this.li=this.cp=-1;this.zH="";this.mb=k;H.extend(this.F={},this.defaults,b||{})};y(Po,Yk);a.Qo=Zi.create("PMForm"+S.wd);t=Po.prototype;t.defaults={nG:"pm",Vs:m};t.Sg=ca("g");t.m=p("g");t.hx=function(){this.mb=new yi(k,m);this.mb.Ma("发送私信");hi(this.mb,k);this.mb.D(j);this.g=this.mb.X()};t.focus=function(){this.z();this.Vb.focus()};
t.z=function(){this.qN||(this.qN=j,this.qp&&(this.mb||this.hx(),this.g.innerHTML='<div class="zm-pm-wrap"><dl class="zm-form-table zm-form-table-medium"><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">发给：</label></dt><dd class="zm-form-table-field"><div class="zm-pm-selector-wrap"><div class="zg-user-name" style="display:none;padding:4px 0 0 0"></div><input class="zg-form-text-input zm-pm-user-selector" type="text" /></div></dd><dt class="zm-form-table-head zm-form-table-head-align-middle"><label class="zg-medium-gray">内容：</label></dt><dd class="zm-form-table-field zm-form-table-field-last"><div class="zg-editor-simple-wrap zg-form-text-input"><textarea class="zg-editor-input" style="font-weight:normal"></textarea></div></dd></dl><div class="zh-pm-warnmsg" style="display:none;text-align:right;color:#C3412F;"></div><div class="zm-command zg-clear"><div class="zm-item-meta zg-left" style="margin: 0 0 0 57px;"><span class="zg-text-counter" style="display:none">还可以输入 500 字</span><span class="additional-info" ></span></div><a name="cancel" href="javascript:;" class="zm-command-cancel">取消</a><a name="send" href="javascript:;" class="zg-btn-blue zg-r3px" id="zh-question-pm-send-button">发送</a></div></div>'),this.eg=
K("zg-user-name",this.g),this.Vb=K("zg-editor-input",this.g),this.Jc=K("zm-pm-user-selector",this.g),this.Gi=K("zm-command",this.g),this.BW=K("zg-text-counter",this.g),this.us=K("zh-pm-warnmsg",this.g),this.KT=$(".additional-info",$(this.g)),this.oG=new al(this.Vb),this.h().e(this.Gi,"click",this.ra).e(this.eg,"click",this.ra).e(this.Vb,"keydown",this.FM),this.Jc&&((new Fo("搜索用户")).o(this.Jc),this.h().e(this.Jc,"blur",this.hK),this.T=new Oo("/people/autocomplete?type="+this.F.nG,this.Jc,k,k,K("zm-pm-wrap",
this.g),j),this.T.hi(j),this.h().e(this.T,"select",this.cQ)),this.Gv(),this.Nx(),S.yi||Ro(this,"未激活用户，不能发送私信。请先激活邮箱。"))};t.FM=function(b){if(13===b.keyCode&&(b.ctrlKey||b.metaKey))this.MD(),b.preventDefault()};a.So=function(b,c){b.gX=c;b.eg.innerHTML+='<a class="zm-profile-email-history-link" href="'+c+'">私信记录  »</a>'};t.hK=function(){this.IB&&clearTimeout(this.IB);this.IB=setTimeout(v(this.iK,this),200)};t.iK=function(){var b=Ak(this.Jc.value);-1===this.li&&(b&&"搜索用户"!==b)&&Ro(this,"请输入对方姓名，从下拉菜单里选择收件人")};
t.nt=ca("VR");t.show=function(){this.z();this.qp&&(this.mb.D(j),this.mb.ha())};t.Gv=function(){if(this.Hk)$(window).on("beforeunload.PMForm",v(function(){this.et()},this))};t.yv=function(){this.Hk&&$(window).off("beforeunload.PMForm")};t.et=function(){this.Hk&&this.Vb.value&&Qo.Td("content",this.Vb.value)};t.Nx=function(){if(this.Hk){var b=Qo.get("content");b&&(this.Vb.value=b)}};t.Yu=function(){this.Hk&&Qo.remove("content")};t.cQ=function(){var b=z.slice(this.T.$i(),1);To(this,b[3],b[0],j)};
a.To=function(b,c,d,e){-1===c?(c=b.eg,R(b.Jc,j),R(c,m)):c!==S.wd&&(b.li=c,b.zH=d,b.eg&&b.Jc&&(b.eg.innerHTML=b.zH+(e?Dk():""),c=b.Jc,R(b.eg,j),R(c,m),b.Jc.value=""))};
t.MD=sn(function(){if(!(this.pd&&"pending"===this.pd.state()))if(-1===this.li)Ro(this,"请填写收信人。");else{var b=this.Vb.value;Ma(b)?(b=-1!==this.cp?$.post("/inbox/reply",{message_id:this.cp,content:b,type:this.Yz}):$.post("/inbox/post",{member_id:this.li,content:b,token:this.VR}),b.done(v(this.eQ,this)),this.pd=b):Ro(this,"请填写私信内容。")}},j);t.ra=function(b){if(b=(b=this.Xe(b.target))&&b.name)switch(b){case "edit":this.li=-1;b=this.eg;R(this.Jc,j);R(b,m);break;case "cancel":this.qp&&this.mb.D(m);break;case "send":this.MD()}};
a.Ro=function(b,c){b.us.innerHTML=c;R(b.us,j)};t.eQ=function(b){Nk("message","send_message");b&&!b.r?(this.yv(),this.Yu(),this.qp&&this.mb.D(m),this.F.Vs?window.location.reload():U("发送成功")):Ro(this,b.msg)};t.Hk=j;a.Uo=function(){N.call(this);this.nS=this.wN=250;this.lh={}};y(Uo,Yk);a.Vo={p:"MemberProfileCardV2",t:"TopicProfileCardV2",c:"ColumnProfileCardV2",r:"RoundtableProfileCardV2"};t=Uo.prototype;t.zN={t:0,r:2,b:1,l:2};a.Wo=function(b,c){return'<div class="popover-content no-hovercard">'+b+"</div>"+('<div class="arrow"></div><div class="arrow2'+(c?" loading":"")+'"></div>')};
t.z=function(){if(!dh.sc&&!z.contains(mh,"tooltiop")){var b=this.Q=new to({A:"data-tip",SPAN:"data-tip",BUTTON:"data-tip",I:"data-tip",DIV:"data-tip",INPUT:"data-tip",IMG:"data-tip"}),c=L("div",{id:"zh-tooltip"});document.body.appendChild(c);this.Q.Sg(c);this.Q.tt=this.nS;this.Q.Cr=this.wN;this.h().e(this.Q,"trigger",this.vy);var d=$(c),e=k;b.on("show",function(b){clearTimeout(e);d.addClass("in");Y.Z({type:"ga_hover_hovercard",target:b.target.Oe||b.target.anchor})}).on("hide",function(){d.css({display:"block",
visibility:"visible"}).removeClass("in").addClass("out");e=setTimeout(function(){d.removeClass("out").css({display:"none",visibility:"hidden"})},1E3)});this.h().e(this.Q,"beforeshow",this.jo);this.h().e(this.Q,"beforehide",this.mP);$(b.m()).on("click",".member-profile-card-pm",function(c){c.preventDefault();var d=$(this);b.D(m);sn(function(){var b=new Po;b.show();To(b,d.data("pmHash"),d.data("pmName"));So(b,d.attr("href"));b.Vb.focus()},j)()})}};
t.mP=function(){"s"!==this.th&&this.lh[this.th]&&this.lh[this.th][this.Zm]&&(this.lh[this.th][this.Zm]=$(this.Q.m()).find(".popover-content").html())};
t.jo=function(){var b=this.Q.Oe||this.Q.anchor,c=b.getAttribute("data-tip");this.jC=b;b=c.split("$");this.th=b[0];this.Zm=b[2];this.Nk=b[1];if("s"===this.th)b=this.Zm,c=[],c.push('<div class="tooltip-arrow'),c.push('"></div><div class="tooltip-inner">'),c.push(Za(b)),c.push("</div></div>"),b=c.join(""),Xo(this,b);else{var d=this.th,e=this.Zm,b=this.Nk;if(c=this.lh[d]&&this.lh[d][e])Xo(this,Wo(c));else if(c=Vo[d])$.get("/node/"+c,{params:{url_token:e}},v(function(b){Yo(this,b,d,e)},this)),Xo(this,
this.Pu(b))}Zo(this)};a.Zo=function(b){var c;switch(b.Nk){case "t":c=5;break;case "r":c=4;break;case "b":c=4;break;case "l":c=6}b=b.Q;b.My=c;b.R()&&b.ha()};t.Pu=function(){return Wo('<div class="zh-hovercard-spinner"></div>',j)};a.Yo=function(b,c,d,e){b.th===d&&b.Zm===e&&Yo(b,c);b.lh[d]=b.lh[d]||{};b.lh[d][e]=c;Zo(b);Xo(b,Wo(c));uo(b.Q,b.jC,b.Nk)},a.Xo=function(b,c){b.Q.yd(c);b.Q.Vc(b.MK)};
t.vy=function(b){var c=b.anchor,d=c&&c.getAttribute("data-tip"),b=d.split("$"),e=k;Ic(c,k,"no-hovercard")?(b=this.Q,ho(b),vo(b)):d&&1<b.length?(c.title&&(c.setAttribute("data-original_title",c.title),c.removeAttribute("title")),e=b[1],"s"!==b[0]&&(210>jg(c).y?"t"===e&&(e="b",c.setAttribute("data-tip",d.replace("$t$","$b$"))):(e="t",c.setAttribute("data-tip",d.replace("$b$","$t$")))),this.MK=e=new yo(c,this.zN[e],"b"===e||"t"===e),c=v(this.hQ,this),e.Ks=c,this.Q.className="s"!==b[0]?"goog-hovercard popover":
"tooltip"):(b=this.Q,ho(b),vo(b))};
t.hQ=function(b,c){var d=this.Q.m();E.remove(d,"top","bottom","left","right");E.add(d,b);var e=vg(d),g=vg(this.jC),h=new Mb(d.offsetLeft,d.offsetTop);if("t"===this.Nk||"b"===this.Nk){var e=(e.width-g.width)/2,l=h.x-e;if("s"===this.th)Uf(d,"left",l+"px");else{var l=z.contains(["2-5","3-5","3-4","2-4"],c),n=$(".zh-hovercard-spinner",d)[0],q=K("arrow",d),r=K("arrow2",d);n?Uf(d,"left",h.x-e+"px"):l?Uf(d,"left",h.x+83+"px"):Uf(d,"left",h.x-70+"px");var w=g.width/2;q&&r&&(n||(l?z.forEach([q,r],function(b){Uf(b,
"left","auto");Uf(b,"right",w+70+"px")}):z.forEach([q,r],function(b){Uf(b,"left",w+70+"px")})))}}else Uf(d,"top",h.y-(e.height-g.height)/2+"px"),"l"===this.Nk&&ag(d,h.x-g.width)};a.$o=function(){},a.ap=void 0;ia($o);t=$o.prototype;t.pc=ba();t.v=function(b){var c=b.K().v("div",this.Ye(b).join(" "),b.$a());bp(this,b,c);return c};t.X=aa();t.Ui=function(b,c,d){if(b=b.m?b.m():b)if(A&&!D("7")){var e=cp(E.get(b),c);e.push(c);xa(d?E.add:E.remove,b).apply(k,e)}else E.enable(b,c,d)};t.nc=s(j);
t.o=function(b,c){c.id&&Lh(b,c.id);var d=this.X(c);d&&d.firstChild?b.gm(d.firstChild.nextSibling?z.clone(d.childNodes):d.firstChild):b.gm(k);var e=0,g=this.L(),h=this.L(),l=m,n=m,d=m,q=E.get(c);z.forEach(q,function(b){!l&&b==g?(l=j,h==g&&(n=j)):!n&&b==h?n=j:e|=this.uw(b)},this);b.$=e;l||(q.push(g),h==g&&(n=j));n||q.push(h);var r=b.We;r&&q.push.apply(q,r);if(A&&!D("7")){var w=cp(q);0<w.length&&(q.push.apply(q,w),d=j)}(!l||!n||r||d)&&E.set(c,q.join(" "));bp(this,b,c);return c};
t.te=function(b){b.ud()&&this.fi(b.m(),j);b.isEnabled()&&this.Fe(b,b.R())};a.bp=function(b,c,d){c.isEnabled()||b.cg(d,1,j);c.$&8&&b.cg(d,8,j);c.Mb&16&&b.cg(d,16,c.ve());c.Mb&64&&b.cg(d,64,c.nb())};t.Ho=function(b,c){ug(b,!c,!A&&!rb)};t.fi=function(b,c){this.Ui(b,this.L()+"-rtl",c)};t.Kh=function(b){var c;return b.Mb&32&&(c=b.ec())?Cc(c):m};t.Fe=function(b,c){var d;if(b.Mb&32&&(d=b.ec())){if(!c&&b.$&32){try{d.blur()}catch(e){}b.$&32&&b.Oc(k)}Cc(d)!=c&&Dc(d,c)}};t.D=function(b,c){R(b,c)};
t.Yb=function(b,c,d){var e=b.m();if(e){var g=this.nn(c);g&&this.Ui(b,g,d);this.cg(e,c,d)}};t.cg=function(b,c,d){ap||(ap=H.create(1,Uc.xI,8,Uc.JI,16,Uc.Ip,64,Uc.IA));(c=ap[c])&&Nc(b,c,d)};t.Ea=function(b,c){var d=this.X(b);if(d&&(ic(d),c))if(oa(c))xc(d,c);else{var e=function(b){if(b){var c=Rb(d);d.appendChild(oa(b)?c.createTextNode(b):b)}};ma(c)?z.forEach(c,e):na(c)&&!("nodeType"in c)?z.forEach(z.clone(c),e):e(c)}};t.ec=function(b){return b.m()};t.L=s("goog-control");
t.Ye=function(b){var c=this.L(),d=[c],e=this.L();e!=c&&d.push(e);c=b.Md();for(e=[];c;){var g=c&-c;e.push(this.nn(g));c&=~g}d.push.apply(d,e);(b=b.We)&&d.push.apply(d,b);A&&!D("7")&&d.push.apply(d,cp(d));return d};a.cp=function(b,c){var d=[];c&&(b=b.concat([c]));z.forEach([],function(e){z.every(e,xa(z.contains,b))&&(!c||z.contains(e,c))&&d.push(e.join("_"))});return d};t.nn=function(b){this.sq||dp(this);return this.sq[b]};
t.uw=function(b){this.qH||(this.sq||dp(this),this.qH=H.rm(this.sq));b=parseInt(this.qH[b],10);return isNaN(b)?0:b};a.dp=function(b){var c=b.L();b.sq=H.create(1,c+"-disabled",2,c+"-hover",4,c+"-active",8,c+"-selected",16,c+"-checked",32,c+"-focused",64,c+"-open")};a.ep=function(){};y(ep,$o);ia(ep);t=ep.prototype;t.pc=function(){return Vc.Hp};t.cg=function(b,c,d){16==c?Nc(b,Uc.GI,d):ep.n.cg.call(this,b,c,d)};t.v=function(b){var c=ep.n.v.call(this,b),d=b.Jf();d&&this.Kc(c,d);(d=b.V())&&this.za(c,d);b.Mb&16&&this.cg(c,16,b.ve());return c};t.o=function(b,c){var c=ep.n.o.call(this,b,c),d=this.V(c);b.Wd=d;b.ot(this.Jf(c));b.Mb&16&&this.cg(c,16,b.ve());return c};t.V=ha;t.za=ha;t.Jf=function(b){return b.title};t.Kc=function(b,c){b&&(b.title=c||"")};t.ci=u(20);
t.L=s("goog-button");a.gp=function(b,c){b||f(Error("Invalid class name "+b));qa(c)||f(Error("Invalid decorator function "+c));fp[b]=c},a.hp={},a.fp={};a.ip=function(b,c,d){T.call(this,d);if(!c){for(var c=this.constructor,e;c;){e=ua(c);if(e=hp[e])break;c=c.n?c.n.constructor:k}c=e?qa(e.O)?e.O():new e:k}this.M=c;this.gm(b)};y(ip,T);t=ip.prototype;t.oc=k;t.$=0;t.Mb=39;t.Ci=255;t.Zj=0;t.jb=j;t.We=k;t.ej=j;t.Sp=m;t.Mj=k;t.Mo=function(b){this.ya&&b!=this.ej&&jp(this,b);this.ej=b};t.ec=function(){return this.M.ec(this)};t.hr=function(){return this.kb||(this.kb=new gl)};
t.ih=function(b){b&&(this.We?z.contains(this.We,b)||this.We.push(b):this.We=[b],this.M.Ui(this,b,j))};t.Ui=function(b,c){c?this.ih(b):b&&this.We&&(z.remove(this.We,b),0==this.We.length&&(this.We=k),this.M.Ui(this,b,m))};t.v=function(){var b=this.M.v(this);this.g=b;var c=this.Mj||this.M.pc();c&&Mc(b,c);this.Sp||this.M.Ho(b,m);this.R()||this.M.D(b,m)};t.Oo=u(17);t.X=function(){return this.M.X(this.m())};t.nc=function(b){return this.M.nc(b)};
t.ca=function(b){this.g=b=this.M.o(this,b);var c=this.Mj||this.M.pc();c&&Mc(b,c);this.Sp||this.M.Ho(b,m);this.jb="none"!=b.style.display};t.B=function(){ip.n.B.call(this);this.M.te(this);if(this.Mb&-2&&(this.ej&&jp(this,j),this.Mb&32)){var b=this.ec();if(b){var c=this.hr();c.attach(b);this.h().e(c,"key",this.Ub).e(b,"focus",this.pe).e(b,"blur",this.Oc)}}};
a.jp=function(b,c){var d=b.h(),e=b.m();c?(d.e(e,"mouseover",b.fd).e(e,"mousedown",b.qe).e(e,"mouseup",b.Kf).e(e,"mouseout",b.Hh),b.vn!=ha&&d.e(e,"contextmenu",b.vn),A&&d.e(e,"dblclick",b.uD)):(d.Da(e,"mouseover",b.fd).Da(e,"mousedown",b.qe).Da(e,"mouseup",b.Kf).Da(e,"mouseout",b.Hh),b.vn!=ha&&d.Da(e,"contextmenu",b.vn),A&&d.Da(e,"dblclick",b.uD))};t.hb=function(){ip.n.hb.call(this);this.kb&&this.kb.detach();this.R()&&this.isEnabled()&&this.M.Fe(this,m)};
t.w=function(){ip.n.w.call(this);this.kb&&(this.kb.G(),delete this.kb);delete this.M;this.We=this.oc=k};t.$a=p("oc");t.Ea=function(b){this.M.Ea(this.m(),b);this.gm(b)};t.gm=ca("oc");t.wg=function(){var b=this.$a();if(!b)return"";b=oa(b)?b:ma(b)?z.map(b,Gc).join(""):Fc(b);return La(b)};t.fm=u(52);t.fi=function(b){ip.n.fi.call(this,b);var c=this.m();c&&this.M.fi(c,b)};t.Ho=function(b){this.Sp=b;var c=this.m();c&&this.M.Ho(c,b)};t.R=p("jb");
t.D=function(b,c){if(c||this.jb!=b&&this.dispatchEvent(b?"show":"hide")){var d=this.m();d&&this.M.D(d,b);this.isEnabled()&&this.M.Fe(this,b);this.jb=b;return j}return m};t.isEnabled=function(){return!(this.$&1)};t.Xa=function(b){var c=this.getParent();if((!c||"function"!=typeof c.isEnabled||c.isEnabled())&&kp(this,1,!b))b||(this.setActive(m),this.ld(m)),this.R()&&this.M.Fe(this,b),this.Yb(1,!b)};t.ld=function(b){kp(this,2,b)&&this.Yb(2,b)};t.Wb=function(){return!!(this.$&4)};
t.setActive=function(b){kp(this,4,b)&&this.Yb(4,b)};t.im=function(b){kp(this,8,b)&&this.Yb(8,b)};t.ve=function(){return!!(this.$&16)};t.Uc=function(b){kp(this,16,b)&&this.Yb(16,b)};t.nb=function(){return!!(this.$&64)};t.pb=function(b){kp(this,64,b)&&this.Yb(64,b)};t.Md=p("$");t.Yb=function(b,c){this.Mb&b&&c!=!!(this.$&b)&&(this.M.Yb(this,b,c),this.$=c?this.$|b:this.$&~b)};
a.lp=function(b,c,d){b.ya&&(b.$&c&&!d)&&f(Error("Component already rendered"));!d&&b.$&c&&b.Yb(c,m);b.Mb=d?b.Mb|c:b.Mb&~c},a.mp=function(b,c){return!!(b.Ci&c)&&!!(b.Mb&c)},a.kp=function(b,c,d){return!!(b.Mb&c)&&!!(b.$&c)!=d&&(!(b.Zj&c)||b.dispatchEvent(Kh(c,d)))&&!b.tg};t.fd=function(b){(!b.relatedTarget||!sc(this.m(),b.relatedTarget))&&(this.dispatchEvent("enter")&&this.isEnabled()&&mp(this,2))&&this.ld(j)};
t.Hh=function(b){if((!b.relatedTarget||!sc(this.m(),b.relatedTarget))&&this.dispatchEvent("leave"))mp(this,4)&&this.setActive(m),mp(this,2)&&this.ld(m)};t.vn=ha;t.qe=function(b){this.isEnabled()&&(mp(this,2)&&this.ld(j),nd(b)&&(mp(this,4)&&this.setActive(j),this.M.Kh(this)&&this.ec().focus()));!this.Sp&&nd(b)&&b.preventDefault()};t.Kf=function(b){this.isEnabled()&&(mp(this,2)&&this.ld(j),this.Wb()&&(this.Rd(b)&&mp(this,4))&&this.setActive(m))};t.uD=function(b){this.isEnabled()&&this.Rd(b)};
t.Rd=function(b){mp(this,16)&&this.Uc(!this.ve());mp(this,8)&&this.im(j);mp(this,64)&&this.pb(!this.nb());var c=new gd("action",this);b&&(c.altKey=b.altKey,c.ctrlKey=b.ctrlKey,c.metaKey=b.metaKey,c.shiftKey=b.shiftKey,c.Iy=b.Iy);return this.dispatchEvent(c)};t.pe=function(){mp(this,32)&&kp(this,32,j)&&this.Yb(32,j)};t.Oc=function(){mp(this,4)&&this.setActive(m);mp(this,32)&&kp(this,32,m)&&this.Yb(32,m)};
t.Ub=function(b){return this.R()&&this.isEnabled()&&this.$e(b)?(b.preventDefault(),b.stopPropagation(),j):m};t.$e=function(b){return 13==b.keyCode&&this.Rd(b)};qa(ip)||f(Error("Invalid component class "+ip));qa($o)||f(Error("Invalid renderer class "+$o));a.np=ua(ip);hp[np]=$o;gp("goog-control",function(){return new ip(k)});a.op=function(){};y(op,ep);ia(op);t=op.prototype;t.pc=ba();t.v=function(b){b.Mo(m);b.Ci&=-256;lp(b,32,m);return b.K().v("button",{"class":this.Ye(b).join(" "),disabled:!b.isEnabled(),title:b.Jf()||"",value:b.V()||""},b.wg()||"")};t.nc=function(b){return"BUTTON"==b.tagName||"INPUT"==b.tagName&&("button"==b.type||"submit"==b.type||"reset"==b.type)};t.o=function(b,c){b.Mo(m);b.Ci&=-256;lp(b,32,m);c.disabled&&E.add(c,this.nn(1));return op.n.o.call(this,b,c)};t.te=function(b){b.h().e(b.m(),"click",b.Rd)};
t.Ho=ha;t.fi=ha;t.Kh=function(b){return b.isEnabled()};t.Fe=ha;t.Yb=function(b,c,d){op.n.Yb.call(this,b,c,d);if((b=b.m())&&1==c)b.disabled=d};t.V=function(b){return b.value};t.za=function(b,c){b&&(b.value=c)};t.cg=ha;a.pp=function(b,c,d){ip.call(this,b,c||op.O(),d)};y(pp,ip);t=pp.prototype;t.V=p("Wd");t.za=function(b){this.Wd=b;this.M.za(this.m(),b)};t.Jf=p("ip");t.Kc=function(b){this.ip=b;this.M.Kc(this.m(),b)};t.ot=ca("ip");t.ci=u(19);t.w=function(){pp.n.w.call(this);delete this.Wd;delete this.ip};t.B=function(){pp.n.B.call(this);if(this.Mb&32){var b=this.ec();b&&this.h().e(b,"keyup",this.$e)}};t.$e=function(b){return 13==b.keyCode&&"key"==b.type||32==b.keyCode&&"keyup"==b.type?this.Rd(b):32==b.keyCode};
gp("goog-button",function(){return new pp(k)});a.qp=function(){};y(qp,$o);ia(qp);qp.prototype.v=function(b){var c=b.K().v("span",this.Ye(b).join(" "));rp(this,c,b.nh);return c};qp.prototype.o=function(b,c){var c=qp.n.o.call(this,b,c),d=E.get(c),e=sp;z.contains(d,tp(this,up))?e=up:z.contains(d,tp(this,vp))?e=vp:z.contains(d,tp(this,sp))&&(e=sp);b.nh=e;Nc(c,Uc.Ip,e==up?"mixed":e==vp?"true":"false");return c};qp.prototype.pc=function(){return Vc.uI};
a.rp=function(b,c,d){if(c){var e=tp(b,d);E.has(c,e)||(H.forEach(wp,function(b){b=tp(this,b);E.enable(c,b,b==e)},b),Nc(c,Uc.Ip,d==up?"mixed":d==vp?"true":"false"))}};qp.prototype.L=s("goog-checkbox");a.tp=function(b,c){var d=b.L();if(c==vp)return d+"-checked";if(c==sp)return d+"-unchecked";if(c==up)return d+"-undetermined";f(Error("Invalid checkbox state: "+c))};a.xp=function(b,c,d){d=d||qp.O();ip.call(this,k,d,c);this.nh=la(b)?b:sp};y(xp,ip);a.vp=j,a.sp=m,a.up=k,a.wp={Ip:vp,YV:sp,$V:up};t=xp.prototype;t.ub=k;t.ve=function(){return this.nh==vp};t.Uc=function(b){b!=this.nh&&(this.nh=b,rp(this.M,this.m(),this.nh))};t.toggle=function(){this.Uc(this.nh?sp:vp)};
t.B=function(){xp.n.B.call(this);if(this.ej){var b=this.h();this.ub&&b.e(this.ub,"click",this.Bw).e(this.ub,"mouseover",this.fd).e(this.ub,"mouseout",this.Hh).e(this.ub,"mousedown",this.qe).e(this.ub,"mouseup",this.Kf);b.e(this.m(),"click",this.Bw)}if(this.ub){if(!this.ub.id){var b=this.ub,c;c=this.Ld()+".lbl";b.id=c}Nc(this.m(),Uc.eu,this.ub.id)}};t.Xa=function(b){xp.n.Xa.call(this,b);if(b=this.m())b.tabIndex=this.isEnabled()?0:-1};
t.Bw=function(b){b.stopPropagation();var c=this.nh?"uncheck":"check";this.isEnabled()&&this.dispatchEvent(c)&&(b.preventDefault(),this.toggle(),this.dispatchEvent("change"))};t.$e=function(b){32==b.keyCode&&this.Bw(b);return m};gp("goog-checkbox",function(){return new xp});a.yp=function(){};y(yp,ep);ia(yp);t=yp.prototype;t.v=function(b){var c={"class":"goog-inline-block "+this.Ye(b).join(" "),title:b.Jf()||""};return b.K().v("div",c,b.$a())};t.pc=function(){return Vc.Hp};t.nc=function(b){return"DIV"==b.tagName};t.o=function(b,c){E.add(c,"goog-inline-block");return yp.n.o.call(this,b,c)};t.V=s("");t.L=s("goog-flat-button");gp("goog-flat-button",function(){return new pp(k,yp.O())});a.zp=function(){};y(zp,yp);ia(zp);zp.prototype.L=s("goog-link-button");gp("goog-link-button",function(){return new pp(k,zp.O())});a.Bp=function(b,c,d,e,g){function h(b){b&&(b.tabIndex=0,Mc(b,l.pc()),E.add(b,"goog-zippy-header"),Ap(l,b),b&&l.JE.e(b,"keydown",l.GP))}N.call(this);this.aa=g||Sb();this.wh=this.aa.m(b)||k;this.dn=this.aa.m(e||k);this.Zk=(this.Jx=qa(c)?c:k)||!c?k:this.aa.m(c);this.bd=d==j;this.JE=new le(this);this.cy=new le(this);var l=this;h(this.wh);h(this.dn);this.Ja(this.bd)};y(Bp,Gd);t=Bp.prototype;t.ej=j;t.w=function(){Bp.n.w.call(this);Tc(this.JE);Tc(this.cy)};t.pc=function(){return Vc.QA};t.X=p("Zk");
t.expand=u(58);t.collapse=function(){this.Ja(m)};t.toggle=function(){this.Ja(!this.bd)};t.Ja=function(b){this.Zk?R(this.Zk,b):b&&this.Jx&&(this.Zk=this.Jx());this.Zk&&E.add(this.Zk,"goog-zippy-content");this.dn?(R(this.wh,!b),R(this.dn,b)):this.wh&&(E.enable(this.wh,"goog-zippy-expanded",b),E.enable(this.wh,"goog-zippy-collapsed",!b),Nc(this.wh,Uc.IA,b));this.bd=b;this.dispatchEvent(new Cp("toggle",this,this.bd))};t.fc=p("bd");
t.Mo=function(b){this.ej!=b&&((this.ej=b)?(Ap(this,this.wh),Ap(this,this.dn)):this.cy.removeAll())};a.Ap=function(b,c){c&&b.cy.e(c,"click",b.FP)};t.GP=function(b){if(13==b.keyCode||32==b.keyCode)this.toggle(),this.dispatchEvent(new gd("action",this)),b.preventDefault(),b.stopPropagation()};t.FP=function(){this.toggle();this.dispatchEvent(new gd("action",this))};a.Cp=function(b,c,d){gd.call(this,b,c);this.qd=d};y(Cp,gd);a.Dp=function(){this.pd=k};ia(Dp);Dp.prototype.refresh=function(){return this.pd&&"pending"===this.pd.state()?this.pd:this.pd=$.post("/oauth/refresh",function(b){b=b.sina;H.extend(rh,b);b.id&&Y.dispatchEvent(new mn("sina_callback",b))})};a.Ep=function(){};y(Ep,$o);ia(Ep);Ep.prototype.v=function(b){return b.K().v("div",this.L())};Ep.prototype.o=function(b,c){c.id&&Lh(b,c.id);if("HR"==c.tagName){var d=c,c=this.v(b);jc(c,d);M(d)}else E.add(c,this.L());return c};Ep.prototype.Ea=ba();Ep.prototype.L=s("goog-menuseparator");a.Fp=function(b,c){ip.call(this,k,b||Ep.O(),c);lp(this,1,m);lp(this,2,m);lp(this,4,m);lp(this,32,m);this.$=1};y(Fp,ip);Fp.prototype.B=function(){Fp.n.B.call(this);Mc(this.m(),"separator")};gp("goog-menuseparator",function(){return new Fp});a.Gp=function(){};ia(Gp);t=Gp.prototype;t.pc=ba();t.v=function(b){return b.K().v("div",this.Ye(b).join(" "))};t.X=aa();t.nc=function(b){return"DIV"==b.tagName};t.o=function(b,c){c.id&&Lh(b,c.id);var d=this.L(),e=m,g=E.get(c);g&&z.forEach(g,function(c){c==d?e=j:c&&this.sz(b,c,d)},this);e||E.add(c,d);Hp(this,b,this.X(c));return c};t.sz=function(b,c,d){c==d+"-disabled"?b.Xa(m):c==d+"-horizontal"?b.No(Ip):c==d+"-vertical"&&b.No(Jp)};
a.Hp=function(b,c,d){if(d)for(var e=d.firstChild,g;e&&e.parentNode==d;){g=e.nextSibling;if(1==e.nodeType){var h=b.pn(e);h&&(h.g=e,c.isEnabled()||h.Xa(m),c.H(h),h.o(e))}else(!e.nodeValue||""==Ma(e.nodeValue))&&d.removeChild(e);e=g}};t.pn=function(b){a:{for(var c=E.get(b),d=0,e=c.length;d<e;d++)if(b=c[d]in fp?fp[c[d]]():k)break a;b=k}return b};t.te=function(b){b=b.m();ug(b,j,B);A&&(b.hideFocus=j);var c=this.pc();c&&Mc(b,c)};t.ec=function(b){return b.m()};t.L=s("goog-container");
t.Ye=function(b){var c=this.L(),d=[c,b.vb==Ip?c+"-horizontal":c+"-vertical"];b.isEnabled()||d.push(c+"-disabled");return d};t.kw=u(12);a.Ip="horizontal",a.Jp="vertical";a.Kp=function(){T.call(this);this.Wt=[]};y(Kp,T);t=Kp.prototype;t.Ib=ke("ZH.ui.Accordion");t.Fa=function(b){this.Wt.push(b);b.mt(this)};t.B=function(){Kp.n.B.call(this);this.h().e(this,"toggle",this.kN)};t.kN=function(b){z.forEach(this.Wt,function(c){b.target!==c&&c.fc()&&c.Ja(m,j)},this)};t.w=function(){Kp.n.w.call(this);z.forEach(this.Wt,function(b){b.G()},this);this.Wt=[]};a.Lp=function(b,c){var d=this,e={};H.extend(e,this.defaults,c||{});this.F=e;var g=e.Tc?{Tc:v(e.Tc,d)}:k;g&&(g.W=e.W?v(e.W,d):k);this.M=g=new Qm(e.Rj,g);var h=new Mm(e.source,!e.wT);this.df=h;var l=e.mx;l||(l=new Dm(e.separator,e.$K,!!e.multiple,e.delay),l.bi=function(b,c){var g;qa(e.select)&&(g=e.select.call(d,b,d.M.Xf[d.M.wl]));Gm(this,la(g)?g:b.label||b.toString(),c);return m});tm.call(this,h,g,l);l.Y=this;l.Ak(b);b.setAttribute("autocomplete","off");h.Zh=function(b,c,g){var h=g;qa(e.format)&&(h=
function(b,c){var h=e.format.call(d,c,b);qa(e.filter)&&(h=e.filter.call(d,h,b));g(b,h)});return Mm.prototype.Zh.call(this,b,c,h)};g.HG=function(b,c,d){b=b.data;d.innerHTML=b.ZS?b.ZS():b.label||b.toString()};this.Nb=b;e.Ae&&(this.El=e.Ae);e.placeholder&&(this.Sd=new Zl(b,e.placeholder));this.addEventListener("suggestionsupdate",function(){this.dispatchEvent(this.nb()?"show":"hide")})};y(Lp,Wm);
Lp.prototype.defaults={source:"",Ae:10,wT:m,filter:k,format:k,mx:k,delay:300,separator:k,$K:k,multiple:m,Rj:k,ZX:k,placeholder:"",Tc:k,W:k};a.Op=function(b){var c;return(c=Mp[this.F.source])||(c=Mp[Np][b[0]])?c(b):b};Lp.prototype.defaults.format=function(b,c){return Ma(c)&&ma(b)?ma(b[0])?z.map(b[0].slice(1),Op,this):b:[]};a.Np="/autocomplete",a.Mp={};
Mp[Np]={topic:function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],answers:b[6],alias:b[7],raw:b,value:b[4],label:b[1]}},question:function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],answers:b[4],is_star:!!b[5],raw:b,label:b[1],value:b[2]}},people:function(b){return{type:b[0],fullname:b[1],url_token:b[2],avatar:b[3],id:b[4],headline:b[5],raw:b,label:b[1],value:b[4]}},search_link:function(b){return{type:b[0],raw:b,label:b[1],value:b[1]}}};
Mp["/topic/autocomplete"]=function(b){return{type:b[0],name:b[1],url_token:b[2],avatar:b[3],id:b[4],followers:b[5],alias:b[6],label:b[1]}};Mp["/question/autocomplete"]=function(b){return{type:b[0],title:b[1],id:b[2],url_token:b[3],is_duplicated:Boolean(+b[4]),answer_count:b[5],raw:b,label:b[1],value:b[2]}};a.Pp=function(b,c,d,e){Dm.call(this,b,c,d,e)};y(Pp,Dm);Pp.prototype.Oc=ha;Pp.prototype.Ub=ha;Pp.prototype.bi=s(m);a.Rp=function(b,c,d){N.call(this);this.ue=d||"搜索话题";this.ia=c;this.data=b||[];this.status=Qp;this.rR="/topic/unbind";this.cJ="/topic/bind";this.isEnabled=j;this.Or='<a class="zm-tag-editor-tip-link" href="#" name="edit">帮忙给这个问题选个话题吧，好让别人来回答</a><a name="edit" class="zu-edit-button" href="#"><i class="zu-edit-button-icon"></i>添加</a>';this.Ae=10;this.ys=m;this.qs=Infinity;this.ts=0;this.YA=m};y(Rp,Yk);a.Qp="view",a.Sp="零一二三四五六七八九十".split("");t=Rp.prototype;
t.o=function(b){this.g=b;this.ag=K("zm-tag-editor-labels",this.g);this.ys&&(b=Vb("zm-item-tag",this.ag),this.data=z.map(b,function(b){var d=[Ma(b.innerHTML),b.getAttribute("data-token"),k,b.getAttribute("data-topicid")];d.lT=!!b.getAttribute("data-uneditable");return d}));Tp(this);this.he();this.fb()};a.Tp=function(b){if(b.data.length){var c=z.map(b.data,function(b){return zk(b,"",k,"b")},b);b.isEnabled&&c.push(Dk());b.ag.innerHTML=c.join("")}else b.isEnabled&&(b.ag.innerHTML=b.Or)};
t.hn=function(){this.Dc||(this.Dc=L("div","zm-tag-editor-editor",[this.cn=L("div","zg-section zg-clear"),this.Se=L("div","zg-section zm-tag-editor-command-buttons-wrap",[this.eb=L("input",{"class":"zg-form-text-input zg-mr15",type:"text"}),L("a",{"class":"zg-mr15 zg-btn-blue",href:"#",name:"add",style:"display:none;"},"添加"),this.VC=L("a",{href:"#",name:"close"},"完成")]),this.rs=L("div",{className:"zm-tag-editor-maxcount zg-section",style:"display:none;"},[L("span",{},"最多只能为一个问题绑定 "+this.qs+" 个话题"),
L("a",{href:"#",name:"close"},"完成")])]),kc(this.Dc,this.ag),this.ue&&(this.Dx=new Fo(this.ue),this.Dx.o(this.eb),this.eb.title=this.ue),this.Cg(this.Se))};t.Cg=function(b,c){this.T=new Oo(c||"/topic/autocomplete",this.eb,k,k,b,j);this.T.hi(j);this.T.El=this.Ae;this.T.Po(this.am());this.T.Nv=[this.ue];this.h().e(this.T,"select",this.ho);this.h().e(this.T,tm.gh.wi,this.ru)};t.Pv=function(b){return z.some(this.data,function(c){return c[0]===b[1]})};
t.am=function(){return v(function(b,c){function d(){return z.find(e,function(b){return 3>=b.length&&b[1]===Ga("创建 %s 话题",b[2])})}var e=z.filter(b,function(b){return"topic"!==b[0]?m:!this.Pv(b)},this),g=v(function(){return z.find(this.data,function(b){return b[0]===c})},this);S.zr?this.YA&&((!e.length||!d()&&!z.find(e,function(b){return"topic"===b[0]&&b[4]&&b[1]===c}))&&!g())&&e.push(["topic",Ga("创建 %s 话题",c),c]):(g=d())&&(1<e.length?z.remove(e,g):e=[["plain_text",'<span class="zu-autocomplete-row-name zu-autocomplete-row-name-info">没有找到话题：'+
g[2]+'</span><span class="zg-gray-normal zu-autocomplete-row-description">请使用已经创建的话题</span>']]);return e},this)};t.ru=function(){1<this.T.cb.length&&!this.T.cb[0][4]&&wm(this.T)};t.fb=function(){this.h().e(this.g,"click",this.ra);Li&&this.h().e(Li,"anon_change",this.cj)};t.cj=function(b){b.ib?E.add(this.g,"zm-tag-editor-disabled"):E.remove(this.g,"zm-tag-editor-disabled")};
t.ra=function(b){var c=this.Xe(b.target);if(c&&c.name)switch(b.preventDefault(),c.name){case "edit":this.ze(j);break;case "add":(b=Ak(!this.eb.value?"":this.eb.value.replace(/<[^>]+>/g,"")))&&b!==this.eb.title&&this.Je("",b);break;case "close":this.ze(m);break;case "remove":this.VF(c)}};t.ze=sn(function(b){if(b&&(this.dispatchEvent("start_editing"),this.dispatchEvent("beforeedit")===m))return;this.status=b?"edit":Qp;this.hn();this.De();this.he();Up(this)},j);
t.VF=function(b){var c=b.id.split("-")[1],d=rc(b).innerHTML;this.ts&&this.data.length<=this.ts?U("请至少绑定"+Sp[this.ts]+"个话题"):(this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c}),this.so(c))};t.so=function(b){if(!this.Xs||!this.Xs.Wb()){this.Xs=new V(j);var c=new jj;c.add("qid",this.ia).add("question_id",this.ia).add("topic_id",b);oe(this.h(),this.Xs,"complete",this.YM);this.Xs.ajax(this.rR,c.toString())}};
t.YM=function(b){b=Ie(b.target);b.r?U(b.msg):(this.dispatchEvent("remove_tag"),Tp(this),this.De(),Up(this))};t.he=function(){this.status===Qp?(R(this.ag,j),this.Dc&&R(this.Dc,m)):(R(this.ag,m),this.Dc&&this.isEnabled&&R(this.Dc,j),this.rs&&R(this.rs,m))};t.Je=function(b,c){this.Kg||(this.dispatchEvent("add_tag"),this.Kg=j,this.xhr=new V(j),oe(this.h(),this.xhr,"complete",this.su),this.xhr.ajax(this.cJ,"qid="+this.ia+"&question_id="+this.ia+"&topic_id="+b+"&topic_text="+encodeURIComponent(c)))};
t.ho=function(){var b="",c="",d=this.T.$i().slice(1);3<d.length?(b=d[3],c=d[0]):c=d[1];z.some(this.data,function(d){return d[3]&&String(d[3])===b||d[0]===c})||(b||c)&&this.Je(b,c)};t.su=function(){this.Kg=m;var b=Ie(this.xhr);this.Xj(b);Up(this)};t.Xj=function(b){var c=k;b&&b.r?b.notify?En(b.notify):U(b.msg,2E3):(4<b.length&&En(b[4]),this.WG=c=b,this.data.push(c),this.yo(),Tp(this),this.De(),this.eb.value="",this.dispatchEvent("select"))};t.cD=function(b){return zk(b,"nor",m)};
t.De=function(){var b=z.map(this.data,function(b){return['<span class="zm-tag-editor-edit-item">',this.cD(b),b.lT?"":'<a id="rmid-'+b[3]+'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a>',"</span>"].join("")},this);this.cn.innerHTML=b.join("")};t.$i=p("WG");t.Xa=function(b){this.isEnabled=b;this.status=Qp;this.he()};a.Up=function(b){var c=b.data.length>=b.qs;b.Se&&R(b.Se,!c);b.rs&&R(b.rs,c)};
t.yo=function(){var b=[];this.data=z.filter(this.data,function(c){if(z.contains(b,c[1]))return m;b.push(c[1]);return j})};a.Vp=function(b){Rp.call(this);this.Or="";this.ue=b||"";this.qs=this.Ae=5;this.Dp=$("#zh-question-suggest-title-content")};y(Vp,Rp);t=Vp.prototype;
t.o=function(b){Vp.n.o.call(this,b);this.ze(j);z.forEach(Ub("a",k,b),function(b){R(b,m)});this.h().e(this.eb,"focus",function(){this.Dp.val()&&!this.HC&&(this.HC=j,this.kA());this.placeholder&&(this.placeholder.Wj("搜索话题"),bm(this.placeholder))});this.IE=new gl;this.IE.attach(this.eb);this.h().e(this.IE,"key",function(b){8===b.keyCode&&(1===this.eb.value.length&&(this.sB=j,this.PJ=setTimeout(v(function(){this.sB=m;clearTimeout(this.PJ)},this))),!this.eb.value.length&&!this.sB&&(this.data.pop(),this.De(),
this.dispatchEvent("remove_tag")))});this.GS=new Tn(this.kA,2E3,this);this.h().e(this.Dp[0],"keyup",function(){var b=this.Dp.val();this.zt!==b&&(this.GS.fire(),this.zt=b)});this.h().e(this,["remove_tag","add_tag"],function(){Wp(this);0<this.data.length&&this.placeholder&&(this.placeholder.Wj("搜索话题"),bm(this.placeholder));5<=this.data.length?(this.Xa(m),this.Bp.show(),this.placeholder&&this.placeholder.hide(),this.au.hide()):(this.Xa(j),this.Bp.hide(),this.placeholder&&this.placeholder.show(),this.au.show(),
this.Bp.removeClass("light"))})};t.Pv=function(b){return z.some(this.data,function(c){return c[1]===b[1]})};t.so=function(){this.dispatchEvent("remove_tag");Tp(this);this.De()};
t.hn=function(){this.Dc||(Vp.n.hn.call(this),E.add(this.Dc,"zg-clear"),E.set(this.cn,"zg-inline"),E.add(this.Se,"zg-left"),E.remove(this.Se,"zg-section"),E.set(this.eb,"zu-question-suggest-topic-input"),E.add(this.eb,"label-input-label"),this.Fp=$("<div class='sug-con zg-clear' style='display:none;'></div>").append("<span class='zg-gray-normal zg-left tip'>推荐添加</span>").append(this.qI=$("<span class='sugs zg-clear zg-inline'></span>")).append(this.EA=$("<img src='http://static.zhihu.com/static/img/spinner2.gif' style=''/>")),
this.Fp.insertAfter(this.g),this.Fp.on("click","a[name='add']",v(function(b){b=b.currentTarget;if(5>this.data.length)this.Je($(b).attr("data-id"),$(b).attr("data-text"));else{this.Bp.addClass("light");var c=$(this.Dc);c.parent().addClass("sandbox");c.addClass("animated shake");setTimeout(function(){c.removeClass("animated shake");c.parent().removeClass("sandbox");qa(i)&&i()},1E3)}},this)),this.au=$('<label for="topic" class="zg-icon icon-magnify"></label>'),$(this.Se).prepend(this.au),this.placeholder=
new Zl(this.eb,{text:"搜索话题",rB:j}),$(this.Se).append(this.Bp=$("<label class='err-tip' style='display:none;'>最多添加五个话题</label>")),this.h().e(this.Dc,"click",this.jT))};t.jT=function(b){Jk(this.g,b.target)||(b=K("zu-question-suggest-topic-input",this.Dc),sg(b)&&b.focus())};
t.kA=function(){this.HC&&(this.zt=this.Dp.val(),8>this.zt.length?(this.ap=[],Wp(this)):(this.bp&&this.bp.abort(),this.bp=new V(m),this.h().e(this.bp,"success",this.iQ),this.bp.ajax("/topic-question/autocomplete?token="+this.zt+"&max_matches=5&use_similar=0","GET"),this.EA.show()))};t.iQ=function(){this.ap=Ie(this.bp)[0].slice(1);Wp(this)};
a.Wp=function(b){var c;c=b.ap?z.filter(b.ap,function(b){return!this.Pv(b)},b):[];b.Fp.show();(!c||0===c.length)&&b.Fp.hide();var d="";c=z.map(c,function(b){return"<a href='javascript:;' name='add' data-id='"+b[4]+"' data-text='"+b[1]+"' class='zg-r3px zm-item-tag'><span>"+b[1]+"</span></a>"});d+=c.join("");b.qI.html(d);b.EA.hide()};
t.De=function(){var b=[];z.forEach(this.data,function(c){b.push(['<div class="zm-tag-editor-edit-item"><span>',c[0],'</span><a id="rmid-',c[3],'" href="#" class="zg-r3px zm-tag-editor-remove-button" name="remove"></a></div>'].join(""))},this);this.cn.innerHTML=b.join("")};t.reset=function(){this.data=[];Tp(this);this.De()};t.VF=function(b){var c=b.id.split("-")[1],d=rc(b).innerHTML;this.data=z.filter(this.data,function(b){return!c?b[1]!==d:String(b[3])!==c});this.so(c)};
t.Je=function(b,c){var d=[c,c,"",b];this.WG=d;this.data.push(d);Tp(this);this.De();this.eb.value="";this.dispatchEvent("select");this.dispatchEvent("add_tag")};t.Xa=function(b){this.eb&&R(this.eb,b)};a.Xp=function(){N.call(this)};y(Xp,N);a.Yp=ke("goog.dom.SavedRange");Xp.prototype.restore=u(35);a.Zp=function(b,c,d,e,g){this.Ic=!!c;b&&this.Vc(b,e);this.depth=g!=i?g:this.Zb||0;this.Ic&&(this.depth*=-1);this.yq=!d};y(Zp,Md);t=Zp.prototype;t.ba=k;t.Zb=0;t.Nz=m;t.Vc=function(b,c,d){if(this.ba=b)this.Zb=pa(c)?c:1!=this.ba.nodeType?0:this.Ic?-1:1;pa(d)&&(this.depth=d)};t.qg=function(b){this.ba=b.ba;this.Zb=b.Zb;this.depth=b.depth;this.Ic=b.Ic;this.yq=b.yq};t.clone=function(){return new Zp(this.ba,this.Ic,!this.yq,this.Zb,this.depth)};t.Wo=u(16);
t.next=function(){var b;if(this.Nz){(!this.ba||this.yq&&0==this.depth)&&f(P.Ya);b=this.ba;var c=this.Ic?-1:1;if(this.Zb==c){var d=this.Ic?b.lastChild:b.firstChild;d?this.Vc(d):this.Vc(b,-1*c)}else(d=this.Ic?b.previousSibling:b.nextSibling)?this.Vc(d):this.Vc(b.parentNode,-1*c);this.depth+=this.Zb*(this.Ic?-1:1)}else this.Nz=j;(b=this.ba)||f(P.Ya);return b};t.equals=function(b){return b.ba==this.ba&&(!this.ba||b.Zb==this.Zb)};
t.splice=function(b){var c=this.ba,d=this.Ic?1:-1;this.Zb==d&&(this.Zb=-1*d,this.depth+=this.Zb*(this.Ic?-1:1));this.Ic=!this.Ic;Zp.prototype.next.call(this);this.Ic=!this.Ic;for(var d=na(arguments[0])?arguments[0]:arguments,e=d.length-1;0<=e;e--)kc(d[e],c);M(c)};a.$p=function(){},a.aq=function(b){if(b.getSelection)return b.getSelection();var b=b.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(e){return k}return c}return k},a.bq=function(b){for(var c=[],d=0,e=b.bj();d<e;d++)c.push(b.oe(d));return c};t=$p.prototype;t.Bb=u(49);
a.cq=function(b){return b.Lh()?b.fa():b.U()},a.dq=function(b){return b.Lh()?b.U():b.fa()},a.eq=function(b){return b.Lh()?b.sa():b.Ha()};t.Lh=s(m);t.Ba=function(){return Rb(A?this.qc():this.U())};t.Oa=function(){return ac(this.Ba())};t.containsNode=function(b,c){return this.og(fq(b),c)};t.Wf=u(38);a.gq=function(b,c){Zp.call(this,b,c,j)};y(gq,Zp);a.hq=function(){};y(hq,$p);hq.prototype.og=function(b,c){var d=bq(this),e=bq(b);return(c?z.some:z.every)(e,function(b){return z.some(d,function(d){return d.og(b,c)})})};hq.prototype.insertNode=function(b,c){c?jc(b,this.U()):kc(b,this.fa());return b};hq.prototype.Xg=u(9);a.iq=function(b,c,d,e,g){var h;b&&(this.ta=b,this.Aa=c,this.pa=d,this.xa=e,1==b.nodeType&&"BR"!=b.tagName&&(b=b.childNodes,(c=b[c])?(this.ta=c,this.Aa=0):(b.length&&(this.ta=z.Qd(b)),h=j)),1==d.nodeType&&((this.pa=d.childNodes[e])?this.xa=0:this.pa=d));Zp.call(this,g?this.pa:this.ta,g,j);if(h)try{this.next()}catch(l){l!=P.Ya&&f(l)}};y(iq,gq);t=iq.prototype;t.ta=k;t.pa=k;t.Aa=0;t.xa=0;t.aj=u(55);t.Zi=u(41);t.U=p("ta");t.fa=p("pa");t.On=function(){return this.Nz&&this.ba==this.pa&&(!this.xa||1!=this.Zb)};
t.next=function(){this.On()&&f(P.Ya);return iq.n.next.call(this)};t.Wo=u(15);t.qg=function(b){this.ta=b.ta;this.pa=b.pa;this.Aa=b.Aa;this.xa=b.xa;this.af=b.af;iq.n.qg.call(this,b)};t.clone=function(){var b=new iq(this.ta,this.Aa,this.pa,this.xa,this.af);b.qg(this);return b};a.jq=function(){};jq.prototype.og=function(b,c){var d=c&&!b.isCollapsed(),e=b.P;try{return d?0<=this.je(e,0,1)&&0>=this.je(e,1,0):0<=this.je(e,0,0)&&0>=this.je(e,1,1)}catch(g){return A||f(g),m}};jq.prototype.containsNode=function(b,c){return this.og(kq(b),c)};jq.prototype.xg=u(25);jq.prototype.Zc=function(){return new iq(this.U(),this.sa(),this.fa(),this.Ha())};a.lq=function(b){this.P=b};y(lq,jq);a.nq=function(b){var c=Rb(b).createRange();if(3==b.nodeType)c.setStart(b,0),c.setEnd(b,b.length);else if(mq(b)){for(var d,e=b;(d=e.firstChild)&&mq(d);)e=d;c.setStart(e,0);for(e=b;(d=e.lastChild)&&mq(d);)e=d;c.setEnd(e,1==e.nodeType?e.childNodes.length:e.length)}else d=b.parentNode,b=z.indexOf(d.childNodes,b),c.setStart(d,b),c.setEnd(d,b+1);return c},a.oq=function(b,c,d,e){var g=Rb(b).createRange();g.setStart(b,c);g.setEnd(d,e);return g};t=lq.prototype;t.clone=function(){return new this.constructor(this.P.cloneRange())};
t.qc=function(){return this.P.commonAncestorContainer};t.U=function(){return this.P.startContainer};t.sa=function(){return this.P.startOffset};t.fa=function(){return this.P.endContainer};t.Ha=function(){return this.P.endOffset};t.je=function(b,c,d){return this.P.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.START_TO_END:1==c?fa.Range.END_TO_START:fa.Range.END_TO_END,b)};t.isCollapsed=function(){return this.P.collapsed};t.Gc=u(30);t.Nd=u(46);
t.select=function(b){var c=ac(Rb(this.U()));this.Fo(c.getSelection(),b)};t.Fo=function(b){b.removeAllRanges();b.addRange(this.P)};t.Sc=u(5);t.insertNode=function(b,c){var d=this.P.cloneRange();d.collapse(c);d.insertNode(b);d.detach();return b};t.Xg=u(8);t.collapse=function(b){this.P.collapse(b)};a.pq=function(b){this.P=b};y(pq,lq);pq.prototype.Fo=function(b,c){!c||this.isCollapsed()?pq.n.Fo.call(this,b,c):(b.collapse(this.fa(),this.Ha()),b.extend(this.U(),this.sa()))};a.qq=function(b,c){this.P=b;this.Nq=c};y(qq,jq);a.rq=ke("goog.dom.browserrange.IeRange"),a.sq=function(b){var c=Rb(b).body.createTextRange();if(1==b.nodeType)c.moveToElementText(b),mq(b)&&!b.childNodes.length&&c.collapse(m);else{for(var d=0,e=b;e=e.previousSibling;){var g=e.nodeType;if(3==g)d+=e.length;else if(1==g){c.moveToElementText(e);break}}e||c.moveToElementText(b.parentNode);c.collapse(!e);d&&c.move("character",d);c.moveEnd("character",b.length)}return c};t=qq.prototype;t.Tf=k;t.ta=k;
t.pa=k;t.Aa=-1;t.xa=-1;t.clone=function(){var b=new qq(this.P.duplicate(),this.Nq);b.Tf=this.Tf;b.ta=this.ta;b.pa=this.pa;return b};t.ie=function(){this.Tf=this.ta=this.pa=k;this.Aa=this.xa=-1};
t.qc=function(){if(!this.Tf){var b=this.P.text,c=this.P.duplicate(),d=b.replace(/ +$/,"");(d=b.length-d.length)&&c.moveEnd("character",-d);d=c.parentElement();c=Ia(c.htmlText).length;if(this.isCollapsed()&&0<c)return this.Tf=d;for(;c>Ia(d.outerHTML).length;)d=d.parentNode;for(;1==d.childNodes.length&&d.innerText==(3==d.firstChild.nodeType?d.firstChild.nodeValue:d.firstChild.innerText)&&mq(d.firstChild);)d=d.firstChild;0==b.length&&(d=tq(this,d));this.Tf=d}return this.Tf};
a.tq=function(b,c){for(var d=c.childNodes,e=0,g=d.length;e<g;e++){var h=d[e];if(mq(h)){var l=sq(h),n=l.htmlText!=h.outerHTML;if(b.isCollapsed()&&n?0<=b.je(l,1,1)&&0>=b.je(l,1,0):b.P.inRange(l))return tq(b,h)}}return c};t.U=function(){this.ta||(this.ta=uq(this,1),this.isCollapsed()&&(this.pa=this.ta));return this.ta};t.sa=function(){0>this.Aa&&(this.Aa=vq(this,1),this.isCollapsed()&&(this.xa=this.Aa));return this.Aa};
t.fa=function(){if(this.isCollapsed())return this.U();this.pa||(this.pa=uq(this,0));return this.pa};t.Ha=function(){if(this.isCollapsed())return this.sa();0>this.xa&&(this.xa=vq(this,0),this.isCollapsed()&&(this.Aa=this.xa));return this.xa};t.je=function(b,c,d){return this.P.compareEndPoints((1==c?"Start":"End")+"To"+(1==d?"Start":"End"),b)};
a.uq=function(b,c,d){d=d||b.qc();if(!d||!d.firstChild)return d;for(var e=1==c,g=0,h=d.childNodes.length;g<h;g++){var l=e?g:h-g-1,n=d.childNodes[l],q;try{q=kq(n)}catch(r){continue}var w=q.P;if(b.isCollapsed())if(mq(n)){if(q.og(b))return uq(b,c,n)}else{if(0==b.je(w,1,1)){b.Aa=b.xa=l;break}}else{if(b.og(q)){if(!mq(n)){e?b.Aa=l:b.xa=l+1;break}return uq(b,c,n)}if(0>b.je(w,1,0)&&0<b.je(w,0,1))return uq(b,c,n)}}return d},a.vq=function(b,c){var d=1==c,e=d?b.U():b.fa();if(1==e.nodeType){for(var e=e.childNodes,
g=e.length,h=d?1:-1,l=d?0:g-1;0<=l&&l<g;l+=h){var n=e[l];if(!mq(n)&&0==b.P.compareEndPoints((1==c?"Start":"End")+"To"+(1==c?"Start":"End"),kq(n).P))return d?l:l+1}return-1==l?0:l}g=b.P.duplicate();h=sq(e);g.setEndPoint(d?"EndToEnd":"StartToStart",h);g=g.text.length;return d?e.length-g:g};t.Mf=u(63);t.isCollapsed=function(){return 0==this.P.compareEndPoints("StartToEnd",this.P)};t.Gc=u(29);t.Nd=u(45);t.select=function(){this.P.select()};t.Sc=u(4);
a.wq=function(b,c,d){var e;e=e||Sb(b.parentElement());var g;1!=c.nodeType&&(g=j,c=e.v("DIV",k,c));b.collapse(d);var d=e||Sb(b.parentElement()),h,l=h=c.id;h||(h=c.id=db());b.pasteHTML(c.outerHTML);(c=d.m(h))&&(l||c.removeAttribute("id"));g&&(b=c.firstChild,e.wL(c),c=b);return c};t.insertNode=function(b,c){var d=wq(this.P.duplicate(),b,c);this.ie();return d};t.Xg=u(7);t.collapse=function(b){this.P.collapse(b);b?(this.pa=this.ta,this.xa=this.Aa):(this.ta=this.pa,this.Aa=this.xa)};a.xq=function(b){this.P=b};y(xq,lq);xq.prototype.Fo=function(b){b.collapse(this.U(),this.sa());(this.fa()!=this.U()||this.Ha()!=this.sa())&&b.extend(this.fa(),this.Ha());0==b.rangeCount&&b.addRange(this.P)};a.yq=function(b){this.P=b};y(yq,lq);yq.prototype.je=function(b,c,d){return D("528")?yq.n.je.call(this,b,c,d):this.P.compareBoundaryPoints(1==d?1==c?fa.Range.START_TO_START:fa.Range.END_TO_START:1==c?fa.Range.START_TO_END:fa.Range.END_TO_END,b)};yq.prototype.Fo=function(b,c){b.removeAllRanges();c?b.setBaseAndExtent(this.fa(),this.Ha(),this.U(),this.sa()):b.setBaseAndExtent(this.U(),this.sa(),this.fa(),this.Ha())};a.zq=function(b){return A&&!Fb(9)?new qq(b,Rb(b.parentElement())):C?new yq(b):B?new pq(b):rb?new xq(b):new lq(b)},a.kq=function(b){if(A&&!Fb(9)){var c=new qq(sq(b),Rb(b));if(mq(b)){for(var d,e=b;(d=e.firstChild)&&mq(d);)e=d;c.ta=e;c.Aa=0;for(e=b;(d=e.lastChild)&&mq(d);)e=d;c.pa=e;c.xa=1==e.nodeType?e.childNodes.length:e.length;c.Tf=b}else c.ta=c.pa=c.Tf=b.parentNode,c.Aa=z.indexOf(c.Tf.childNodes,b),c.xa=c.Aa+1;b=c}else b=C?new yq(nq(b)):B?new pq(nq(b)):rb?new xq(nq(b)):new lq(nq(b));return b},a.mq=
function(b){return gc(b)||3==b.nodeType};a.Aq=function(){};y(Aq,$p);a.Bq=function(b,c){var d=new Aq;d.Di=b;d.af=!!c;return d},a.Dq=function(b,c,d,e){var g=new Aq;g.af=Cq(b,c,d,e);if("BR"==b.tagName)var h=b.parentNode,c=z.indexOf(h.childNodes,b),b=h;"BR"==d.tagName&&(h=d.parentNode,e=z.indexOf(h.childNodes,d),d=h);g.af?(g.ta=d,g.Aa=e,g.pa=b,g.xa=c):(g.ta=b,g.Aa=c,g.pa=d,g.xa=e);return g};t=Aq.prototype;t.Di=k;t.ta=k;t.Aa=k;t.pa=k;t.xa=k;t.af=m;
t.clone=function(){var b=new Aq;b.Di=this.Di;b.ta=this.ta;b.Aa=this.Aa;b.pa=this.pa;b.xa=this.xa;b.af=this.af;return b};t.Gh=s("text");t.Kd=function(){return Eq(this).P};t.ie=function(){this.ta=this.Aa=this.pa=this.xa=k};t.bj=s(1);t.oe=function(){return this};
a.Eq=function(b){var c;if(!(c=b.Di)){c=b.U();var d=b.sa(),e=b.fa(),g=b.Ha();if(A&&!Fb(9)){var h=c,l=d,n=e,q=g,r=m;1==h.nodeType&&(l>h.childNodes.length&&rq.log(be,"Cannot have startOffset > startNode child count",i),l=h.childNodes[l],r=!l,h=l||h.lastChild||h,l=0);var w=sq(h);l&&w.move("character",l);h==n&&l==q?w.collapse(j):(r&&w.collapse(m),r=m,1==n.nodeType&&(q>n.childNodes.length&&rq.log(be,"Cannot have endOffset > endNode child count",i),n=(l=n.childNodes[q])||n.lastChild||n,q=0,r=!l),h=sq(n),
h.collapse(!r),q&&h.moveEnd("character",q),w.setEndPoint("EndToEnd",h));q=new qq(w,Rb(c));q.ta=c;q.Aa=d;q.pa=e;q.xa=g;c=q}else c=C?new yq(oq(c,d,e,g)):B?new pq(oq(c,d,e,g)):rb?new xq(oq(c,d,e,g)):new lq(oq(c,d,e,g));c=b.Di=c}return c};t.qc=function(){return Eq(this).qc()};t.U=function(){return this.ta||(this.ta=Eq(this).U())};t.sa=function(){return this.Aa!=k?this.Aa:this.Aa=Eq(this).sa()};t.fa=function(){return this.pa||(this.pa=Eq(this).fa())};t.Ha=function(){return this.xa!=k?this.xa:this.xa=Eq(this).Ha()};
t.Lh=p("af");t.og=function(b,c){var d=b.Gh();return"text"==d?Eq(this).og(Eq(b),c):"control"==d?(d=b.Ch(),(c?z.some:z.every)(d,function(b){return this.containsNode(b,c)},this)):m};t.Mf=u(62);t.isCollapsed=function(){return Eq(this).isCollapsed()};t.Gc=u(28);t.xg=u(24);t.Nd=u(44);t.Zc=function(){return new iq(this.U(),this.sa(),this.fa(),this.Ha())};t.select=function(){Eq(this).select(this.af)};t.Sc=u(3);t.insertNode=function(b,c){var d=Eq(this).insertNode(b,c);this.ie();return d};t.Xg=u(6);t.fz=function(){return new Fq(this)};
t.collapse=function(b){b=this.Lh()?!b:b;this.Di&&this.Di.collapse(b);b?(this.pa=this.ta,this.xa=this.Aa):(this.ta=this.pa,this.Aa=this.xa);this.af=m};a.Fq=function(b){this.gB=cq(b);this.xJ=b.Lh()?b.Ha():b.sa();this.YC=dq(b);this.AL=eq(b)};y(Fq,Xp);Fq.prototype.Tj=u(34);Fq.prototype.w=function(){Fq.n.w.call(this);this.YC=this.gB=k};a.Gq=function(){};y(Gq,hq);a.Hq=function(b){var c=new Gq;c.P=b;return c},a.Iq=function(b){for(var c=Rb(arguments[0]).body.createControlRange(),d=0,e=arguments.length;d<e;d++)c.addElement(arguments[d]);return Hq(c)};t=Gq.prototype;t.P=k;t.Ua=k;t.Xo=k;t.ie=function(){this.Xo=this.Ua=k};t.clone=function(){return Iq.apply(this,this.Ch())};t.Gh=s("control");t.Kd=function(){return this.P||document.body.createControlRange()};t.bj=function(){return this.P?this.P.length:0};
t.oe=function(b){b=this.P.item(b);return Bq(kq(b),i)};t.qc=function(){return wc.apply(k,this.Ch())};t.U=function(){return Jq(this)[0]};t.sa=s(0);t.fa=function(){var b=Jq(this),c=z.Qd(b);return z.find(b,function(b){return sc(b,c)})};t.Ha=function(){return this.fa().childNodes.length};t.Ch=function(){if(!this.Ua&&(this.Ua=[],this.P))for(var b=0;b<this.P.length;b++)this.Ua.push(this.P.item(b));return this.Ua};
a.Jq=function(b){b.Xo||(b.Xo=b.Ch().concat(),b.Xo.sort(function(b,d){return b.sourceIndex-d.sourceIndex}));return b.Xo};t.Mf=u(61);t.isCollapsed=function(){return!this.P||!this.P.length};t.Gc=u(27);t.xg=u(23);t.Nd=u(43);t.Zc=function(){return new Kq(this)};t.select=function(){this.P&&this.P.select()};t.Sc=u(2);t.Wf=u(37);t.fz=function(){return new Lq(this)};t.collapse=function(){this.P=k;this.ie()};a.Lq=function(b){this.Ua=b.Ch()};y(Lq,Xp);Lq.prototype.Tj=u(33);
Lq.prototype.w=function(){Lq.n.w.call(this);delete this.Ua};a.Kq=function(b){b&&(this.Ua=Jq(b),this.ta=this.Ua.shift(),this.pa=z.Qd(this.Ua)||this.ta);Zp.call(this,this.ta,m,j)};y(Kq,gq);t=Kq.prototype;t.ta=k;t.pa=k;t.Ua=k;t.aj=u(54);t.Zi=u(40);t.U=p("ta");t.fa=p("pa");t.On=function(){return!this.depth&&!this.Ua.length};t.next=function(){this.On()&&f(P.Ya);if(!this.depth){var b=this.Ua.shift();this.Vc(b,1,1);return b}return Kq.n.next.call(this)};
t.qg=function(b){this.Ua=b.Ua;this.ta=b.ta;this.pa=b.pa;Kq.n.qg.call(this,b)};t.clone=function(){var b=new Kq(k);b.qg(this);return b};a.Mq=function(){this.Ke=[];this.Vl=[];this.zq=this.nm=k};y(Mq,hq);t=Mq.prototype;t.Ca=ke("goog.dom.MultiRange");t.ie=function(){this.Vl=[];this.zq=this.nm=k};t.clone=function(){var b=new Mq;b.Ke=z.clone(this.Ke);return b};t.Gh=s("mutli");t.Kd=function(){1<this.Ke.length&&this.Ca.jk("getBrowserRangeObject called on MultiRange with more than 1 range");return this.Ke[0]};t.bj=function(){return this.Ke.length};t.oe=function(b){this.Vl[b]||(this.Vl[b]=Bq(zq(this.Ke[b]),i));return this.Vl[b]};
t.qc=function(){if(!this.zq){for(var b=[],c=0,d=this.bj();c<d;c++)b.push(this.oe(c).qc());this.zq=wc.apply(k,b)}return this.zq};a.Nq=function(b){b.nm||(b.nm=bq(b),b.nm.sort(function(b,d){var e=b.U(),g=b.sa(),h=d.U(),l=d.sa();return e==h&&g==l?0:Cq(e,g,h,l)?1:-1}));return b.nm};t.U=function(){return Nq(this)[0].U()};t.sa=function(){return Nq(this)[0].sa()};t.fa=function(){return z.Qd(Nq(this)).fa()};t.Ha=function(){return z.Qd(Nq(this)).Ha()};t.Mf=u(60);
t.isCollapsed=function(){return 0==this.Ke.length||1==this.Ke.length&&this.oe(0).isCollapsed()};t.Gc=u(26);t.xg=u(22);t.Nd=u(42);t.Zc=function(){return new Oq(this)};t.select=function(){var b=aq(this.Oa());b.removeAllRanges();for(var c=0,d=this.bj();c<d;c++)b.addRange(this.oe(c).Kd())};t.Sc=u(1);t.fz=function(){return new Pq(this)};t.collapse=function(b){if(!this.isCollapsed()){var c=b?this.oe(0):this.oe(this.bj()-1);this.ie();c.collapse(b);this.Vl=[c];this.nm=[c];this.Ke=[c.Kd()]}};
a.Pq=function(b){this.hz=z.map(bq(b),function(b){return b.fz()})};y(Pq,Xp);Pq.prototype.Tj=u(32);Pq.prototype.w=function(){Pq.n.w.call(this);z.forEach(this.hz,function(b){b.G()});delete this.hz};a.Oq=function(b){b&&(this.Nf=z.map(Nq(b),function(b){return P.Xc(b)}));b=b?this.U():k;Zp.call(this,b,m,j)};y(Oq,gq);t=Oq.prototype;t.Nf=k;t.Mk=0;t.aj=u(53);t.Zi=u(39);t.U=function(){return this.Nf[0].U()};t.fa=function(){return z.Qd(this.Nf).fa()};t.On=function(){return this.Nf[this.Mk].On()};
t.next=function(){try{var b=this.Nf[this.Mk],c=b.next();this.Vc(b.ba,b.Zb,b.depth);return c}catch(d){return(d!==P.Ya||this.Nf.length-1==this.Mk)&&f(d),this.Mk++,this.next()}};t.qg=function(b){this.Nf=z.clone(b.Nf);Oq.n.qg.call(this,b)};t.clone=function(){var b=new Oq(k);b.qg(this);return b};a.Rq=function(b){return(b=aq(b||window))&&Qq(b)},a.Qq=function(b){var c,d=m;if(b.createRange)try{c=b.createRange()}catch(e){return k}else if(b.rangeCount){if(1<b.rangeCount){c=new Mq;for(var d=0,g=b.rangeCount;d<g;d++)c.Ke.push(b.getRangeAt(d));return c}c=b.getRangeAt(0);d=Cq(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset)}else return k;return Sq(c,d)},a.Sq=function(b,c){return b&&b.addElement?Hq(b):Bq(zq(b),c)},a.fq=function(b){return Bq(kq(b),i)},a.Tq=function(b,c){return Dq(b,c,b,c)},a.Cq=
function(b,c,d,e){if(b==d)return e<c;var g;if(1==b.nodeType&&c)if(g=b.childNodes[c])b=g,c=0;else if(sc(b,d))return j;if(1==d.nodeType&&e)if(g=d.childNodes[e])d=g,e=0;else if(sc(d,b))return m;return 0<(vc(b,d)||c-e)};a.Uq=function(b){return(b=b.exec(nb()))?b[1]:""},a.Vq=function(){if(Lg)return Uq(/Firefox\/([0-9.]+)/);if(A||rb)return xb;if(Qg)return Uq(/Chrome\/([0-9.]+)/);if(Rg)return Uq(/Version\/([0-9.]+)/);if(Ng||Og){var b=/Version\/(\S+).*Mobile\/(\S+)/.exec(nb());if(b)return b[1]+"."+b[2]}else{if(Pg)return(b=Uq(/Android\s+([0-9.]+)/))?b:Uq(/Version\/([0-9.]+)/);if(Mg)return Uq(/Camino\/([0-9.]+)/)}return""}();a.Wq=A&&!Fb(9),a.Xq=B||C||rb||A&&Fb(9),a.Yq=C||m,a.Zq=A||C||rb,a.$q=B||C;C&&D("534.16");a.ar=B&&j,a.br=B||C||rb,a.cr=B||rb;A&&D("7.0");a.dr=B&&D("1.8")||C||rb,a.er=C||A&&D("9");A||rb||B&&D("1.9");a.fr=B||C&&!D("527"),a.gr=A||rb,a.hr=A||C&&D("525"),a.ir=C&&!D("531"),a.jr=C&&!D("528");B&&D("1.9")||A||rb||C&&D("531");a.kr=A||B||rb,a.lr=B||C&&!D("526"),a.mr=A||rb,a.nr=!A&&!rb,a.or=!C;Qg&&0<=bb(Vq,"4")||Rg&&D("533")||B&&D("2.0")||A&&D("10");a.pr=rb&&D("11.10");Qg&&bb(Vq,"12");a.qr=H.sh("ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DETAILS","DIR","DIV","DL","DD","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","ISINDEX","OL","LI","MAP","MENU","NAV","OPTGROUP","OPTION","P","PRE","SECTION","SUMMARY","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"),a.rr=H.sh("IMG","IFRAME","EMBED");a.sr=H.sh("text","file","url");a.ur=function(b,c){var d=b?Sb(b):c;T.call(this,d);this.MQ=b||this.K().Ba().body;this.By={};tr.push(this);this.gt=j};y(ur,T);a.vr=0,a.tr=[];ur.prototype.Sd=k;ur.prototype.fl=m;ur.prototype.Fs=0;a.wr=A?"styleFloat":"cssFloat",a.xr=["position","top","left","width",wr],a.yr=["position","top","left","display",wr,"marginTop","marginLeft","marginRight","marginBottom"];t=ur.prototype;t.v=function(){ur.n.v.call(this);this.ca(this.m())};t.ca=function(b){ur.n.ca.call(this,b);E.add(b,"goog-scrollfloater")};
t.B=function(){ur.n.B.call(this);this.Iu=yg(document.body).top-2;this.Sd||(this.Sd=this.K().v("div",{style:"visibility:hidden"}));this.Fs=eg(this.m()).y;zr(this,this.gt);var b=this.dp=new Tn(this.pp,150,this);this.h().e(window,"scroll",b.fire,m,b);this.h().e(window,"resize",Wk(150,this.Ow))};t.w=function(){ur.n.w.call(this);z.remove(tr,this);this.dp.G();this.ux&&(vr-=this.dC);delete this.Sd};a.zr=function(b,c){(b.gt=c)?b.pp():Ar(b)};
t.pp=function(){this.gt&&(Lc(this.K()).y+this.Iu>this.Fs?Br(this):Ar(this))};a.Br=function(b){if(!b.fl){var c=b.m(),d=eg(c).x,e=vg(c).width;b.By={};H.forEach(xr,function(b){this.By[b]=c.style[b]},b);H.forEach(yr,function(b){this.Sd.style[b]=c.style[b]||Xf(c,b)||Wf(c,b)},b);ng(b.Sd,c.offsetWidth,c.offsetHeight);Uf(c,{left:d+"px",width:e+"px",cssFloat:"none"});c.parentNode.replaceChild(b.Sd,c);b.MQ.appendChild(c);c.style.position="fixed";b.zo();E.add(c,"goog-scrollfloater-floating");b.fl=j}};
t.zo=function(){var b=this.m(),c=this.Iu;!this.ux&&0<vr&&(c+=vr);b.style.top=c+"px"};a.Ar=function(b){if(b.fl){var c=b.m();H.forEach(b.By,function(b,e){c.style[e]=b});b.Sd.parentNode.replaceChild(c,b.Sd);E.remove(c,"goog-scrollfloater-floating");b.fl=m}};t.Ow=function(){Ar(this);this.Fs=eg(this.m()).y;this.pp()};a.Cr=function(b,c,d){ur.call(this,b,d);this.hR=c;this.Zg="";this.Ey=100};y(Cr,ur);
Cr.prototype.pp=function(){var b,c=this.Zg;b=c&&z.find(tr,function(b){return c===b.Zg&&b.fl});if(this.gt&&(!b||b===this)){b=this.hR.getBoundingClientRect();var d=this.Iu+vr,e=d+this.Ey;b.top<d&&b.bottom>e?Br(this):Ar(this)}};a.Dr=function(){};ia(Dr);
Dr.prototype.rg=function(b,c,d){function e(){var e=window.ZH.createRichTextEditor(b,c),g=e[0],e=e[1];d&&d(g,e)}var g=yf.O(),h=g.gd.rich_text_editor;h.Od()?(g.Ca.info("rich_text_editor module already loaded"),g=new tf(e,i),window.setTimeout(v(g.execute,g),0)):Bf(g,"rich_text_editor")?(g.Ca.info("rich_text_editor module already loading"),h.Ts(e,i)):(g.Ca.info("Registering callback for module: rich_text_editor"),h.Ts(e,i),g.Ca.info("Initiating module load: rich_text_editor"),Ef(g,["rich_text_editor"]))};a.Er=function(b,c){this.J=$(b);this.F=$.extend({},this.defaults,c||{});this.kg()};Er.prototype.defaults={DR:[],az:[],oK:j};a.Fr="data-tip class style id bgcolor color size width height".split(" ");
Er.prototype.kg=function(){var b=this;if(this.F.oK)this.J.on("paste",function(){setTimeout(function(){var c=b.F,d=c.DR,e=c.az,g={id:function(b,c){b.id&&!z.contains(d,b.id)&&b.removeAttribute(c)},"class":function(b,c){if(b.className)if(e.length){var d=E.get(b),d=z.filter(d,rf(xa(z.contains,e)));d.length&&E.remove.apply(k,[b].concat(d))}else b.removeAttribute(c)}};$("*",b.J).each(function(){var b=this;$.each(Fr,function(c,d){var e=g&&H.get(g,d);e?e(b,d):b.removeAttribute(d)})})})})};a.Gr=function(b){this.F=$.extend(j,{},this.defaults,b||{});this.Qu();this.Cg()};y(Gr,Gd);t=Gr.prototype;t.defaults={ym:{Ae:6,content:"",method:"GET",source:"/people/autocomplete"},SQ:"mention-popup",Kj:document.body,WA:"activated"};t.Qu=function(){var b=this.g=fc(this.kT);this.uo=b.getElementsByTagName("input")[0];b.className=this.F.SQ;b.style.display="none";this.F.Kj.appendChild(b)};t.qc=function(){return this.F.Kj};t.kT='<div><div class="writing-bg"><input></div><div class="tip">想用 @ 提到谁？</div></div>';
t.template=Qk('<% if (data.id) { %><img class="avatar" src="<%=avatar%>"><div class="body"><span class="name"><%=label%></span><span class="bio"><%=headline%></span></div><% } %>');t.nb=function(){return sg(this.g)};t.open=function(){this.nb()||(R(this.g,j),this.uo.focus(),this.kg(),this.dispatchEvent("open"))};t.close=function(){this.nb()&&(R(this.g,m),E.remove(this.g,this.F.WA),this.uo.value="",this.uo.blur(),this.qv(),this.dispatchEvent("close"))};
a.Hr=function(b,c){b.close();b.dispatchEvent({type:"cancel",data:{originalEvent:c}})};t.LF=function(b){this.nb()&&!sc(this.g,b.target)&&Hr(this,b)};t.po=function(b){var c=b.keyCode,d=this.uo;if(27===c||d===b.target&&""===d.value&&(8===c||32===c))Hr(this,b),b.preventDefault(),b.stopPropagation()};t.kg=function(){O(document,"click",this.LF,m,this);O(this.g,"keydown",this.po,m,this)};t.qv=function(){xd(document,"click",this.LF,m,this);xd(this.g,"keydown",this.po,m,this)};
t.Cg=function(){var b=this,c=this.F.ym,d=new Lp(this.uo,{Rj:this.g,Ae:c.Ae,source:c.source,select:function(c){setTimeout(function(){b.close();b.dispatchEvent({type:"select",data:{RQ:c}})});return""},Tc:function(c,d,h){h.innerHTML=b.template(c.data)}});d.qz(c.method);d.Ea(c.content);d.addEventListener("suggestionsupdate",function(){E.enable(this.g,this.F.WA,d.nb())},m,this);this.Y=d};t.position=function(b){ag(this.g,b)};t.Ce=u(48);a.Ir=function(b,c){this.input=b;H.extend(this.F={},this.defaults,c||{});this.Xh=new Gr({ym:this.F.ym,Kj:this.F.Kj});this.kg()};y(Ir,Gd);a.Jr=!!window.getSelection;Ir.prototype.defaults={ym:{},Kj:document.body,vj:"member_mention",Er:"mention-holder",position:function(b,c){b.x+=c.width+7;b.y-=5;A&&7<xb&&(b.y+=c.height/2-9)}};a.Kr=H.Ka({ZU:"member_mention"});Ir.prototype.m=p("input");
a.Lr=function(b){var b=K(b.F.Er,b.input),c;if(b)return c=document.createTextNode("@"),mc(c,b),c},a.Mr=function(b,c){var d;B&&(d=$b(document),b.input.focus(),window.scrollTo(d.x,d.y));var e;Jr?(d=window.getSelection(),e=document.createRange(),e.setStartAfter(c),d.removeAllRanges(),d.addRange(e)):3===c.nodeType&&Tq(c,c.length).select()};
Ir.prototype.kg=function(){var b=this.Xh;O(b,"cancel",function(b){var d=Lr(this),b=b.data.originalEvent;d&&"click"!==b.type&&("keydown"===b.type&&32===b.keyCode&&(d=d.parentNode.insertBefore(document.createTextNode(" "),d.nextSibling)),Mr(this,d))},m,this);O(b,"select",function(b){var d=b.data.RQ,b=K(this.F.Er,this.input),d=this.Cq(d),e=b.previousSibling,g=document.createTextNode(" ");mc(d,b);kc(g,d);e&&(3===e.nodeType&&!Fa(Fc(e)," "))&&jc(document.createTextNode(" "),d);Mr(this,g)},m,this);O(this.input,
"click",function(){b.nb()&&Lr(this)},m,this);O(this.input,"keydown",function(b){var d;if(8===b.keyCode&&(d=Rq())){var b=d.U(),e=d.fa(),g=d.sa();d=d.Ha();var h=m;Nr(b.parentNode)&&(g=0,h=j);Nr(e.parentNode)&&(d=e.length,h=j);h&&Dq(b,g,e,d).select()}},m,this);O(this.input,kb||Ng||Og?"keypress":"keyup",function(b){function d(b,c){if(3!==b.nodeType||"@"===b.nodeValue&&b.previousSibling&&"A"===b.previousSibling.nodeName||b.parentNode&&"A"===b.parentNode.nodeName)return m;var d=b.nodeValue,e=c-1;if("@"!==
d.slice(e,e+1))return m;var g=d;0<=e&&e<d.length&&(g=d.substr(0,e)+d.substr(e+1,d.length-e-1));b.nodeValue=g;return j}if(!("keypress"===b.type&&"@"!==String.fromCharCode(b.charCode))){var e,g,h,l;if("keyup"===b.type){if(50!==b.keyCode)return;if(Jr){e=window.getSelection();h=e.anchorNode;l=e.anchorOffset;if(!d(h,l))return;C&&!h.nextSibling&&(h.nodeValue+=" ");g=document.createRange();e.removeAllRanges();g.setStart(h,l-1);g.setEnd(h,l-1);e.addRange(g)}else{g=Sq(document.selection.createRange());h=cq(g);
l=g.sa();if(!d(h,l))return;Tq(h,l-1).select()}}this.At(b)}},m,this)};
Ir.prototype.At=function(b){var c=this,d=this.Xh;if(!d.nb()){var e=function(d){return!(d&&"A"===d.nodeName)&&d.className!==c.F.vj?(b&&b.preventDefault(),j):m};if(Jr){var g=window.getSelection();if(e(g.anchorNode.parentNode)){var e=g.getRangeAt(0),h=Or(c);e.insertNode(h);e.selectNode(h);g.removeAllRanges();g.addRange(e);e=Pr(c,window.getSelection().getRangeAt(0));d.position(e);d.open()}}else g=document.selection.createRange(),h=g.parentElement(),e(h)&&(g.pasteHTML(Or(c).outerHTML),g.moveToElementText(K(c.F.Er,
c.input)),g.select(),e=Pr(c,g),"7.0"===xb&&(e.x-=2),d.position(e),d.open())}};a.Pr=function(b,c){var d;d=c.getBoundingClientRect();var e;A&&(e={width:c.boundingWidth,height:c.boundingHeight},ya(e,d),d=e);e=$b(document);var g=eg(b.Xh.qc());g.x=d.left-g.x+e.x;g.y=d.top-g.y+e.y;b.F.position.call(b,g,d);return g},a.Nr=function(b){return b&&1===b.nodeType&&"A"===b.tagName&&z.contains(Kr,b.className)};
Ir.prototype.Cq=function(b,c){return L("a",{"data-hash":b.id,href:"/people/"+b.url_token,className:c||this.F.vj,innerHTML:"@"+b.label})};a.Or=function(b){return L("a",{className:b.F.Er,innerHTML:"@"})};a.Qr=function(b,c,d,e){T.call(this);this.status=this.Gb=k;this.EE=b;this.PO=e||0;this.SG=c;this.Gq=d;this.isEnabled=j;this.aD=m;this.params=[];this.content=k;this.nX=this.PO?j:m;this.Qt=m;this.mC=$.Deferred()};y(Qr,T);t=Qr.prototype;t.w=function(){this.Ia=k;Qr.n.w.call(this)};
t.ca=function(b){Qr.n.ca.call(this,b);var c=b.getAttribute("data-resourceid");c&&(this.ER=b.getAttribute("data-action"),this.Bo=c);this.status||(this.status="normal");b=this.K();if(!this.$c&&(this.$c=b.Yi("zm-editable-content",this.g))&&"1"===this.$c.getAttribute("data-disabled"))this.disabled=j;this.Ob?this.Gb&&(this.Ob.innerHTML=this.Gb):(this.Ob=b.Yi("zm-editable-tip",this.g),this.Gb&&!this.Ob&&(this.Ob=b.v("div","zm-editable-tip"),this.Ob.innerHTML=this.Gb,b.Jn(this.Ob,this.$c)));this.Ab=b.Yi("zm-editable-editor-wrap",
this.g);this.content=Ma(this.content||this.Qt?Fc(this.$c):this.$c.innerHTML);this.he();Rr(this)};t.v=function(){var b=this.K(),b=b.v("div","zm-editable-item-wrap",[this.Ob=b.v("div","zm-editable-tip"),this.$c=b.v("div","zm-editable-content",this.content)]);this.ca(b)};t.B=function(){Qr.n.B.call(this);this.h().e(this.$c,"click",this.ra);this.Ob&&this.h().e(this.Ob,"click",this.ra)};t.Ea=function(b){this.content=b;Rr(this)};
t.ra=function(b){var c=Jk(this.g,b.target),d=this.K();if(!c||!c.name)return b=d.KL(b.target,"div","zm-editable-tip-label"),this.isEnabled&&b&&this.mf(),j;b=c.name;switch(b){case "expand":Rr(this);break;case "collapse":Rr(this);break;case "edit":S.yi?this.dispatchEvent("beforeedit")!==m&&(this.z(),this.mf()):dl.O().D(j);this.dispatchEvent("click_edit");break;case "save":this.LD();break;case "cancel":this.dispatchEvent("cancel_edit");this.ii();break;default:return this.nr(b)}return j};
t.LD=function(){var b=Ak(this.If()),c=/<embed/i.test(b);if(/<img/i.test(b)||c||this.EE||(!b?0:(!b?"":b.replace(/<[^>]+>/g,"")).length))b===this.content&&!this.aD?(this.dispatchEvent("save_unchanged"),this.ii()):(this.dispatchEvent("save_changed"),this.ff(b))};t.ff=function(b){if(!this.ga||!this.ga.Wb())if(this.Gq&&this.SG){this.ga=new V(j);oe(this.h(),this.ga,"success",this.cB);var c=new jj(this.params.join("&"));c.add(this.Gq,b).add("field_name",this.Gq);this.ga.ajax(this.SG,c.toString())}else this.dispatchEvent("change")};
t.ii=function(){this.status="normal";this.he()};t.cB=function(){var b=Ie(this.ga);b&&(b.r?U(b.msg):(this.Ea(b.msg),this.ii(),this.dispatchEvent("saveSuccess"),this.dispatchEvent("change")))};t.$a=p("content");t.gr=u(0);t.isContentEditable=function(){return!this.Jd};t.If=function(){return Bk(Pa(this.Ia.value))};t.nr=function(b){this.dispatchEvent(b);return j};t.z=function(){this.xr||(this.xr=j,this.rg())};
t.Rr=function(){var b=this.Ia;if(b.m){var c=v(function(){this.CX=new Ir(b.m(),{Kj:this.Ti})},this);b.Od()?c():b.addEventListener("load",c)}};
t.rg=function(){var b=this.K();this.Ab?(this.Bc=b.Yi("zm-command",this.Ab),this.Ia=b.Yi("zm-editable-editor-input",this.Ab)):(this.Ab=b.v("div","zm-editable-editor-wrap clearfix",this.Ti=b.v("div","zm-editable-editor-outer",b.v("div","zm-editable-editor-inner zg-form-text-input",this.Ia=b.v("textarea","zm-editable-editor-input")))),b.nx(this.Ab,this.$c),this.rh());this.Ia&&(this.Ia.tagName&&"TEXTAREA"===this.Ia.tagName&&!this.tC)&&new al(this.Ia,66);this.oo()};t.ready=function(b){this.mC.done(b)};
t.oo=function(){this.h().e(this.Bc,"click",this.ra);this.Pt&&this.Rr();var b=this.Ia;if(b.m)b.on("load",function(){new Er(b.m(),{az:this.Pt?Kr:[]})},m,this);this.mC.resolveWith(this)};t.rh=function(){this.Bc=L("div","zm-command",[this.nq=L("a",{"class":"zm-command-cancel",name:"cancel",href:"javascript:;"},"取消"),this.Jk=L("a",{"class":"zg-r3px zg-btn-blue",name:"save",href:"javascript:;"},"保存")]);this.Ab.appendChild(this.Bc)};
t.he=function(){this.Fq&&E.remove(this.g,this.Fq);"editing"===this.status?(this.Ob&&R(this.Ob,m),this.Ab&&R(this.Ab,j),R(this.$c,m),this.Fq="zm-editable-status-editing"):(this.Ob&&(this.EE&&!this.content&&!this.disabled?R(this.Ob,j):R(this.Ob,m)),this.Ab&&R(this.Ab,m),this.content?R(this.$c,j):R(this.$c,m),this.Fq="zm-editable-status-normal");E.add(this.g,this.Fq)};t.mf=function(){this.Yq||(this.z(),this.ready(function(){this.status="editing";this.he();this.Lo()}))};
t.Lo=function(){if(this.Bo)this.Yq=j,this.Uv();else{var b=this.Ia,c;c=Za(this.content.replace(/<br \/>/g,"\n").replace(/<br>/g,"\n")).replace(/<a.*?href="(.*?)".*?<\/a>/g,"$1");b.value=c}};a.Rr=function(b){if(b.dispatchEvent("shouldUpdateContent")){var c=b.content,d=b.$c,e=b.lD();b.Qt?(xc(d,c),d.appendChild(fc(e))):d.innerHTML=c+e;$("img.lazy",d).lazyload({data_attribute:"actualsrc",threshold:400})}};
t.lD=function(){var b=[];this.disabled||b.push('<a href="javascript:;" class="zu-edit-button" name="edit"><i class="zu-edit-button-icon"></i>修改</a>');return b.join("")};t.Uv=function(){this.Yq||(this.Yq=j,Fi(this.ER+"?id="+this.Bo,v(function(b){this.Yq=m;b=Ie(b.target);b.r?U(b.msg):this.kt(b.msg)},this),"GET"))};t.kt=function(b){this.Ia.value=b};a.Sr=function(b,c,d,e){Qr.call(this,b,c,d,e);this.VO="mock"+this.Ld();this.Ev=m;this.mq=j;this.Jd=!Sg||Pg;this.Pt=m;this.SH=this.vT=j;this.Qx=""};y(Sr,Qr);t=Sr.prototype;t.kt=function(b){this.Jd?Sr.n.kt.call(this,b):(b||(b=B?"":"<div></div>"),this.Ia.yd(m,b,j))};t.Lo=function(){this.ready(function(){this.Bo?this.Uv():this.Jd?Sr.n.Lo.call(this):this.content?this.Ia.yd(m,this.content,m,j):this.Ia.yd(m,C?"<div><br></div>":"<div></div>",m,j)})};
t.w=function(){Tc(this.Ia);M(this.Ab);this.zp=this.FA=this.Ph=this.Yk=this.cA=this.Ti=this.Ab=k;Sr.n.w.call(this)};
t.rg=function(){if(this.Jd)Sr.n.rg.call(this);else{var b=this.K();this.Ab=b.v("div","zm-editable-editor-wrap",this.Ti=b.v("div","zm-editable-editor-outer",[this.cA=b.v("div","zm-editable-toolbar-container"),this.Yk=b.v("div","zm-editable-editor-field-wrap",this.Ph=b.v("div",{id:this.VO,className:"zm-editable-editor-field-element"}))]));this.FA=$(this.cA);this.zp=$(this.Ab);this.zp.hide();b.nx(this.Ab,this.$c);this.Bo||(this.Ph.innerHTML=this.content);b={loremIpsum_:this.Qx,enableFullScreen:this.Ev,
content:this.content,useScraper_:this.vT,canUploadMedia_:this.mq,useRemoveFormat_:this.SH};this.rh();Dr.O().rg(this.Ab,b,v(this.oo,this));sb||(this.bg=new Cr(k,this.Ti),this.bg.o(this.cA),zr(this.bg,m),Ar(this.bg),Rc(this,this.bg))}};
t.oo=function(b,c){if(this.Jd)Sr.n.oo.call(this);else{this.Ia=b;this.zp.show();Sr.n.oo.call(this);var d=b.Fh("FullScreenPlugin");if(d){var e=Mh(c,"toggleFullScreen");d.on("save",this.LD,m,this).on("willEnterFullScreen",function(){Tr(this,m)},m,this).on("enterFullScreen",function(){e.Kc("退出写作模式")}).on("exitFullScreen",function(){e.Kc("写作模式")}).on("shouldExitFullScreenOnEscape",function(){return!b.Bg})}if(d=b.Fh("CodePlugin"))d.aS(c),d.kg()}};
a.Tr=function(b,c){if(b.bg)if(c){E.add(b.Yk,"zm-editable-editor-field-wrap-active");var d=b.bg;d.Fs=eg(d.m()).y;zr(b.bg,j)}else E.remove(b.Yk,"zm-editable-editor-field-wrap-active"),zr(b.bg,m)};t.mf=function(){Sr.n.mf.call(this);this.ready(function(){!this.Jd&&!this.lL&&(this.lL=j,wd(this.Ia,"load",function(){var b=this.Ia,c=b.Fh("FullScreenPlugin");B&&(b=b.field);O(b,["focus","blur"],function(b){(!c||!c.tx())&&Tr(this,"focus"===b.type)},m,this)},m,this),this.Ia.ze())})};
t.If=function(){if(this.Jd)return Sr.n.If.call(this);var b=this.Ia,c=b.m();return(z.some(["img","embed"],function(b){return c.getElementsByTagName(b).length})?0:!pf(Bk,Ma,Fc)(c))?"":b.hl()};t.he=function(){Sr.n.he.call(this);this.bg&&zr(this.bg,"editing"===this.status)};a.Ur=function(b){b.FA.toggle();b.zp.toggleClass("no-toolbar")};a.Vr=function(){Wh.call(this,i,i,i);this.uC=j;this.tX=m;this.pX=j;this.FX=!!S[5];this.ey=S.ey;this.gS=-1===window.location.href.indexOf("psq");this.kH=this.uc=k};y(Vr,yi);ia(Vr);a.Wr=Zi.create("AddQuestionForm"+S.wd);t=Vr.prototype;
t.B=function(){Vr.n.B.call(this);var b=fc(Ma('<div class="zh-add-question-form"><div class="js-add-question-splash add-question-splash-page" ><p>知乎是一个真诚、友善、认真、互助的社区<br>我们希望每一个疑惑都有解答，好的问题更容易得到好答案 <a href="//www.zhihu.com/question/19555761">如何提一个好问题？</a></p><p><b>提问应遵循真实、客观、简洁、明确、规范的原则</b><br>1、提问应尽可能简洁明了，避免「请问」「有谁知道」「谢谢！」等与问题本身无关的附加语。<br>2、应避免使用「为神马」「童鞋」「肿么办」等网络用语。<br>3、基于个人判断或传言的问题，在提问时应在补充说明里详细说明原由<br>4、避免太宽泛问题，如调查性的问题容易变成每个人都可以发表观点，但对其他人没有价值。<br></p><p><b>知乎禁止这些提问</b><br>1、和已有问题完全重复的问题，<b>为避免重复，提问前可以先进行搜索</b><br>2、招聘 / 求职、交易 / 合作、寻人 / 征友、召集 / 赠送、求码类内容<br>3、投票类问题。例如：你支持方舟子还是韩寒？<br>4、作业或其他希望代为完成个人任务类的内容，以及针对个人具体病情的求医问药类问题<br>完整的提问建议可查看 <a href="//www.zhihu.com/question/19806261">知乎的提问规范有哪些？</a><br></p><div class="before-ask-form"><b>提问前请先搜索</b><div style="position:relative;margin-top:18px;"><input type="text" class="zg-form-text-input" id="js-before-ask" placeholder="请输入你的问题"></div></div></div><form class="js-add-question-form"><div class="zg-section-big clearfix"><div id="zm-modal-dialog-info-wrapper"></div><div style="display: none;position: relative;" id="zm-modal-dialog-warnmsg-wrapper"><div class="zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"></div><a name="close" title="关闭" href="javascript:;" class="zu-global-notify-close"  style="display:none">x</a><span class="zm-modal-dialog-guide-title-msg"></span></div><div class="zg-form-text-input add-question-title-form" style="position: relative;"><textarea class="zg-editor-input" title="在这里输入问题" id="zh-question-suggest-title-content"></textarea></div><span id="js-title-length-err-msg" class="title-length-err-msg zg-right"></span><div id="zh-question-suggest-ac-wrap" class="question-suggest-ac-wrap"></div></div><div class="zg-section-big"><div style="display: none;position: relative;" class="zm-modal-dialog-warnmsg-wrapper"><div class="zm-modal-dialog-warnmsg zm-modal-dialog-guide-warn-message zg-r5px"></div><a name="close" title="关闭" href="javascript:;" class="zu-global-notify-close" style="display:none">x</a><span class="zm-modal-dialog-guide-title-msg"></span></div><div class="add-question-section-title"><span class="zg-right extra-editor-toolbar hidden-phone"><div class="js-toggle-editor-toolbar"><i class="tr-inline-icon z-ico-textedit"></i></div><div class="js-editor-add-pic"><i class="tr-inline-icon tr-image"></i></div><div class="js-editor-add-video"><i class="tr-inline-icon tr-video"></i></div></span>问题说明（可选）：<span id="zh-question-form-detail-err"></span></div><div id="zh-question-suggest-detail-container"><div class="zm-editable-content" data-disabled="1"></div></div></div><div class="zm-add-question-form-topic-wrap"><div class="add-question-section-title"><span class="zg-gray zg-right hidden-phone">话题越精准，越容易让领域专业人士看到你的问题</span>选择话题：<span id="zh-question-form-tag-err"></span></div><div id="zh-question-suggest-topic-container" class="zm-tag-editor zg-section"><div class="zm-tag-editor-labels"></div><div id="zh-question-suggest-autocomplete-container"></div></div></div><div class="zm-command"><label class="zm-question-form-hide-in-about-question-el zg-left"><input type="checkbox" value="1" class="zg-addq-isanon">匿名<span class="zm-question-form-split">&nbsp;</span></label><div class="zg-left zm-add-question-form-sns-wrap"><span>分享到</span></div><a href="javascript:;" name="cancel" class="zm-command-cancel">取消</a><a href="javascript:;" name="addq" class="zg-r5px zu-question-form-add zg-btn-blue">发布</a><a name="jumpq" class="zg-r5px zg-btn-blue zu-question-form-jump" style="display:none;">查看问题</a></div></form></div>'));this.X().appendChild(b);
this.Qc=Vb("zg-editor-input",this.g)[0];this.iq=K("zu-question-form-add",this.g);this.Mm=K("zu-question-form-jump",this.g);this.co=J("zm-modal-dialog-warnmsg-wrapper");this.fs=J("js-title-length-err-msg");this.Sy=K("zm-modal-dialog-warnmsg-wrapper",this.g);this.sC=J("zh-question-form-detail-err");this.Uz=J("zh-question-form-tag-err");this.tK=K("zu-global-notify-close",this.co);this.fT=K("zu-global-notify-close",this.Sy);this.IN=J("zm-modal-dialog-info-wrapper");this.us=K("zm-modal-dialog-warnmsg",
this.co);this.WX=K("zm-modal-dialog-warnmsg",this.Sy);this.Rm=K("zg-addq-isanon",this.g);this.$S=K("js-toggle-editor-toolbar",this.g);this.dJ=K("js-editor-add-pic",this.g);this.eJ=K("js-editor-add-video",this.g);this.yS=K("js-add-question-splash",this.g);this.KO=K("js-add-question-form",this.g);this.uB=J("js-before-ask");this.bL=J("zh-question-suggest-detail-container");this.eT=J("zh-question-suggest-topic-container");this.hx();this.ey?(Xr(this,j),this.ex()):(this.Dn(),Xr(this,m))};
a.Yr=function(b,c){b.Qc&&(b.Qc.value=c,b.$F(),b.xG.Ot(),b.Na&&b.Na.kA())};t.show=sn(function(b){this.F=$.extend({eA:k,Cs:k},b||{});this.D(j)},j);t.Jl=function(){Vr.n.Jl.call(this);this.F={}};t.hx=function(){this.Ma("提问");this.Ug(550);hi(this,k);this.J=$(this.g);this.J.addClass("absolute-position");this.D(j);this.ha()};
t.Nx=function(){var b=this,c=Wr.get("add_question_form_title");c&&Yr(this,c);var d=Wr.get("add_question_form_des");if(d){var e=this.xb;setTimeout(function(){e.Ea(d);e.Lo()})}c=this.F.eA;c||(c=Wr.get("add_question_form_topics"))&&(c=JSON.parse(c));c&&z.forEach(c,function(c){b.Na.Xj(c)})};
t.Dn=xk(function(){function b(){var b=$('<div><div style="text-align:center"><i class="spinner-gray"></i></div></div>'),c=this.dn,c=$(c&&sg(c)?c:this.wh),d=c.data("answer_count"),e=c.data("url_token");$.get("/question/"+e+"/answers/summary").done(function(c){if(c&&!c.r){var c=l({forEach:z.forEach,answers:c.msg,question_url_token:e}),g=Ga('<div class="zippy-row"><a class="zg-link-litblue" href="/question/%s">查看该问题%s</a></div>',e,0<d?"的全部 "+d+" 个回答":"");b.html(c+g)}else U(c.msg)});c.after(b);return b.get(0)}
var c=this;this.Na=new Vp;this.Na.o(this.eT);this.h().e(this.Na,["add_tag","remove_tag"],this.YF);new Zl(this.Qc,"写下你的问题");var d=this.bL;this.xb=new Sr;this.xb.Qx='<span style="font-style: normal;color: #999;">问题背景、条件等详细信息</span>';this.xb.o(d);this.xb.z();this.xb.mf();(!sb||Og)&&Ur(this.xb);setTimeout(function(){c.ha()});this.h().e(this.Rm,"click",this.yJ);Dp.O().refresh();var d=K("zm-add-question-form-sns-wrap",this.g),e=new xp;e.W(d);E.add(e.m(),"icon sina");e.m().title="分享到新浪微博";e.m().setAttribute("data-tip",
"s$b$分享到新浪微博");e.UJ="/oauth/auth/sina?next=/oauth/callback";this.h().e(e,"change",this.fQ);this.uc=e;if(!sb||Og)d=zp.O(),e=new pp("",d),lp(e,32,m),this.h().e(e,"action",this.zP),e.o(this.$S),e.Kc("切换工具栏"),e=new pp("",d),lp(e,32,m),this.h().e(e,"action",function(){this.xb.Ia.execCommand("image")}),e.o(this.dJ),e.Kc("添加图片"),d=new pp("",d),lp(d,32,m),this.h().e(d,"action",function(){this.xb.Ia.execCommand("video")}),d.o(this.eJ),d.Kc("添加视频");var g=this,h=Qk(g.fk.vG),l=Qk(g.fk.DJ),d=g.Qc,e=new Pp;g.SA=
new Lp(d,{source:"/question/autocomplete",Rj:J("zh-question-suggest-ac-wrap"),Tc:$.noop,W:function(c,d,e){g.UA&&g.UA.G();var d=$(c.m()),l=g.UA=new Kp;d.html(h({forEach:z.forEach,questions:e,token:encodeURIComponent(this.Pb)}));d.prepend('<div class="ac-head zg-gray">你的问题可能已经有答案</div>');$(".ac-row",d).each(function(){l.Fa(new Bp($(this).get(0),b,m))});l.o(c.m())},mx:e});this.fb();this.Nx()});t.fk={};t.fk.vG='<% forEach(questions, function(q, i) { q = q.data; %><div class="ac-row" data-url_token="<%=q.url_token%>" data-answer_count="<%=q.answer_count%>"><% if (q.is_star) { %><a class="zg-star" data-tip="s$b$优质问答" href="/question/<%=q.url_token%>"></a><% } %><a class="zippy-indicator"><i></i></a><a style="color:#222" href="/question/<%=q.url_token%>?q=<%= token %>"><%- q.title%></a><span class="zm-ac-gray"> <%= parseInt(q.answer_count) > 0 ? q.answer_count + " 个回答" : "还没有回答" %> </span></div><% }) %>';
t.fk.DJ='<% forEach(answers, function(a, i) { %><div class="zippy-row"><div class="summary-item"><a class="inline-block zm-item-vote-count" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>"><%=a.vote_count%></a><% if (a.author.url_token) { %><a class="inline-block" href="/people/<%=a.author.url_token%>"><span class="author"><%-a.author.name%></span> </a><% } else { %><span class="inline-block anon-author"><%-a.author.name%></span> <% } %><span class="inline-block summary ellipsis"><%=a.summary_text%></span><a class="inline-block" href="/question/<%=question_url_token%>/answer/<%=a.url_token%>">阅读全部 »</a></div></div><% }) %>';
t.ex=function(){function b(){Xr(c,m);c.Qc.value=e.value}var c=this,d=Qk(this.fk.vG),e=this.uB,g=new Pp;this.$I=new Lp(e,{source:"/question/autocomplete",Rj:e.offsetParent,Tc:ba(),W:function(c,g,n){c=$(c.m());c.html(d({forEach:z.forEach,questions:n,token:encodeURIComponent(this.Pb)}));0<n.length&&c.prepend('<div class="ac-row ac-first"><b>你想问的是不是：</b></div>').append($('<div class="ac-row ac-last iwanttoask"><a href="#">不是，我要提一个新问题 »</a></div>'));0===n.length&&e.value&&(c.html('<div class="ac-row ac-last iwanttoask"><a href="#">没有找到相关问题，马上提问 »</a></div>').show(),
n.push("fake row"));c.off("click").on("click",".iwanttoask",b)},mx:g});this.$I.Dm=m};a.Xr=function(b,c){$(b.yS).toggle(!!c);$(b.KO).toggle(!c);c?b.uB.focus():(b.Dn(),b.Qc.focus());b.ha()};t.fQ=function(b){b=b.target;b===this.uc&&!this.kH&&(window.open(b.UJ),b.Uc(m))};t.yJ=function(){var b=K("zm-add-question-form-sns-wrap"),c=K("zm-question-form-split"),d=this.Rm.checked;R(b,!d);R(c,!d)};a.Zr=function(b,c,d){"title"===d?b.rO=c:"detail"===d?b.fO=c:b.tO=c;b.uC=b.rO||b.fO||b.tO};
t.fb=function(){this.h().e(this.g,"click",this.eM);this.AO&&this.AO.o(this.Qc);this.xG=new al(this.Qc,22);this.h().e(this.xG,"change",this.$F);this.h().e(this.tK,"click",function(){R(this.co,m);R(this.IN,j)});this.h().e(this.fT,"click",function(){R(this.Sy,m)});this.h().e(Y,"sina_callback",this.Bs);this.h().e(this,"afterhide",function(){this.et()});this.Gv()};t.Gv=function(){$(window).on("beforeunload.AddQuestionForm",v(function(){this.et()},this))};t.yv=function(){$(window).off("beforeunload.AddQuestionForm")};
t.Bs=function(b){var c={id:b.tc.id,name:b.tc.name};"sina_callback"===b.type&&(this.kH=c,this.uc.Uc(m))};t.et=function(){this.Qc.value&&Wr.Td("add_question_form_title",this.Qc.value);var b=this.xb.If();b&&Wr.Td("add_question_form_des",b);(b=this.Na.data)&&Wr.Td("add_question_form_topics",JSON.stringify(b))};t.Yu=function(){Wr.clear()};t.eM=function(b){if(b=Jk(this.g,b.target))switch(b=b.name,b){case "expand":E.add(this.g,"zg-qform-expanded");break;default:this.nr(b)}};
t.Lj=function(){if(!this.Oy){this.Oy=j;setTimeout(v(function(){this.Oy=m},this),3E4);this.xhr=new V(j);oe(this.h(),this.xhr,"success",this.Cs);this.xhr.ajax("/question/add",$r(this).dd());var b=this.Na;if(b.ap){var c=0,d=b.data.length;z.forEach(b.data,function(b){z.forEach(this.ap,function(d){b[1]===d[1]&&c++},this)},b);Y.Z({type:"ga_click_add_question",data:{At:c,total:d}})}}};
t.Cs=function(){this.Oy=m;var b=Ie(this.xhr);if(b)if(b.r)if(281===b.errcode){var c=new as;c.le=b.msg;c.gc=3;bs(this,c,j)}else U(b.msg);else $i.Td("__Q_ISNEWLYCREATED__","yep"),this.Yu(),this.yv(),b=b.msg,c=b.match(/\/question\/(\d+)/)[1],this.F.Cs?this.F.Cs({url:b,lb:c}):location.href=b;else U("网络异常")};
t.nr=function(b){if("cancel"===b)this.D(m);else if("addq"===b){var b=cs(this),c=ds(this);if(!(1<c.gc)&&!(1<b.gc)){var d=es(this),e=new as;3E3<Lk(d)?(e.gc=3,e.le="请控制在 3000 字以下"):e.gc=0;d=1<e.gc;this.sC.innerHTML=e.le;R(this.sC,d);Zr(this,d,"detail");this.YF()}Zr(this,1<c.gc||1<b.gc,"title");this.uC?bs(this,1<b.gc?b:c,j):this.Lj()}};a.bs=function(b,c,d){b.us.innerHTML=c.le;0===c.gc?R(b.co,m):(3!==c.gc&&(R(b.iq,j),R(b.Mm,m)),R(b.co,d),d&&b.Qc.focus())};
t.$F=function(){var b=cs(this),c=ds(this);"toolong"===b.name||"buffer"===b.name?(this.fs.innerHTML=b.le,R(this.fs,j)):(this.fs.innerHTML=b.le,R(this.fs,m));"multiquestionmark"===c.name||"duplicatedquestion"===c.name?bs(this,c,j):bs(this,c,m);Zr(this,1<c.gc,"title")};
a.ds=function(b){var c=Ak(b.Qc.value).replace(/？/g,"?"),d;var e="#";d=b.Un||new as;var g=m;if(b.SA&&b.gS){var h=b.SA.cb;h&&h.length?(z.forEach(h,function(b){4<b.raw.length&&1===+b.raw[4]&&(g=j,e="/question/"+b.url_token+"?q="+encodeURIComponent(this.Qc.value)+"&psq=0")},b),g?(d.le='我们找到了一个也许是你想问的问题，<a href="'+e+'">查看问题</a>',d.gc=3,d.name="duplicatedquestion",d.live=j,b.Mm.href=e,R(b.iq,m),R(b.Mm,j)):(d=new as,R(b.iq,j),R(b.Mm,m)),b.Un=d):(d=new as,b.Un=d,R(b.iq,j),R(b.Mm,m));b.Un||(b.Un=d);d=b.Un}1<
d.gc||(1>Gk(Ak(b.Qc.value).replace("？","?"))?(d.le="您还没有给问题添加问号",d.gc=3,d.name="noquestionmark"):1<Gk(c)&&(d.le="如果有多个问题，最好拆分一下",d.gc=1,d.name="multiquestionmark"));return d},a.cs=function(b){var b=Ak(b.Qc.value).replace(/？/g,"?"),b=Lk(b),c=new as;3>b?(c.gc=3,c.le="问题字数太少了吧",c.name="tooshort"):40<b&&50>=b?(c.gc=1,c.le='还可以输入 <span class="warning">'+(50-b)+"</span> 字",c.name="buffer"):50<b&&(c.gc=3,c.le='已超出 <span class="error">'+(b-50)+"</span> 字",c.name="toolong");return c};
t.YF=function(){var b=m;1>this.Na.data.length?(b=j,this.Uz.innerHTML="至少添加一个话题"):5<this.Na.data.length&&(b=j,this.Uz.innerHTML="最多添加五个话题");R(this.Uz,b);Zr(this,b,"topic")};
a.es=function(b){var b=b.xb,c=Ma(b.If());return b.isContentEditable()?c:Pa(c)},a.$r=function(b){var c=new Kk,d=[],e=[];c.add("question_title",b.Qc.value);c.add("question_detail",es(b));b.Rm&&c.add("anon",b.Rm.checked?"1":"0");z.forEach(b.Na.data,function(b){b[3]?d.push(b[3]):e.push(b[1])});c.add("topic_ids",d.join(","));c.add("new_topics",e.join("$"));jh&&c.add("uid",jh[3]);b.Rm.checked||c.add("share_sina",Number(b.uc.ve()));return c};t.zP=function(){this.xb&&Ur(this.xb)};
a.as=function(){this.gc=isNaN(i)?0:i;this.le=""};a.fs=function(b){T.call(this);this.options=$.extend({stopPropagation:j,QJ:"#000",Eu:0.5,CK:"#666",RB:0.2,top:2,width:6,right:2,LJ:j},b);this.dy=0;this.Qq=m};y(fs,T);t=fs.prototype;
t.ca=function(b){this.g=b;this.J=$(this.g);this.J.addClass("zh-scroller").css({position:"relative",overflow:"hidden"}).wrapInner('<div class="zh-scroller-content"></div>');this.J.wrapInner('<div class="zh-scroller-inner"></div>');this.J.append("<div class='zh-scroller-bar-container'><div>");this.J.append('<div class="zh-scroller-bar"></div>');this.Zd=this.J.children(".zh-scroller-inner");this.nk=this.J.children(".zh-scroller-bar-container");this.Xd=this.J.children(".zh-scroller-bar");this.He=this.Zd.children(".zh-scroller-content");
this.bq=this.Xd[0];this.RN=this.Zd[0];this.content=this.He[0];this.cq=this.nk[0];this.Zd.css({height:"100%",width:"150%",overflow:"auto"});this.Xd.css({position:"absolute",right:this.options.right,top:this.options.top,opacity:this.options.Eu,background:this.options.QJ,width:this.options.width,"border-radius":3,cursor:"default"});this.nk.css({position:"absolute",right:this.options.right-1,top:0,height:"100%",width:this.options.width,background:this.options.CK,border:"1px solid #444",opacity:0,cursor:"default",
"border-radius":"2px"});this.gi(this.bq,m);this.gi(this.cq,m);this.update()};t.B=function(){fs.n.B.call(this);this.Zz=new Tn(this.qy,50,this);this.options.stopPropagation&&this.Zd.bind("mousewheel DOMMouseScroll",function(b){var c=k;"mousewheel"===b.type?c=-1*b.originalEvent.wheelDelta:"DOMMouseScroll"===b.type&&(c=40*b.originalEvent.detail);c&&(b.preventDefault(),$(this).scrollTop(c+$(this).scrollTop()))})};
t.enter=function(){this.Jv||(this.h().e(this.RN,"scroll",function(){this.Zz.fire()}),A||(this.h().e(this.cq,"click",this.lP),this.h().e(document,"mousedown",this.TP),this.h().e(document,"mouseup",this.VP),this.h().e(document,"mousemove",this.UP)),this.options.LJ?(this.vc=new Id(200),this.h().e(this.vc,Jd,function(){2===this.dy||1===this.dy?(gs(this),this.To&&this.nk.css({opacity:this.options.RB})):!this.Qq&&!this.Fm&&(hs(this,1E3),this.nk.css({opacity:0}))})):(this.Xd.css({opacity:this.options.Eu}),
this.nk.css({opacity:this.options.RB})),this.vc&&this.vc.start(),hs(this),this.Jv=j)};t.TP=function(b){b.target===this.bq&&(this.Qq=j,this.RJ=b.clientY,this.SJ=parseInt(this.Xd.css("top"),10));(b.target===this.bq||b.target===this.cq)&&this.gi(document.body,m)};t.VP=function(){this.Qq=m;this.gi(document.body,j)};t.UP=function(b){if(this.Qq){var c=is(this,this.SJ+(b.clientY-this.RJ));this.Zd.scrollTop(c)}this.dy=b.target===this.bq?2:b.target===this.cq?1:0};
a.gs=function(b){b.To&&(b.Xd.stop().css({opacity:b.options.Eu}).show(),b.Fm&&(clearTimeout(b.Fm),b.Fm=m))},a.hs=function(b,c){b.Fm=setTimeout(v(function(){this.Xd.stop().fadeOut();this.Fm=m},b),c||0)};t.qy=function(){var b=this.Zd.scrollTop(),c=this.He.height(),d=this.Zd.height(),e=b/c*(d-2*this.options.top);gs(this);this.Xd.css({top:e+this.options.top});this.dispatchEvent(new js(this,b,c-b-d,b/(c-d)))};
t.update=function(){var b=this.pl(this.Zd).height,c=this.pl(this.He).height;b>=c?(this.To=m,this.Xd.hide()):(this.To=j,this.Xd.show());this.Xd.css({height:b/c*(b-2*this.options.top)});this.nk.css({height:b-2});this.He.css({overflow:"hidden",width:this.J.width(),"min-height":"100%"});return this};
t.pl=function(b){var c={height:b.height(),width:b.width()};if(!c.height){var d=b.css("display"),e=b.css("position"),g=b.css("visibility");b.css({position:"absolute",display:"block",visibility:"hidden"});c={height:b.height(),width:b.width()};b.css({position:e,display:d,visibility:g})}return c};t.lP=function(b){this.scrollTo(is(this,b.offsetY-this.Xd.height()/2))};a.is=function(b,c){var d=b.Zd.height()-2*b.options.top-b.Xd.height(),e=b.He.height()-b.Zd.height();return c/d*e};
t.scrollTop=function(b){this.To&&(b=b||200,gs(this),this.Zd.stop().animate({scrollTop:0},b));return this};t.gi=function(b,c){ug(b,!c)};t.scrollTo=function(b){this.To&&(gs(this),this.Zd.stop().animate({scrollTop:b},200));return this};a.js=function(b,c,d,e){gd.call(this,"scroll",b);this.scrollTop=c;this.cY=d;this.dY=e};y(js,gd);a.ks=function(b){T.call(this);this.F=$.extend({},this.defaults,b||{})};y(ks,T);ks.prototype.defaults={xF:".tab-nav",iG:".tab-panel",wk:"active"};ks.prototype.ca=function(b){if(b){this.g=b;var c=this,d=this.F;this.tk=$(d.xF,b);this.BA=$(d.iG,b);this.lj=this.tk.index("."+d.wk);this.tk.on("click",function(){c.select(c.tk.index(this))});this.tk.attr("role","tab").parent().attr("role","tablist")}};
ks.prototype.select=function(b){if(!(0>b||b>this.tk.size()))if(this.dispatchEvent({type:"action",data:{index:b}}),b!==this.lj){this.lj=b;var c=this.F;this.tk.eq(b).addClass(c.wk).attr("aria-selected","true").siblings().removeClass(c.wk).attr("aria-selected","false");c=this.BA.eq(b);this.BA.not(c.show()).hide();this.dispatchEvent({type:"select",data:{index:b}})}};ks.prototype.index=p("lj");a.ls=function(){N.call(this);this.zf=[0,0,0];this.FF=[0,0,0];this.types=["default","follow","vote_thank"];this.Fv=j;this.Le=[m,m,m];this.nl=[0,0,0];this.lm=[m,m,m]};y(ls,Yk);t=ls.prototype;
t.z=function(){this.Og=J("zh-top-nav-live-new");this.CA=$(this.Og);this.fp=J("zh-top-nav-count-wrap");this.Wm=L("span",{id:"zh-top-nav-count",className:"zu-top-nav-count zg-noti-number",style:"display:none"});this.contents=Vb("zm-noti7-content",this.Og);this.HO=Vb("zm-noti7-popup-refresh",this.Og);this.VB=Vb("zm-noti7-content-body",this.Og);this.fp.appendChild(this.Wm);this.h().e(this.fp,"click",this.BH).e(this.fp,"keypress",function(b){32===b.keyCode&&(b.preventDefault(),this.BH())});this.h().e(Y,
"noti7",this.SM);this.h().e(this.Og,"click",this.ra);this.h().e(this.Og,"click",function(b){b=b.target;b.href&&/group_id=/.test(b.href+"")&&$(b).parent(".unread").removeClass("unread")});var b=K("zm-noti7-popup-tab-container");this.zF=Vb("new-noti",b);this.Yg=new ks({xF:".zm-noti7-popup-tab-item",iG:".zm-noti7-content",wk:"current"});this.h().e(this.Yg,"action",function(b){this.hC=b=b.data.index;ms(this,b);var d=this.bm&&this.bm[b];d&&(setTimeout(function(){d.update()}),this.Yg.index()===b&&d.scrollTop())}).e(this.Yg,
"select",function(b){this.hC=b=b.data.index;ns(this,b);Y.Z({type:"ga_click_top_nav_noti_tab",data:{Yg:+b}});this.kc||$i.Td("noti7-tab",b)});this.Yg.o(this.Og);!dh.sc&&navigator.userAgent.match(/iPad/i)==k&&(this.bm=z.map(this.contents,function(b){var d=new fs;d.o(b);return d}));dh.sc&&(this.Fv=m);this.Pl=J("zh-top-nav-pm-count");this.Pl||(this.Pl=L("span"));this.Il=J("zh-top-nav-new-pm");this.Il||(this.Il=L("span"));this.Cn=parseInt($(this.Il).attr("data-count")||$(this.Pl).attr("data-count"),10)||
0;this.VE=J("zh-top-nav-count-wrap");this.VE.innerHTML&&(this.count=+this.VE.innerHTML);this.h().e(Y,"inbox",this.EM)};t.pr=function(b){!sc(this.Og,b.target)&&!sc(this.fp,b.target)&&os(this,m)};a.ns=function(b,c){b.bm&&z.forEach(b.bm,function(b,e){c===e?b.enter():b.Jv&&(b.h().removeAll(),b.vc&&b.vc.stop(),b.Jv=m)})};t.ra=function(b){var c=b.target;c&&c.name&&"set"===c.name&&this.JX(b)};
t.SM=function(b){this.FF=this.zf;this.zf=b.tc;this.kc=this.zf[0]+this.zf[1]+this.zf[2];R(this.Wm,!!this.kc);this.Wm.innerHTML=99<this.kc?"99+":this.kc;z.forEach(this.zf,function(b,d){R(this.zF[d],b);b&&(this.Le[d]=m);this.Fv&&0<b-this.FF[d]&&this.ml(d)},this);ps(this)};
a.ps=function(b){var c=99<b.kc?"99+":b.kc,d=99<b.Cn?"99+":b.Cn;window.document.title=(c||d?"("+(b.Cn?d+" 封私信":"")+(b.kc&&b.Cn?" / ":"")+(b.kc?c+" 条消息":"")+") ":"")+window.document.title.replace(/^(\(|\uff08)(\d)*(\+)?( )?(\u5c01\u79c1\u4fe1)?( \/ )?(\d)*(\+)?( )?(\u6761\u6d88\u606f)?(\)|\uff09)( )?/g,"")};
t.BH=function(){if(dh.sc&&this.visible)os(this,m);else if(this.visible&&!this.kc)os(this,m);else{os(this,j);var b;!this.jv&&!this.kc?(b=(b=$i.get("noti7-tab"))?Number(b):0,this.Yg.select(b),this.lm[b]=j):this.kc&&(b=z.Wv(this.zf,of),b=-1===b?0:b,this.Yg.select(b),this.lm[b]=j);Y.Z({type:"ga_click_top_nav_noti",data:{Yg:this.hC,NH:+(this.kc||0)}})}ps(this)};
a.qs=function(b,c){b.kc-=b.zf[c];R(b.zF[c],m);0>b.kc&&(b.kc=0);R(b.Wm,!!b.kc);b.Wm.innerHTML=b.kc},a.ms=function(b,c){var d;b.Fv?b.visible&&(b.Le[c]?("$$used$$"!==b.Le[c]&&(b.VB[c].innerHTML=b.Le[c],b.Le[c]="$$used$$"),b.zf[c]&&(d=new V(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST")),qs(b,c),b.bm&&b.bm[c].update().scrollTop(),b.kc||$i.Td("noti7-tab",c)):(b.lm[c]=j,b.ml(c))):b.Le[c]?("$$used$$"!==b.Le[c]&&(b.VB[c].innerHTML=b.Le[c],b.Le[c]="$$used$$"),b.zf[c]&&(d=new V(m),d.ajax("/noti7/readall",
"tab="+b.types[c],"POST")),qs(b,c)):(b.lm[c]=j,b.ml(c),d=new V(m),d.ajax("/noti7/readall","tab="+b.types[c],"POST"))},a.os=function(b,c){c?b.CA.fadeIn(50):b.CA.fadeOut(50);b.visible=c;E.enable(b.fp,"open",b.visible);c?(b.Og.focus(),z.forEach(b.Le,function(b,c){b||this.ml(c)},b),b.h().e(document,"click",b.pr)):b.h().Da(document,"click",b.pr);ns(b,-1)};
t.ml=function(b){if(!this.nl[b]||!this.nl[b].Wb())this.nl[b]=new V(m),this.h().e(this.nl[b],"success",function(c){this.py(c,b)}),this.nl[b].ajax("/noti7/stack/"+this.types[b]+"?r="+za(),"","GET")};
t.py=function(b,c){$(this.HO[c]).hide();var d=Ie(this.nl[c]);if(d)if(d.r)U(d.msg);else{this.jv=j;if(d=d.msg)1===c&&(d='<div class="zm-noti7-content-head-item"><span class="zg-gray-normal">这些人最近关注了你</span></div>'+d);else switch(c){case 0:d="<div class='zm-noti7-popup-empty'>暂无新消息</div>";break;case 1:d="<div class='zm-noti7-popup-empty'>有人关注你时会显示在这里</div>";break;case 2:d="<div class='zm-noti7-popup-empty'>你的答案收到赞同、感谢时会显示在这里</div>"}this.Le[c]=d;this.lm[c]&&(ms(this,c),this.lm[c]=m)}};
t.EM=function(b){this.Cn=b=$.isNumeric(b)?b:b.tc;0!==b?(this.Il.innerHTML=this.Pl.innerHTML=b,this.Il.style.visibility=this.Pl.style.visibility="visible"):this.Il.style.visibility=this.Pl.style.visibility="hidden";ps(this)};a.rs=function(b){T.call(this);$.extend(this.F={},this.defaults,b||{})};y(rs,T);t=rs.prototype;t.defaults={trigger:"hover",bG:"open",hideFocus:m};t.nc=function(){return this.hg.length&&this.yc.length};t.o=function(b){if(b){var c=$(b),d=c.prev();this.hg=c;this.yc=d;this.$parent=c.parent();rs.n.o.call(this,b);return this}};t.toggle=function(){this.nb()?this.close():this.open()};t.nb=function(){return this.hg.is(":visible")};
t.open=function(){this.hg.attr("aria-hidden","false").parent().addClass(this.F.bG);this.yc.attr("aria-expanded","true")};t.close=function(){this.hg.attr("aria-hidden","true").parent().removeClass(this.F.bG);this.yc.attr("aria-expanded","false")};a.ss=function(b,c){var d=b.hg.children().find("a"),e=d.size();c>=e?c=0:-1>=c&&(c=e-1);d=d.eq(c);b.yc.attr("aria-activedescendant",d.attr("id"));d.focus();b.index=c};
t.rP=function(b){var c=b.keyCode;switch(c){case 32:b.preventDefault();this.toggle();break;case 27:case 9:this.close();break;case 38:case 40:ss(this,38===c?-1:0)}};t.PP=function(b){var c=b.keyCode;switch(c){case 27:case 9:this.close();this.yc.focus();break;case 38:case 40:b.preventDefault(),ss(this,this.index+(38===c?-1:1))}};
t.B=function(){var b=this,c=this.F,d=this.hg,e=this.yc,g=e.attr("id");g||(g=Ih(Hh.O()),e.attr("id",g),d.attr("aria-labelledby",g));e.attr("role")||e.attr("role","button");this.yc.attr("aria-haspopup","true").attr("aria-activedescendant","");this.hg.children().find("a").attr("tabindex",-1).attr("id",v(function(b,c){return c||Ih(Hh.O())},this));this.hg.on("keydown",v(this.PP,this));this.yc.on("keydown",v(this.rP,this));d=Tg?"click":c.trigger;if("hover"===d)this.$parent.on("hover",v(function(b){"mouseenter"===
b.type?this.open():this.close()},this));else if("click"===d)this.yc.on("click",v(function(b){b.preventDefault();this.toggle();this.yc.focus()},this));this.$parent.on("focusout",function(){setTimeout(function(){b.$parent.get(0).contains(document.activeElement)||b.close()})});if(c.hideFocus)this.hg.children().find("a").on("click",function(){this.blur()})};a.ts=function(){var b={warning:"您的知乎用户名 "+S.gw+' 不符合 <a href="http://www.zhihu.com/question/19791408">知乎用户名规范</a>，请您 <a href="/settings/account#rename-section">修改</a>。',pending:"您提交的用户名修改正在审核中，帐号暂时锁定。"},c=oh,d=nh,e=m;c?(U(c,4E3),e=j):d&&(b[d]&&U(b[d],4E3),e=j);return e};a.us=function(){N.call(this)};y(us,Yk);t=us.prototype;
t.$M=function(b){var c=this.T.$i(),d=this.T.M.wl,e=z.slice(c,1),g=k;"topic"===c[0]?(g="/topic/"+e[1],g=vs(this,g)):"people"===c[0]?(g="/people/"+e[1],g=vs(this,g)):"question"===c[0]?(g="/question/"+e[2],g=vs(this,g)):"search_link"===c[0]&&(g="/search?q="+encodeURI(e[0])+"&type=question");g&&(Ok(["/search?q="+encodeURI(this.T.Pb)+"&type1="+("search_link"===c[0]?"autocomplete_"+c[0]:"autocomplete")]),Y.Z({type:"ga_serach_select",data:{type:c[0],index:d}}),Of.set("s-q",encodeURI(this.T.Pb),-1,"/"),Of.set("s-i",
d+1,-1,"/"),Of.set("sid",Xk(),-1,"/"),Of.set("s-t","autocomplete",-1,"/"),c=window.top,this.metaKey||this.Yx?c.open(g):c.location.href=g);b.stopPropagation();b.preventDefault()};
a.vs=function(b,c){if(!b.metaKey)try{$i.set("query",b.T.Pb)}catch(d){c+="?q="+encodeURIComponent(b.T.Pb)}return c},a.ws=function(b,c){if(sb&&c.length&&c.children("ul").length){var d=function(d){d=d.target;!c[0].contains(d)&&!d.contains(b[0])&&e()},e=function(){b.parent().removeClass("open");c.hide();$(document.body).off("mousedown",d)};b.click(function(g){g.preventDefault();c.is(":visible")?e():(b.parent().addClass("open"),c.show(),$(document.body).mousedown(d))}).attr("href","javascript:;");c.find(".slide-up").click(e)}};
t.z=function(){$i.get("__Q_ISNEWLYCREATED__")&&($i.remove("__Q_ISNEWLYCREATED__"),fh&&(fh.DE=j));var b=(new wf(location)).dd().get("q");b?b=decodeURIComponent(b):(b=$i.get("query"),$i.remove("query"));if(S.ua())(new ls).z();else $("#zh-top-inner").on("click",'a[href="/topic"]',function(){qn(new on("top_nav_topics"),m);return m}).on("click",".js-signin-noauth",function(){qn(new on("top_nav_sign_in"),m);return m}).on("click",".js-signup-noauth",function(){qn(new on("top_nav_sign_up"),j)});if(this.Rq=
J("zh-top-search")){var c=J("zu-top-add-question");this.h().e(c,"click",sn(this.rt,{ua:"top_nav_ask",lg:j}));this.pW=c;if(Og||!sb)(new rs({hideFocus:j})).o($("#top-nav-profile-dropdown").get(0));else{var c=$("#top-nav-dd-topic"),d=$("#mobile-top-nav-topic-popup");ws(c,d);Vg&&$("img",d).each(function(){var b=$(this).data("2x");b&&(this.src=b)});ws($("#js-top-nav-link-profile"),$("#mobile-top-nav-profile-popup"))}this.h().e(Y,"query_string_change",this.rt);this.dE=K("icon-magnify-q",this.Rq);var e=
this.td=K("zu-top-search-input",this.Rq);b&&(e.value=b);vk(wk.register("/",function(){setTimeout(function(){e.focus()});Fk(e,k,500)}),{group:"导航",name:"搜索"});b=new No;this.T=new Oo("/autocomplete",this.td,k,k,this.Rq,k,["搜索话题、问题或人..."],k,b);this.T.Dm=m;this.T.hi(j);this.h().e(this.T,"select",this.$M);this.h().e(this.td,"keydown",function(b){13===b.keyCode&&(this.td.value&&"show me the money"!==this.td.value&&!/^ +$/.test(this.td.value))&&(b=(new jj(location.href.match(we)[6]||k)).get("type"),(window.parent||
window).location.href="/search?q="+encodeURIComponent(this.td.value)+"&type="+(b||"question"))});this.h().e(this.T,tm.gh.wi,this.ou);var g=v(function(){this.T.vC=!(this.metaKey||this.Yx)},this);this.h().e(document,"keydown",function(b){b.metaKey&&(this.metaKey=j,g())});this.h().e(document,"keyup",function(b){if(91===b.keyCode||224===b.keyCode)this.metaKey=m,g()});this.h().e(document,"mouseup",function(b){md(b,1)&&(this.Yx=j,g(),setTimeout(v(function(){this.Yx=m;g()},this),0))});this.h().e(this.td,
["keyup","focus"],this.AH);this.h().e(this.td,"blur",this.AH);this.h().e(this.td,"mousedown",function(b){b.stopPropagation();return j})}};t.AH=function(){this.td.value?E.add(this.dE,"icon-magnify-active"):E.remove(this.dE,"icon-magnify-active")};
t.ou=function(){var b=this.T.cb,c=this.T.M.Xf;if(b&&0!==b.length){if(1===b.length){var d=L("div",{className:"zu-autocomplete-empty"},"没有找到相关的结果");jc(d,c[0]);M(c[0])}z.forEach(b,function(d,g){if(0===g||d[0]!==b[g-1][0]){var h=c[g],l={people:"用户",topic:"话题",question:"问题"}[d[0]];l&&(l=L("div",{className:"zu-autocomplete-row-label"},l),jc(l,h),this.h().e(this.T,tm.gh.wi,Vk))}},this)}};t.rt=function(){if(!ts()){var b=Vr.O();b.show();this.td.value&&this.td.value!==this.td.title&&Yr(b,this.td.value)}};a.xs=function(){T.call(this)};y(xs,T);a.ys=new xs;ys.o(document);a.zs=function(){T.call(this)};y(zs,T);a.As=function(b){ya(this,b)},a.Bs=function(b){this.sF=b;this.J=$("<li>");this.ku()},a.Cs=function(b){this.wK=b;this.J=$("<ul>")};zs.prototype.B=function(){zs.n.B.call(this);this.uR()};zs.prototype.uR=function(){var b=this.g;$.get("/trending").done(function(c){var d=$.map(c,As.KK);b.appendChild((new Cs(d)).W().J.get(0));0<c.length&&E.remove(b.parentNode,"hidden")})};
As.KK=function(b){var c={"0":"fullname",1:"url_token",2:"avatar",3:"id",4:"headline",5:"reason",6:"type"},b=z.reduce(b,function(b,e,g){b[c[g]]=e;return b},{});return new As(b)};Bs.prototype.template=Qk('<a href="#" data-tip="s$r$不感兴趣" class="del"><i class="icon icon-ignore"></i></a><a data-tip="p$t$<%=url_token%>" href="/people/<%=url_token%>" class="avatar"><img src="<%=avatar%>"></a><div class="bd"><a href="/people/<%=url_token%>" data-tip="p$t$<%=url_token%>"><%=fullname%></a><div class="headline"><span title="<%-headline%>"><%-headline%></span></div><div class="ft"><span class="reason"><%=reason%></span> <span class="zg-bull">&bull;</span> <a class="zg-follow follow" href="#" id="sugg-<%=id%>">关注</a></div></div>');
Bs.prototype.ku=function(){var b=this.sF,c=this.J;c.on("click",".del",function(d){d.preventDefault();$.post("/un_trending",{id:b.id,type:b.type});c.remove()}).on("click",".follow",function(c){c.preventDefault();un(this,b.type,xa(Fk,this),k,{follow_text:"关注"})})};Bs.prototype.W=function(){this.J.html(this.template(this.sF));return this};Cs.prototype.W=function(){var b=this.J;$.each(this.wK,function(c,d){b.append((new Bs(d)).W().J)});return this};$(function(){var b=J("zh-trendings");b&&(new zs).o(b)});a.Fs=function(){window.console||(window.console={info:ha,log:ha,warning:ha,error:ha});ys.on(["click!","show!","visit!"],uj);Hd=window;sb=dh.sc;$.ajaxPrefilter(function(b,c){var d,e;if(c.processData!==m&&"get"!==b.type&&(e=Of.get("_xsrf")))d=c.data||{},"string"===$.type(d)?Xa(d,"_xsrf=")||(d+="&_xsrf="+e):(d._xsrf=e,d=$.param(d)),b.data=d});(new us).z();Li.dispatchEvent("init");$(function(){Li.dispatchEvent("postinit")});S.ua()?(Ii.push({ET:"json",filter:function(b){(b=b.profile_result)&&$(b).css("border-top",
"1px solid #eee").appendTo(document.body)}}),dh.sc&&($.fx.off=j),$(function(){(new Wn).z()})):$("body").addClass("no-auth");Xa(location.host,"zhihu.com")||(Cg=j);$(document.body).children("div.zu-main").attr("role",Vc.BI);document.addEventListener&&document.addEventListener("touchstart",ha,m);$(Ds);$(Es)},a.Es=function(){X.z()},a.Ds=function(){(new Un).z();(new Uo).z();var b=$("#rq3-sidenav-link"),c=$(".tour",b);c.length&&$(".close-button",c).click(function(){var b=$(this).data("feature");$.get("/notifeature",
{feature:b});c.fadeOut(100,function(){c.remove()})});b=new Vn;window.console&&console.info&&console.info(b.FJ+"\n\n"+b.link)},a.Gs=function(b,c){c=c||3E3;if(b){var d=J("zh-message-container");d&&(d.innerHTML=b[1],E.set(d,b[0]?"zg-error-message":"zg-info-message"),R(d,j),0<c&&$(d).delay(c).fadeOut())}},a.Mk=function(){if(window.console){var b=z.toArray(arguments);b.unshift("["+(new Date).toLocaleTimeString()+"]:\t");console.log.apply?console.log.apply(console,b):console.log(b[0],b.slice(1).join(","))}},
a.Hs=yf.O(),a.Is=new Ve;Is.oC=m;Hs.Px=Is;a.Js=fa.PLOVR_MODULE_INFO,a.Ks=void 0;for(Ks in Js)Hs.gd[Ks]=new uf(Js[Ks],Ks);Hs.kC==Hs.dq&&(Hs.kC=k,Hs.dq.ro(v(Hs.pD,Hs))&&Gf(Hs,Hf));a.Ls=fa.PLOVR_MODULE_URIS,a.Ms=void 0;for(Ms in Ls)Hs.gd[Ms].dg=Ls[Ms];Jf("app_core");Fs();a.Ns=function(b,c){return!c.length?b:Ns(b[c.shift()],c)};$(function(){window.znonce&&window.znonce.evalScripts();var b=$('meta[name="entry"]').attr("content"),b=b&&Ns(window,b.split("."));$.isFunction(b)&&b()});Ca("ZH.main",Fs);
Ca("ZH.setGlobalInfoMessage",function(b){Y&&b&&En(b)});Ca("ZH.cm",function(b,c){Y.dispatchEvent(new mn(b,c))});Ca("ZH.m",Gs);Ca("ZH.i",function(b){Y.dispatchEvent(new mn(Wl,b))});}})(zhihu);